!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r,n=e();for(r in n)("object"==typeof exports?exports:t)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return r=[function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.8.9",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(j,e,t){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var r=t(0),n=(Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),t(4)),i=(Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),t(7)),o=(Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return k(i).default}}),t(63)),a=(Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return k(o).default}}),t(107)),s=(Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return k(a).default}}),t(30)),u=(Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return k(s).default}}),t(109)),l=(Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return k(u).default}}),t(108)),h=(Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return k(l).default}}),t(65)),c=(Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return k(h).default}}),t(67)),d=(Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return k(c).default}}),t(238)),f=(Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return k(d).default}}),t(37)),p=(Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return k(f).default}}),t(241)),y=(Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return k(p).default}}),t(256)),_=(Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return k(y).default}}),t(123)),v=(Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return k(_).default}}),t(124)),g=(Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return k(v).default}}),t(258)),m=(Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return k(g).default}}),t(125)),b=(Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return k(m).default}}),t(260)),x=(Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return k(b).default}}),t(267)),T=(Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return k(x).default}}),t(268)),w=(Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return k(T).default}}),t(14)),E=(Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return k(w).default}}),t(121)),S=(Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return k(E).default}}),t(22)),O=(Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return k(S).default}}),t(73)),A=(Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return k(O).default}}),t(116)),P=(Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return k(A).default}}),t(113)),M=(Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return k(P).default}}),t(114)),I=(Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return k(M).default}}),t(117)),C=(Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return k(I).default}}),t(33)),R=(Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return k(C).default}}),t(32)),D=(Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return k(R).default}}),t(38)),N=(Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return k(D).default}}),t(41)),F=(Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return k(N).default}}),t(122)),B=(Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return k(F).default}}),t(119)),U=(Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return k(B).default}}),t(120)),X=(Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return k(U).default}}),t(126)),z=(Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return k(X).default}}),t(127));Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return z.autoDetectRenderer}});var G=L(t(2)),H=L(t(72)),W=k(t(3)),V=k(t(31)),t=k(t(39));function L(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}e.settings=W.default,e.utils=G,e.ticker=H,e.CanvasRenderer=V.default,e.WebGLRenderer=t.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++f},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){t=i.default.RETINA_PREFIX.exec(t);if(t)return parseFloat(t[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){t=n.DATA_URI.exec(t);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]};return},e.getUrlFileExtension=function(t){t=n.URL_FILE_EXTENSION.exec(t);if(t)return t[1].toLowerCase();return},e.getSvgSize=function(t){var t=n.SVG_SIZE.exec(t),e={};t&&(e[t[1]]=Math.round(parseFloat(t[3])),e[t[5]]=Math.round(parseFloat(t[7])));return e},e.skipHello=function(){p=!0},e.sayHello=function(t){var e;p||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],window.console.log.apply(console,e)):window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/"),p=!0)},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{var e,r,n,i;return window.WebGLRenderingContext?(e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil),r&&(i=r.getExtension("WEBGL_lose_context"))&&i.loseContext(),r=null,n):!1}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in _)_[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in _)delete _[t]},e.correctBlendMode=function(t,e){return v[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;return(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+((255&t)*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,!n&&void 0!==n||(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(0),i=d(r(3)),o=d(r(19)),a=d(r(217)),s=c(r(218)),u=c(r(64)),l=d(r(219)),h=d(r(220)),r=d(r(66));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var f=0,p=!1;e.isMobile=u,e.removeItems=l.default,e.EventEmitter=o.default,e.pluginTarget=a.default,e.mixins=s,e.earcut=r.default;var y=e.TextureCache=Object.create(null),_=e.BaseTextureCache=Object.create(null);var v=e.premultiplyBlendMode=(0,h.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(215)),r=i(r(216));function i(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,r.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(59),i=(Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return d(n).default}}),r(96)),o=(Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return d(i).default}}),r(60)),a=(Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return d(o).default}}),r(97)),s=(Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return d(a).default}}),r(205)),u=(Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return d(s).default}}),r(206)),l=(Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return d(u).default}}),r(207)),h=(Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return d(l).default}}),r(61)),c=(Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return d(h).default}}),r(208));function d(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return d(c).default}})},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e,r){var n=r(84)("wks"),i=r(53),o=r(5).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=n},function(t,e,r){r={createContext:r(209),setVertexAttribArrays:r(98),GLBuffer:r(210),GLFramebuffer:r(211),GLShader:r(212),GLTexture:r(99),VertexArrayObject:r(213),shader:r(214)};void 0!==t&&t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},function(t,e,r){function y(t,e,r){var n,i,o,a=t&y.F,s=t&y.G,u=t&y.S,l=t&y.P,h=t&y.B,c=t&y.W,d=s?v:v[e]||(v[e]={}),f=d[x],p=s?_:u?_[e]:(_[e]||{})[x];for(n in r=s?e:r)(i=!a&&p&&void 0!==p[n])&&b(d,n)||(o=(i?p:r)[n],d[n]=s&&"function"!=typeof p[n]?r[n]:h&&i?g(o,_):c&&p[n]==o?function(n){function t(t,e,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,r)}return n.apply(this,arguments)}return t[x]=n[x],t}(o):l&&"function"==typeof o?g(Function.call,o):o,l&&((d.virtual||(d.virtual={}))[n]=o,t&y.R)&&f&&!f[n]&&m(f,n,o))}var _=r(5),v=r(8),g=r(15),m=r(16),b=r(25),x="prototype";y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128,t.exports=y},function(t,l,e){!function(i){function o(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function a(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}l.resolve=function(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:i.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},l.normalize=function(t){var e=l.isAbsolute(t),r="/"===n(t,-1);return(t=(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e?t:".")&&r&&(t+="/"),(e?"/":"")+t},l.isAbsolute=function(t){return"/"===t.charAt(0)},l.join=function(){var t=Array.prototype.slice.call(arguments,0);return l.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},l.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=l.resolve(t).substr(1),e=l.resolve(e).substr(1);for(var n=r(t.split("/")),i=r(e.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}for(var u=[],s=a;s<n.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=47===t.charCodeAt(0),r=-1,n=!0,i=t.length-1;1<=i;--i)if(47===t.charCodeAt(i)){if(!n){r=i;break}}else n=!1;return-1===r?e?"/":".":e&&1===r?"/":t.slice(0,r)},l.basename=function(t,e){t=function(t){"string"!=typeof t&&(t+="");for(var e=0,r=-1,n=!0,i=t.length-1;0<=i;--i)if(47===t.charCodeAt(i)){if(!n){e=i+1;break}}else-1===r&&(n=!1,r=i+1);return-1===r?"":t.slice(e,r)}(t);return t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t},l.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;0<=a;--a){var s=t.charCodeAt(a);if(47===s){if(i)continue;r=a+1;break}-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var n="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}.call(l,e(40))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(17),i=r(156),o=r(157),a=Object.defineProperty;e.f=r(12)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=u(r(22)),a=u(r(113)),l=u(r(114)),s=u(r(19)),h=r(4),c=r(2),d=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}r=function(s){var t=u,e=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function u(t,e,r,n,i,o){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var a=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,s.call(this));if(a.noFrame=!1,e||(a.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof u&&(t=t.baseTexture),a.baseTexture=t,a._frame=e,a.trim=n,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=r||e,a._rotate=Number(i||0),!0===i)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return t.hasLoaded?(a.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",a.onBaseTextureUpdated,a)),a.frame=e):t.once("loaded",a.onBaseTextureLoaded,a),a.defaultAnchor=o?new h.Point(o.x,o.y):new h.Point(0,0),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),u.prototype.update=function(){this.baseTexture.update()},u.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},u.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},u.prototype.destroy=function(t){this.baseTexture&&(t&&(c.TextureCache[this.baseTexture.imageUrl]&&u.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,u.removeFromCache(this),this.textureCacheIds=null},u.prototype.clone=function(){return new u(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},u.prototype._updateUvs=function(){this._uvs||(this._uvs=new l.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},u.fromImage=function(t,e,r,n){var i=c.TextureCache[t];return i||(i=new u(o.default.fromImage(t,e,r,n)),u.addToCache(i,t)),i},u.fromFrame=function(t){var e=c.TextureCache[t];if(e)return e;throw new Error('The frameId "'+t+'" does not exist in the texture cache')},u.fromCanvas=function(t,e){return new u(o.default.fromCanvas(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas"))},u.fromVideo=function(t,e,r,n){return"string"==typeof t?u.fromVideoUrl(t,e,r,n):new u(a.default.fromVideo(t,e,n))},u.fromVideoUrl=function(t,e,r,n){return new u(a.default.fromUrl(t,e,r,n))},u.from=function(t){return"string"==typeof t?c.TextureCache[t]||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?u.fromVideoUrl(t):u.fromImage(t)):t instanceof HTMLImageElement?new u(o.default.from(t)):t instanceof HTMLCanvasElement?u.fromCanvas(t,d.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?u.fromVideo(t):t instanceof o.default?new u(t):t},u.fromLoader=function(t,e,r){var t=new o.default(t,void 0,(0,c.getResolutionOfUrl)(e)),n=new u(t);return t.imageUrl=e,o.default.addToCache(n.baseTexture,r=r||e),u.addToCache(n,r),r!==e&&(o.default.addToCache(n.baseTexture,e),u.addToCache(n,e)),n},u.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),c.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),c.TextureCache[e]=t)},u.removeFromCache=function(t){if("string"==typeof t){var e,r=c.TextureCache[t];if(r)return-1<(e=r.textureCacheIds.indexOf(t))&&r.textureCacheIds.splice(e,1),delete c.TextureCache[t],r}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)c.TextureCache[t.textureCacheIds[n]]===t&&delete c.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(u,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a)throw e="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,r="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height,new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+(o&&a?"and":"or")+" "+r);this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),u}(s.default);function f(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}(e.default=r).EMPTY=new r(new o.default),f(r.EMPTY),f(r.EMPTY.baseTexture),r.WHITE=((s=document.createElement("canvas")).width=10,s.height=10,(e=s.getContext("2d")).fillStyle="white",e.fillRect(0,0,10,10),new r(new o.default(s))),f(r.WHITE),f(r.WHITE.baseTexture)},function(t,e,r){var o=r(23);t.exports=function(n,i,t){if(o(n),void 0===i)return n;switch(t){case 1:return function(t){return n.call(i,t)};case 2:return function(t,e){return n.call(i,t,e)};case 3:return function(t,e,r){return n.call(i,t,e,r)}}return function(){return n.apply(i,arguments)}}},function(t,e,r){var n=r(13),i=r(81);t.exports=r(12)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(11);t.exports=function(t){if(n(t))return t;throw TypeError(t+" is not an object!")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,f="~";function u(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(f=!1)),o.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t,e){var t=f?f+t:t,r=this._events[t];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=new Array(i);n<i;n++)o[n]=r[n].fn;return o},o.prototype.emit=function(t,e,r,n,i,o){var a=f?f+t:t;if(!this._events[a])return!1;var s,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,i),!0;case 6:return u.fn.call(u.context,e,r,n,i,o),!0}for(d=1,s=new Array(l-1);d<l;d++)s[d-1]=arguments[d];u.fn.apply(u.context,s)}else for(var h,c=u.length,d=0;d<c;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,e);break;case 3:u[d].fn.call(u[d].context,e,r);break;case 4:u[d].fn.call(u[d].context,e,r,n);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];u[d].fn.apply(u[d].context,s)}return!0},o.prototype.on=function(t,e,r){e=new i(e,r||this),r=f?f+t:t;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],e]:this._events[r].push(e):(this._events[r]=e,this._eventsCount++),this},o.prototype.once=function(t,e,r){e=new i(e,r||this,!0),r=f?f+t:t;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],e]:this._events[r].push(e):(this._events[r]=e,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,n){t=f?f+t:t;if(this._events[t])if(e){var i=this._events[t];if(i.fn)i.fn!==e||n&&!i.once||r&&i.context!==r||(0==--this._eventsCount?this._events=new u:delete this._events[t]);else{for(var o=0,a=[],s=i.length;o<s;o++)(i[o].fn!==e||n&&!i[o].once||r&&i[o].context!==r)&&a.push(i[o]);a.length?this._events[t]=1===a.length?a[0]:a:0==--this._eventsCount?this._events=new u:delete this._events[t]}}else 0==--this._eventsCount?this._events=new u:delete this._events[t];return this},o.prototype.removeAllListeners=function(t){return t?(t=f?f+t:t,this._events[t]&&(0==--this._eventsCount?this._events=new u:delete this._events[t])):(this._events=new u,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=f,t.exports=o.EventEmitter=o},function(t,e,r){"use strict";e.__esModule=!0;var r=r(195),i=(r=r)&&r.__esModule?r:{default:r};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(t,n.key,n)}}e.default=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,y,_){"use strict";!function(t){y.__esModule=!0,y.loader=y.prepare=y.particles=y.mesh=y.loaders=y.interaction=y.filters=y.extras=y.extract=y.accessibility=void 0;var e=_(199),r=(Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(y,t,{enumerable:!0,get:function(){return e[t]}})}),_(1)),n=(Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(y,t,{enumerable:!0,get:function(){return r[t]}})}),_(269)),n=(n=n)&&n.__esModule?n:{default:n},i=f(_(270)),o=f(_(272)),a=f(_(129)),s=f(_(282)),u=f(_(289)),l=f(_(291)),h=f(_(295)),c=f(_(300)),d=f(_(305));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}r.utils.mixins.performMixins();var p=l.shared||null;y.accessibility=i,y.extract=o,y.extras=a,y.filters=s,y.interaction=u,y.loaders=l,y.mesh=h,y.particles=c,y.prepare=d,y.loader=p,"function"==typeof n.default&&(0,n.default)(y),t.PIXI=y}.call(y,_(29))},function(t,e,r){"use strict";e.__esModule=!0;var s=r(2),o=i(r(3)),n=i(r(19)),u=i(r(110)),l=i(r(71));function i(t){return t&&t.__esModule?t:{default:t}}r=function(i){var t=a,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(t,e,r){var n;if(this instanceof a)return(n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this))).uid=(0,s.uid)(),n.touched=0,n.resolution=r||o.default.RESOLUTION,n.width=100,n.height=100,n.realWidth=100,n.realHeight=100,n.scaleMode=void 0!==e?e:o.default.SCALE_MODE,n.hasLoaded=!1,n.isLoading=!1,n.source=null,n.origSource=null,n.imageType=null,n.sourceScale=1,n.premultipliedAlpha=!0,n.imageUrl=null,n.isPowerOfTwo=!1,n.mipmap=o.default.MIPMAP_TEXTURES,n.wrapMode=o.default.WRAP_MODE,n._glTextures={},n._enabled=0,n._virtalBoundId=-1,n._destroyed=!1,n.textureCacheIds=[],t&&n.loadSource(t),n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},a.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=l.default.isPow2(this.realWidth)&&l.default.isPow2(this.realHeight)},a.prototype.loadSource=function(t){var e,r=this.isLoading,n=(this.hasLoaded=!1,this.isLoading=!1,r&&this.source&&(this.source.onload=null,this.source.onerror=null),!this.source);((this.source=t).src&&t.complete||t.getContext)&&t.width&&t.height?(this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this)):t.getContext||(this.isLoading=!0,e=this,t.onload=function(){e._updateImageType(),t.onload=null,t.onerror=null,e.isLoading&&(e.isLoading=!1,e._sourceLoaded(),"svg"===e.imageType?e._loadSvgSource():e.emit("loaded",e))},t.onerror=function(){t.onload=null,t.onerror=null,e.isLoading&&(e.isLoading=!1,e.emit("error",e))},t.complete&&t.src&&(t.onload=null,t.onerror=null,"svg"===e.imageType?e._loadSvgSource():(this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),r&&this.emit("loaded",this)):r&&this.emit("error",this))))},a.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,s.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){t=t.subType.split("+")[0];if(!(e=(0,s.getUrlFileExtension)("."+t)))throw new Error("Invalid image type in data URI.")}else e=(e=(0,s.getUrlFileExtension)(this.imageUrl))||"png";this.imageType=e}},a.prototype._loadSvgSource=function(){var t;"svg"===this.imageType&&((t=(0,s.decomposeDataUri)(this.imageUrl))?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr())},a.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},a.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},a.prototype._loadSvgSourceUsingString=function(t){var t=(0,s.getSvgSize)(t),e=t.width,t=t.height;if(!e||!t)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(e*this.sourceScale),this.realHeight=Math.round(t*this.sourceScale),this._updateDimensions();var r=document.createElement("canvas");r.width=this.realWidth,r.height=this.realHeight,r._pixiId="canvas_"+(0,s.uid)(),r.getContext("2d").drawImage(this.source,0,0,e,t,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=r,a.addToCache(this,r._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},a.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},a.prototype.destroy=function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),a.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},a.prototype.dispose=function(){this.emit("dispose",this)},a.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},a.fromImage=function(t,e,r,n){var i,o=s.BaseTextureCache[t];return o||(i=new Image,void 0===e&&0!==t.indexOf("data:")?i.crossOrigin=(0,u.default)(t):e&&(i.crossOrigin="string"==typeof e?e:"anonymous"),(o=new a(i,r)).imageUrl=t,n&&(o.sourceScale=n),o.resolution=(0,s.getResolutionOfUrl)(t),i.src=t,a.addToCache(o,t)),o},a.fromCanvas=function(t,e){t._pixiId||(t._pixiId=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas")+"_"+(0,s.uid)());var r=s.BaseTextureCache[t._pixiId];return r||(r=new a(t,e),a.addToCache(r,t._pixiId)),r},a.from=function(t,e,r){var n,i;return"string"==typeof t?a.fromImage(t,void 0,e,r):t instanceof HTMLImageElement?(n=t.src,(i=s.BaseTextureCache[n])||((i=new a(t,e)).imageUrl=n,r&&(i.sourceScale=r),i.resolution=(0,s.getResolutionOfUrl)(n),a.addToCache(i,n)),i):t instanceof HTMLCanvasElement?a.fromCanvas(t,e):t},a.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),s.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),s.BaseTextureCache[e]=t)},a.removeFromCache=function(t){if("string"==typeof t){var e,r=s.BaseTextureCache[t];if(r)return-1<(e=r.textureCacheIds.indexOf(t))&&r.textureCacheIds.splice(e,1),delete s.BaseTextureCache[t],r}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete s.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},a}(n.default);e.default=r},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports={}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var c=r(15),d=r(168),f=r(169),p=r(17),y=r(51),_=r(170),v={},g={};(e=t.exports=function(t,e,r,n,i){var o,a,s,u,i=i?function(){return t}:_(t),l=c(r,n,e?2:1),h=0;if("function"!=typeof i)throw TypeError(t+" is not iterable!");if(f(i)){for(o=y(t.length);h<o;h++)if((u=e?l(p(a=t[h])[0],a[1]):l(t[h]))===v||u===g)return u}else for(s=i.call(t);!(a=s.next()).done;)if((u=d(s,l,a.value,e))===v||u===g)return u}).BREAK=v,e.RETURN=g},function(t,e){var r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(2),r=r(107);r=function(i){var t=r,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function r(){var t;if(this instanceof r)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this))).children=[],t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r.prototype.onChildrenChange=function(){},r.prototype.addChild=function(t){var e=arguments.length;if(1<e)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},r.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},r.prototype.swapChildren=function(t,e){var r,n;t!==e&&(r=this.getChildIndex(t),n=this.getChildIndex(e),this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n))},r.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},r.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},r.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},r.prototype.removeChild=function(t){var e=arguments.length;if(1<e)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},r.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},r.prototype.removeChildren=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],e="number"==typeof e?e:this.children.length,r=e-t,n=void 0;if(0<r&&r<=e){for(var n=this.children.splice(t,r),i=0;i<n.length;++i)n[i].parent=null,n[i].transform&&(n[i].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var o=0;o<n.length;++o)n[o].emit("removed",this);return n}if(0==r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},r.prototype._calculateBounds=function(){},r.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},r.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var n=this._enabledFilters.length=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},r.prototype._renderWebGL=function(t){},r.prototype._renderCanvas=function(t){},r.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},r.prototype.destroy=function(t){i.prototype.destroy.call(this);var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var n=0;n<r.length;++n)r[n].destroy(t)},n(r,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),r}(((r=r)&&r.__esModule?r:{default:r}).default);(e.default=r).prototype.containerUpdateTransform=r.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(115)),o=h(r(239)),s=h(r(117)),a=h(r(240)),i=r(2),u=r(0),l=h(r(3));function h(t){return t&&t.__esModule?t:{default:t}}r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(t,e,r){if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,"Canvas",t,e,r))).type=u.RENDERER_TYPE.CANVAS,t.rootContext=t.view.getContext("2d",{alpha:t.transparent}),t.context=t.rootContext,t.refresh=!0,t.maskManager=new o.default(t),t.smoothProperty="imageSmoothingEnabled",t.rootContext.imageSmoothingEnabled||(t.rootContext.webkitImageSmoothingEnabled?t.smoothProperty="webkitImageSmoothingEnabled":t.rootContext.mozImageSmoothingEnabled?t.smoothProperty="mozImageSmoothingEnabled":t.rootContext.oImageSmoothingEnabled?t.smoothProperty="oImageSmoothingEnabled":t.rootContext.msImageSmoothingEnabled&&(t.smoothProperty="msImageSmoothingEnabled")),t.initPlugins(),t.blendModes=(0,a.default)(),t._activeBlendMode=null,t.renderingToScreen=!1,t.resize(t.options.width,t.options.height),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.render=function(t,e,r,n,i){var o,a;this.view&&(this.renderingToScreen=!e,this.emit("prerender"),o=this.resolution,e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new s.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext,a=this.context,e||(this._lastObjectRendered=t),i||(e=t.parent,i=this._tempDisplayObjectParent.transform.worldTransform,n?(n.copy(i),this._tempDisplayObjectParent.transform._worldID=-1):i.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e),a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height))),n=this.context,this.context=a,t.renderCanvas(this),this.context=n,a.restore(),this.resolution=o,this.emit("postrender"))},i.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},i.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},i.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},i.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},i}(n.default);e.default=r,i.pluginTarget.mixin(r)},function(t,e,r){"use strict";function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.renderer=t,this.renderer.on("context",this.onContextChange,this)}e.__esModule=!0,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=r(7),r=r(3),u=(r=r)&&r.__esModule?r:{default:r};function l(t,e){var r;if(t instanceof Array){if("precision"!==t[0].substring(0,9))return(r=t.slice(0)).unshift("precision "+e+" float;"),r}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}r=function(a){var t=s,e=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function s(t,e,r,n,i){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");var o=this,t=a.call(this,t,l(e,i||u.default.PRECISION_VERTEX),l(r,i||u.default.PRECISION_FRAGMENT),void 0,n);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),s}(n.GLShader);e.default=r},function(t,e,r){"use strict";var n=r(292).Loader,i=r(75).Resource,o=r(142),r=r(143);n.Resource=i,n.async=o,n.encodeBinary=r,n.base64=r,t.exports=n,t.exports.Loader=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),r=r(14),u=(r=r)&&r.__esModule?r:{default:r};var c=new s.Point,d=new s.Polygon,r=function(a){var t=h,e=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function h(t,e,r,n,i){var o;if(this instanceof h)return(o=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this)))._texture=t||u.default.EMPTY,o.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),o.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),o.indices=n||new Uint16Array([0,1,3,2]),o.dirty=0,o.indexDirty=0,o.vertexDirty=0,o.autoUpdate=!0,o.blendMode=s.BLEND_MODES.NORMAL,o.canvasPadding=s.settings.MESH_CANVAS_PADDING,o.drawMode=i||h.DRAW_MODES.TRIANGLE_MESH,o.shader=null,o.tintRgb=new Float32Array([1,1,1]),o._glDatas={},o._uvTransform=new s.TextureMatrix(o._texture),o.uploadUvTransform=!1,o.pluginName="mesh",o;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),h.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},h.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},h.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},h.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},h.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},h.prototype._refresh=function(){},h.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},h.prototype.containsPoint=function(t){if(this.getBounds().contains(t.x,t.y)){this.worldTransform.applyInverse(t,c);for(var e=this.vertices,r=d.points,n=this.indices,i=this.indices.length,o=this.drawMode===h.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<i;a+=o){var s=2*n[a],u=2*n[a+1],l=2*n[a+2];if(r[0]=e[s],r[1]=e[1+s],r[2]=e[u],r[3]=e[1+u],r[4]=e[l],r[5]=e[1+l],d.contains(c.x,c.y))return!0}}return!1},h.prototype.destroy=function(t){for(var e in this._glDatas){e=this._glDatas[e];e.destroy?e.destroy():(e.vertexBuffer&&(e.vertexBuffer.destroy(),e.vertexBuffer=null),e.indexBuffer&&(e.indexBuffer.destroy(),e.indexBuffer=null),e.uvBuffer&&(e.uvBuffer.destroy(),e.uvBuffer=null),e.vao&&(e.vao.destroy(),e.vao=null))}this._glDatas=null,a.prototype.destroy.call(this,t)},n(h,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t)&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return s.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=s.utils.hex2rgb(t,this.tintRgb)}}]),h}(s.Container);(e.default=r).DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){var n=r(13).f,i=r(25),o=r(6)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){"use strict";e.__esModule=!0;var c=r(2),r=r(118);var o={getTintedTexture:function(t,e){var t=t._texture,r="#"+("00000"+(0|(e=o.roundColor(e))).toString(16)).substr(-6),n=(t.tintCache=t.tintCache||{},t.tintCache[r]),i=void 0;if(n){if(n.tintId===t._updateID)return t.tintCache[r];i=t.tintCache[r]}else i=o.canvas||document.createElement("canvas");return o.tintMethod(t,e,i),i.tintId=t._updateID,o.convertTintToImage?((n=new Image).src=i.toDataURL(),t.tintCache[r]=n):(t.tintCache[r]=i,o.canvas=null),i},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){for(var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution,o=(i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore(),(0,c.hex2rgb)(e)),a=o[0],s=o[1],u=o[2],r=n.getImageData(0,0,i.width,i.height),l=r.data,h=0;h<l.length;h+=4)l[h+0]*=a,l[h+1]*=s,l[h+2]*=u;n.putImageData(r,0,0)},roundColor:function(t){var e=o.cacheStepsPerColorChannel,t=(0,c.hex2rgb)(t);return t[0]=Math.min(255,t[0]/e*e),t[1]=Math.min(255,t[1]/e*e),t[2]=Math.min(255,t[2]/e*e),(0,c.rgb2hex)(t)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=r)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel,e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var r=r(32);r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var t=this,e=n;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");t=this,e=r.apply(this,arguments);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.flush=function(){},n.prototype.render=function(t){},n}(((r=r)&&r.__esModule?r:{default:r}).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var o=i(r(115)),a=i(r(242)),s=i(r(244)),u=i(r(245)),l=i(r(41)),h=i(r(38)),c=i(r(247)),d=i(r(22)),f=i(r(248)),p=i(r(249)),y=i(r(251)),_=i(r(252)),n=r(2),v=i(r(7)),g=r(0);function i(t){return t&&t.__esModule?t:{default:t}}var m=0,r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(t,e,r){if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,"WebGL",t,e,r))).legacy=t.options.legacy,t.legacy&&(v.default.VertexArrayObject.FORCE_NATIVE=!0),t.type=g.RENDERER_TYPE.WEBGL,t.handleContextLost=t.handleContextLost.bind(t),t.handleContextRestored=t.handleContextRestored.bind(t),t.view.addEventListener("webglcontextlost",t.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",t.handleContextRestored,!1),t._contextOptions={alpha:t.transparent,antialias:t.options.antialias,premultipliedAlpha:t.transparent&&"notMultiplied"!==t.transparent,stencil:!0,preserveDrawingBuffer:t.options.preserveDrawingBuffer,powerPreference:t.options.powerPreference},t._backgroundColorRgba[3]=t.transparent?0:1,t.maskManager=new a.default(t),t.stencilManager=new s.default(t),t.emptyRenderer=new h.default(t),t.currentRenderer=t.emptyRenderer,t.textureManager=null,t.filterManager=null,t.initPlugins(),t.options.context&&(0,_.default)(t.options.context),t.gl=t.options.context||v.default.createContext(t.view,t._contextOptions),t.CONTEXT_UID=m++,t.state=new p.default(t.gl),t.renderingToScreen=!0,t.boundTextures=null,t._activeShader=null,t._activeVao=null,t._activeRenderTarget=null,t._initContext(),t.drawModes=(0,y.default)(t.gl),t._nextTextureLocation=0,t.setBlendMode(0),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype._initContext=function(){var t=this.gl,e=(t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext(),t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),r=(this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new c.default(this),this.filterManager=new u.default(this),this.textureGC=new f.default(this),this.state.resetToDefault(),this.rootRenderTarget=new l.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),new v.default.GLTexture.fromData(t,null,1,1)),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new d.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},i.prototype.render=function(t,e,r,n,i){this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),i||(i=t.parent,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=i),this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.resize=function(t,e){o.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader)&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0))},i.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},i.prototype.clear=function(t){this._activeRenderTarget.clear(t)},i.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},i.prototype.clearRenderTexture=function(t,e){t=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return t&&t.clear(e),this},i.prototype.bindRenderTexture=function(t,e){var r,n=void 0;return t?((r=t.baseTexture)._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)):n=this.rootRenderTarget,n.transform=e,this.bindRenderTarget(n),this},i.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&((this._activeRenderTarget=t).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},i.prototype.bindShader=function(t,e){return this._activeShader!==t&&((this._activeShader=t).bind(),!1!==e)&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)),this},i.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,i=t._glTextures[this.CONTEXT_UID];return i?(this.boundTextures[e]=t,r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,i.texture)):this.textureManager.updateTexture(t,e),e},i.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===this.emptyTextures[r]&&(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},i.prototype.createVao=function(){return new v.default.VertexArrayObject(this.gl,this.state.attribState)},i.prototype.bindVao=function(t){return this._activeVao!==t&&(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this},i.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),n.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},i}(o.default);e.default=r,n.pluginTarget.mixin(r)},function(t,e){var r,n,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}var s,u=[],l=!1,h=-1;function c(){l&&s&&(l=!1,s.length?u=s.concat(u):h=-1,u.length)&&d()}function d(){if(!l){for(var t=a(c),e=(l=!0,u.length);e;){for(s=u,u=[];++h<e;)s&&s[h].run();h=-1,e=u.length}s=null,l=!1,!function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return(n=clearTimeout)(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0;var a=r(4),s=r(0),n=r(3),u=(n=n)&&n.__esModule?n:{default:n},l=r(7);function h(t,e,r,n,i,o){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=i||u.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==n?n:u.default.SCALE_MODE,this.root=o||!1,this.root?(this.frameBuffer=new l.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===s.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}h.prototype.clear=function(t){t=t||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},h.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},h.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},h.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},h.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},h.prototype.resize=function(t,e){e|=0,this.size.width===(t|=0)&&this.size.height===e||(this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution),t=this.frame||this.size,this.calculateProjection(t))},h.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){if(t.nativeLines){var n=t,i=0,o=n.points;if(0!==o.length){var a=r.points,j=o.length/2,r=(0,Q.hex2rgb)(n.lineColor),s=n.lineAlpha,N=r[0]*s,F=r[1]*s,B=r[2]*s;for(i=1;i<j;i++){var U=o[2*(i-1)],X=o[2*(i-1)+1],z=o[2*i],G=o[2*i+1];a.push(U,X),a.push(N,F,B,s),a.push(z,G),a.push(N,F,B,s)}}}else{var n=t,r=e,u=n.points;if(0!==u.length){var t=new $.Point(u[0],u[1]),e=new $.Point(u[u.length-2],u[u.length-1]),l=(t.x===e.x&&t.y===e.y&&((u=u.slice()).pop(),u.pop(),M=(e=new $.Point(u[u.length-2],u[u.length-1])).x+.5*(t.x-e.x),t=e.y+.5*(t.y-e.y),u.unshift(M,t),u.push(M,t)),r.points),H=r.indices,h=u.length/2,W=u.length,V=l.length/6,c=n.lineWidth/2,e=(0,Q.hex2rgb)(n.lineColor),d=n.lineAlpha,f=e[0]*d,p=e[1]*d,y=e[2]*d,_=u[0],v=u[1],g=u[2],m=u[3],b=0,x=0,T=-(v-m),w=_-g,E=0,S=0,O=0,A=0,P=Math.sqrt(T*T+w*w),M=(T=T/P*c,w=w/P*c,n.lineAlignment),I=2*(1-M),C=2*M;l.push(_-T*I,v-w*I,f,p,y,d),l.push(_+T*C,v+w*C,f,p,y,d);for(var R=1;R<h-1;++R){_=u[2*(R-1)],v=u[2*(R-1)+1],g=u[2*R],m=u[2*R+1],b=u[2*(R+1)],x=u[2*(R+1)+1],T=-(v-m),w=_-g,P=Math.sqrt(T*T+w*w),T=T/P*c,w=w/P*c,E=-(m-x),S=g-b,P=Math.sqrt(E*E+S*S);var Y=-w+v-(-w+m),D=-T+g-(-T+_),q=(-T+_)*(-w+m)-(-T+g)*(-w+v),Z=-(S=S/P*c)+x-(-S+m),L=-(E=E/P*c)+g-(-E+b),K=(-E+b)*(-S+m)-(-E+g)*(-S+x),k=Y*L-Z*D;Math.abs(k)<.1?(k+=10.1,l.push(g-T*I,m-w*I,f,p,y,d),l.push(g+T*C,m+w*C,f,p,y,d)):196*c*c<((D=(D*K-L*q)/k)-g)*(D-g)+((L=(Z*q-Y*K)/k)-m)*(L-m)?(O=T-E,A=w-S,P=Math.sqrt(O*O+A*A),O=O/P*c,A=A/P*c,l.push(g-O*I,m-A*I),l.push(f,p,y,d),l.push(g+O*C,m+A*C),l.push(f,p,y,d),l.push(g-O*C*I,m-A*I),l.push(f,p,y,d),W++):(l.push(g+(D-g)*I,m+(L-m)*I),l.push(f,p,y,d),l.push(g-(D-g)*C,m-(L-m)*C),l.push(f,p,y,d))}_=u[2*(h-2)],v=u[2*(h-2)+1],g=u[2*(h-1)],m=u[2*(h-1)+1],T=-(v-m),w=_-g,P=Math.sqrt(T*T+w*w),T=T/P*c,w=w/P*c,l.push(g-T*I,m-w*I),l.push(f,p,y,d),l.push(g+T*C,m+w*C),l.push(f,p,y,d),H.push(V);for(var J=0;J<W;++J)H.push(V++);H.push(V-1)}}};var $=r(4),Q=r(2)},function(t,e,r){t.exports={default:r(154),__esModule:!0}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:r)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){"use strict";function v(){return this}var g=r(47),m=r(9),b=r(158),x=r(16),T=r(26),w=r(159),E=r(36),S=r(164),O=r(6)("iterator"),A=!([].keys&&"next"in[].keys()),P="values";t.exports=function(t,e,r,n,i,o,a){w(r,e,n);function s(t){if(!A&&t in d)return d[t];switch(t){case"keys":case P:return function(){return new r(this,t)}}return function(){return new r(this,t)}}var u,l,n=e+" Iterator",h=i==P,c=!1,d=t.prototype,f=d[O]||d["@@iterator"]||i&&d[i],p=f||s(i),y=i?h?s("entries"):p:void 0,_="Array"==e&&d.entries||f;if(_&&(_=S(_.call(new t)))!==Object.prototype&&_.next&&(E(_,n,!0),g||"function"==typeof _[O]||x(_,O,v)),h&&f&&f.name!==P&&(c=!0,p=function(){return f.call(this)}),g&&!a||!A&&!c&&d[O]||x(d,O,p),T[e]=p,T[n]=v,i)if(u={values:h?p:s(P),keys:o?p:s("keys"),entries:y},a)for(l in u)l in d||b(d,l,u[l]);else m(m.P+m.F*(A||c),e,u);return u}},function(t,e){t.exports=!0},function(t,e,r){var n=r(11),i=r(5).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){var n=r(50),i=r(45);t.exports=function(t){return n(i(t))}},function(t,e,r){var n=r(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(44),i=Math.min;t.exports=function(t){return 0<t?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(84)("keys"),i=r(53);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){var n=r(45);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(27),i=r(6)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),i))?e:o?n(t):"Object"==(e=n(t))&&"function"==typeof t.callee?"Arguments":e}},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){"use strict";var i=r(23);function n(t){var r,n;this.promise=new t(function(t,e){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=t,n=e}),this.resolve=i(r),this.reject=i(n)}t.exports.f=function(t){return new n(t)}},function(t,e,r){var i=r(16);t.exports=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:i(t,n,e[n]);return t}},function(t,e,r){"use strict";function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=this,n=i;if(!(r instanceof n))throw new TypeError("Cannot call a class as a function");this.x=t,this.y=e}e.__esModule=!0,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(59),a=(o=o)&&o.__esModule?o:{default:o},u=r(0);function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=this,s=l;if(!(a instanceof s))throw new TypeError("Cannot call a class as a function");this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this.array=null}l.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},l.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},l.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},l.prototype.apply=function(t,e){e=e||new a.default;var r=t.x,t=t.y;return e.x=this.a*r+this.c*t+this.tx,e.y=this.b*r+this.d*t+this.ty,e},l.prototype.applyInverse=function(t,e){e=e||new a.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,t=t.y;return e.x=this.d*r*n+-this.c*r*t+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*t+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},l.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},l.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},l.prototype.rotate=function(t){var e=Math.cos(t),t=Math.sin(t),r=this.a,n=this.c,i=this.tx;return this.a=r*e-this.b*t,this.b=r*t+this.b*e,this.c=n*e-this.d*t,this.d=n*t+this.d*e,this.tx=i*e-this.ty*t,this.ty=i*t+this.ty*e,this},l.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},l.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},l.prototype.prepend=function(t){var e,r,n=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,r=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d),this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},l.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5||Math.abs(u.PI_2-s)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},l.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},l.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},l.prototype.clone=function(){var t=new l;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},l.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(l,null,[{key:"IDENTITY",get:function(){return new l}},{key:"TEMP_MATRIX",get:function(){return new l}}]),e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(0);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=this,o=s;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=a.SHAPES.RECT}s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},s.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},s.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},s.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(t-n,0)},s.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=t-n},s.prototype.ceil=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.001,r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y},n(s,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new s(0,0,0,0)}}]),e.default=s},function(t,e){var o=null,a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!o){var r=Object.keys(a);o={};for(var n=0;n<r.length;++n){var i=r[n];o[t[i]]=a[i]}}return o[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}i.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},i.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},i.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},i.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},i.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1],e=o<e?o:e,r=a<r?a:r,n=n<o?o:n,i=i<a?a:i;e=(o=t[2])<e?o:e,r=(a=t[3])<r?a:r,n=n<o?o:n,i=i<a?a:i,e=(o=t[4])<e?o:e,r=(a=t[5])<r?a:r,n=n<o?o:n,i=i<a?a:i,o=t[6],r=(a=t[7])<r?a:r,n=n<o?o:n,i=i<a?a:i,this.minX=o<e?o:e,this.minY=r,this.maxX=n,this.maxY=i},i.prototype.addFrame=function(t,e,r,n,i){var t=t.worldTransform,o=t.a,a=t.b,s=t.c,u=t.d,l=t.tx,t=t.ty,h=o*e+s*r+l,c=a*e+u*r+t,d=h<(d=this.minX)?h:d,f=c<(f=this.minY)?c:f,p=(p=this.maxX)<h?h:p,y=(y=this.maxY)<c?c:y;d=(h=o*n+s*r+l)<d?h:d,f=(c=a*n+u*r+t)<f?c:f,p=p<h?h:p,y=y<c?c:y,d=(h=o*e+s*i+l)<d?h:d,f=(c=a*e+u*i+t)<f?c:f,y=y<c?c:y,f=(c=a*n+u*i+t)<f?c:f,p=(p=p<h?h:p)<(h=o*n+s*i+l)?h:p,y=y<c?c:y,this.minX=h<d?h:d,this.minY=f,this.maxX=p,this.maxY=y},i.prototype.addVertices=function(t,e,r,n){for(var t=t.worldTransform,i=t.a,o=t.b,a=t.c,s=t.d,u=t.tx,l=t.ty,h=this.minX,c=this.minY,d=this.maxX,f=this.maxY,p=r;p<n;p+=2)var y=e[p],_=e[p+1],v=i*y+a*_+u,_=s*_+o*y+l,h=v<h?v:h,c=_<c?_:c,d=d<v?v:d,f=f<_?_:f;this.minX=h,this.minY=c,this.maxX=d,this.maxY=f},i.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},i.prototype.addBoundsMask=function(t,e){var r,n,i,o=(t.minX>e.minX?t:e).minX,a=(t.minY>e.minY?t:e).minY,s=(t.maxX<e.maxX?t:e).maxX,t=(t.maxY<e.maxY?t:e).maxY;o<=s&&a<=t&&(e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,this.minX=o<e?o:e,this.minY=a<r?a:r,this.maxX=n<s?s:n,this.maxY=i<t?t:i)},i.prototype.addBoundsArea=function(t,e){var r,n,i,o=t.minX>e.x?t.minX:e.x,a=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,t=t.maxY<e.y+e.height?t.maxY:e.y+e.height;o<=s&&a<=t&&(e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,this.minX=o<e?o:e,this.minY=a<r?a:r,this.maxX=n<s?s:n,this.maxY=i<t?t:i)},e.default=i},function(t,e,r){var n,i,o,a,s,u,l,h,c,d,f,p,y,_,v,g;function m(t,e){return t.test(e)}function b(t){var t=t||("undefined"!=typeof navigator?navigator.userAgent:""),e=t.split("[FBAN"),e=(void 0!==(e=(t=void 0!==e[1]?e[0]:t).split("Twitter"))[1]&&(t=e[0]),{apple:{phone:m(o,t)&&!m(d,t),ipod:m(a,t),tablet:!m(o,t)&&m(s,t)&&!m(d,t),device:(m(o,t)||m(a,t)||m(s,t))&&!m(d,t)},amazon:{phone:m(h,t),tablet:!m(h,t)&&m(c,t),device:m(h,t)||m(c,t)},android:{phone:!m(d,t)&&m(h,t)||!m(d,t)&&m(u,t),tablet:!m(d,t)&&!m(h,t)&&!m(u,t)&&(m(c,t)||m(l,t)),device:!m(d,t)&&(m(h,t)||m(c,t)||m(u,t)||m(l,t))||m(/\bokhttp\b/i,t)},windows:{phone:m(d,t),tablet:m(f,t),device:m(d,t)||m(f,t)},other:{blackberry:m(p,t),blackberry10:m(y,t),opera:m(_,t),firefox:m(g,t),chrome:m(v,t),device:m(p,t)||m(y,t)||m(_,t)||m(g,t)||m(v,t)}});return e.any=e.apple.device||e.android.device||e.windows.device||e.other.device,e.phone=e.apple.phone||e.android.phone||e.windows.phone,e.tablet=e.apple.tablet||e.android.tablet||e.windows.tablet,e}i=this,o=/iPhone/i,a=/iPod/i,s=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,h=/\bAndroid(?:.+)SD4930UR\b/i,c=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,d=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,y=/BB10/i,_=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=b:void 0!==t&&t.exports&&"undefined"!=typeof window?(t.exports=b(),t.exports.isMobile=b):(n=[],i=i.isMobile=b(),void 0!==(e="function"==typeof i?i.apply(e,n):i)&&(t.exports=e))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);i.prototype.updateLocalTransform=function(){},i.prototype.updateTransform=function(t){var t=t.worldTransform,e=this.worldTransform,r=this.localTransform;e.a=r.a*t.a+r.b*t.c,e.b=r.a*t.b+r.b*t.d,e.c=r.c*t.a+r.d*t.c,e.d=r.c*t.b+r.d*t.d,e.tx=r.tx*t.a+r.ty*t.c+t.tx,e.ty=r.tx*t.b+r.ty*t.d+t.ty,this._worldID++};r=i;function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}(e.default=r).prototype.updateWorldTransform=r.prototype.updateTransform,r.IDENTITY=new r},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,i,o,a,s,u=e&&e.length,l=u?e[0]*r:t.length,h=y(t,0,l,r,!0),c=[];if(h&&h.next!==h.prev){if(u&&(h=function(t,e,r,n){var i,o,a,s,u=[];for(i=0,o=e.length;i<o;i++)s=e[i]*n,a=i<o-1?e[i+1]*n:t.length,(s=y(t,s,a,n,!1))===s.next&&(s.steiner=!0),u.push(function(t){var e=t,r=t;for(;(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next,e!==t;);return r}(s));for(u.sort(_),i=0;i<u.length;i++)r=function(t,e){var r=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&a<s&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}}while(n=n.next,n!==e);if(!r)return null;var u,l=r,h=r.x,c=r.y,d=1/0;n=r;for(;i>=n.x&&n.x>=h&&i!==n.x&&P(o<c?i:a,o,h,c,o<c?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),R(n,t))&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&function(t,e){return M(t.prev,t,e.prev)<0&&M(e.next,t,t.next)<0}(r,n)))&&(r=n,d=u),n=n.next,n!==l;);return r}(t,e);return r?(S(t=D(r,t),t.next),S(r,r.next)):e}(u[i],r);return r}(t,e,h,r)),t.length>80*r){for(var d=n=t[0],f=i=t[1],p=r;p<l;p+=r)(o=t[p])<d&&(d=o),(a=t[p+1])<f&&(f=a),n<o&&(n=o),i<a&&(i=a);s=0!==(s=Math.max(n-d,i-f))?32767/s:0}O(h,c,r,d,f,s,0)}return c}function y(t,e,r,n,i){var o,a;if(i===0<v(t,e,r,n))for(o=e;o<r;o+=n)a=s(o,t[o],t[o+1],a);else for(o=r-n;e<=o;o-=n)a=s(o,t[o],t[o+1],a);return a&&I(a,a.next)&&(L(a),a=a.next),a}function S(t,e){if(!t)return t;e=e||t;var r,n=t;do{if(r=!1,n.steiner||!I(n,n.next)&&0!==M(n.prev,n,n.next))n=n.next;else{if(L(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function O(t,e,r,n,i,o,a){if(t){if(!a&&o){for(var s=t,u=n,l=i,h=o,c=s;0===c.z&&(c.z=A(c.x,c.y,u,l,h)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==s;);c.prevZ.nextZ=null,c.prevZ=null;var d,f,p,y,_,v,g,m,b=c,x=1;do{for(f=b,_=b=null,v=0;f;){for(v++,p=f,d=g=0;d<x&&(g++,p=p.nextZ);d++);for(m=x;0<g||0<m&&p;)0!==g&&(0===m||!p||f.z<=p.z)?(f=(y=f).nextZ,g--):(p=(y=p).nextZ,m--),_?_.nextZ=y:b=y,y.prevZ=_,_=y;f=p}}while(_.nextZ=null,x*=2,1<v)}for(var T,w,E=t;t.prev!==t.next;)if(T=t.prev,w=t.next,o?function(t,e,r,n){var i=t.prev,o=t,a=t.next;if(0<=M(i,o,a))return;var s=i.x,u=o.x,l=a.x,h=i.y,c=o.y,d=a.y,f=s<u?s<l?s:l:u<l?u:l,p=h<c?h<d?h:d:c<d?c:d,y=u<s?l<s?s:l:l<u?u:l,_=c<h?d<h?h:d:d<c?c:d,v=A(f,p,e,r,n),g=A(y,_,e,r,n),m=t.prevZ,b=t.nextZ;for(;m&&m.z>=v&&b&&b.z<=g;){if(m.x>=f&&m.x<=y&&m.y>=p&&m.y<=_&&m!==i&&m!==a&&P(s,h,u,c,l,d,m.x,m.y)&&0<=M(m.prev,m,m.next))return;if(m=m.prevZ,b.x>=f&&b.x<=y&&b.y>=p&&b.y<=_&&b!==i&&b!==a&&P(s,h,u,c,l,d,b.x,b.y)&&0<=M(b.prev,b,b.next))return;b=b.nextZ}for(;m&&m.z>=v;){if(m.x>=f&&m.x<=y&&m.y>=p&&m.y<=_&&m!==i&&m!==a&&P(s,h,u,c,l,d,m.x,m.y)&&0<=M(m.prev,m,m.next))return;m=m.prevZ}for(;b&&b.z<=g;){if(b.x>=f&&b.x<=y&&b.y>=p&&b.y<=_&&b!==i&&b!==a&&P(s,h,u,c,l,d,b.x,b.y)&&0<=M(b.prev,b,b.next))return;b=b.nextZ}return 1}(t,n,i,o):function(t){var e=t.prev,r=t,t=t.next;if(0<=M(e,r,t))return;var n=e.x,i=r.x,o=t.x,a=e.y,s=r.y,u=t.y,l=n<i?n<o?n:o:i<o?i:o,h=a<s?a<u?a:u:s<u?s:u,c=i<n?o<n?n:o:o<i?i:o,d=s<a?u<a?a:u:u<s?s:u,f=t.next;for(;f!==e;){if(f.x>=l&&f.x<=c&&f.y>=h&&f.y<=d&&P(n,a,i,s,o,u,f.x,f.y)&&0<=M(f.prev,f,f.next))return;f=f.next}return 1}(t))e.push(T.i/r|0),e.push(t.i/r|0),e.push(w.i/r|0),L(t),t=w.next,E=w.next;else if((t=w)===E){a?1===a?O(t=function(t,e,r){var n=t;do{var i=n.prev,o=n.next.next}while(!I(i,o)&&C(i,n,n.next,o)&&R(i,o)&&R(o,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),L(n),L(n.next),n=t=o),n=n.next,n!==t);return S(n)}(S(t),e,r),e,r,n,i,o,2):2===a&&function(t,e,r,n,i,o){var a=t;do{for(var s,u=a.next.next;u!==a.prev;){if(a.i!==u.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&C(r,r.next,t,e))return 1}while(r=r.next,r!==t);return}(t,e)&&(R(t,e)&&R(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next,r!==t;);return n}(t,e)&&(M(t.prev,t,e.prev)||M(t,e.prev,e))||I(t,e)&&0<M(t.prev,t,t.next)&&0<M(e.prev,e,e.next))}(a,u))return s=D(a,u),a=S(a,a.next),s=S(s,s.next),O(a,e,r,n,i,o,0),O(s,e,r,n,i,o,0);u=u.next}}while(a=a.next,a!==t)}(t,e,r,n,i,o):O(S(t),e,r,n,i,o,1);break}}}function _(t,e){return t.x-e.x}function A(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function P(t,e,r,n,i,o,a,s){return(t-a)*(o-s)<=(i-a)*(e-s)&&(r-a)*(e-s)<=(t-a)*(n-s)&&(i-a)*(n-s)<=(r-a)*(o-s)}function M(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function I(t,e){return t.x===e.x&&t.y===e.y}function C(t,e,r,n){var i=l(M(t,e,r)),o=l(M(t,e,n)),a=l(M(r,n,t)),s=l(M(r,n,e));return i!==o&&a!==s||0===i&&u(t,r,e)||0===o&&u(t,n,e)||0===a&&u(r,t,n)||!(0!==s||!u(r,e,n))}function u(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function l(t){return 0<t?1:t<0?-1:0}function R(t,e){return M(t.prev,t,t.next)<0?0<=M(t,e,t.next)&&0<=M(t,t.prev,e):M(t,e,t.prev)<0||M(t,t.next,e)<0}function D(t,e){var r=new a(t.i,t.x,t.y),n=new a(e.i,e.x,e.y),i=t.next,o=e.prev;return(t.next=e).prev=t,(r.next=i).prev=r,(n.next=r).prev=n,(o.next=n).prev=o,n}function s(t,e,r,n){t=new a(t,e,r);return n?(t.next=n.next,(t.prev=n).next.prev=t,n.next=t):(t.prev=t).next=t,t}function L(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function a(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function v(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=n,(t.exports.default=n).deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(v(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,h=s<u-1?e[s+1]*r:t.length;a-=Math.abs(v(t,l,h,r))}for(var c=0,s=0;s<n.length;s+=3){var d=n[s]*r,f=n[s+1]*r,p=n[s+2]*r;c+=Math.abs((t[d]-t[p])*(t[1+f]-t[1+d])-(t[d]-t[f])*(t[1+p]-t[1+d]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);0<i&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(4),a=r(2),s=r(0),u=l(r(14)),r=l(r(30));function l(t){return t&&t.__esModule?t:{default:t}}var h=new o.Point,r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(t){var e;if(this instanceof n)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this)))._anchor=new o.ObservablePoint(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=s.BLEND_MODES.NORMAL,e.shader=null,e.cachedTint=16777215,e.texture=t||u.default.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.pluginName="sprite",e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,a.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,a.sign)(this.scale.y)*this._height/this._texture.orig.height)},n.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},n.prototype.calculateVertices=function(){var t,e,r,n,i,o,a,s,u,l,h,c,d,f;this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID||(this._transformID=this.transform._worldID,this._textureID=this._texture._updateID,u=this._texture,t=(o=this.transform.worldTransform).a,e=o.b,r=o.c,n=o.d,i=o.tx,o=o.ty,a=this.vertexData,s=u.trim,u=u.orig,l=this._anchor,d=f=c=h=0,f=s?(h=(c=s.x-l._x*u.width)+s.width,(d=s.y-l._y*u.height)+s.height):(h=(c=-l._x*u.width)+u.width,(d=-l._y*u.height)+u.height),a[0]=t*c+r*d+i,a[1]=n*d+e*c+o,a[2]=t*h+r*d+i,a[3]=n*d+e*h+o,a[4]=t*h+r*f+i,a[5]=n*f+e*h+o,a[6]=t*c+r*f+i,a[7]=n*f+e*c+o)},n.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,t=t.orig,r=this._anchor,n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,u=n.tx,n=n.ty,l=-r._x*t.width,h=l+t.width,r=-r._y*t.height,t=r+t.height;e[0]=i*l+a*r+u,e[1]=s*r+o*l+n,e[2]=i*h+a*r+u,e[3]=s*r+o*h+n,e[4]=i*h+a*t+u,e[5]=s*t+o*h+n,e[6]=i*l+a*t+u,e[7]=s*t+o*l+n},n.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},n.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},n.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},n.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var t=this._texture.orig.width,e=this._texture.orig.height,r=-t*this.anchor.x;return h.x>=r&&h.x<r+t&&(r=-e*this.anchor.y,h.y>=r)&&h.y<r+e},n.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null,this.shader=null},n.from=function(t){return new n(u.default.from(t))},n.fromFrame=function(t){var e=a.TextureCache[t];if(e)return new n(e);throw new Error('The frameId "'+t+'" does not exist in the texture cache')},n.fromImage=function(t,e,r){return new n(u.default.fromImage(t,e,r))},i(n,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||u.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t)&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this))}}]),n}(r.default);e.default=r},function(t,e,r){"use strict";var n,d=SyntaxError,i=Function,f=TypeError,o=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(t){p=null}function a(){throw new f}var s=p?function(){try{return a}catch(t){try{return p(arguments,"callee").get}catch(t){return a}}}():a,u=r(226)(),l=r(228)(),h=Object.getPrototypeOf||(l?function(t){return t.__proto__}:null),y={},l="undefined"!=typeof Uint8Array&&h?h(Uint8Array):n,_={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u&&h?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&h?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&h?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&h?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&h?h(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":d,"%ThrowTypeError%":s,"%TypedArray%":l,"%TypeError%":f,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(h)try{null.error}catch(t){u=h(h(t));_["%Error.prototype%"]=u}function v(t){var e,r;return"%AsyncFunction%"===t?e=o("async function () {}"):"%GeneratorFunction%"===t?e=o("function* () {}"):"%AsyncGeneratorFunction%"===t?e=o("async function* () {}"):"%AsyncGenerator%"===t?(r=v("%AsyncGeneratorFunction%"))&&(e=r.prototype):"%AsyncIteratorPrototype%"===t&&(r=v("%AsyncGenerator%"))&&h&&(e=h(r.prototype)),_[t]=e}var g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},s=r(69),m=r(230),b=s.call(Function.call,Array.prototype.concat),x=s.call(Function.apply,Array.prototype.splice),T=s.call(Function.call,String.prototype.replace),w=s.call(Function.call,String.prototype.slice),E=s.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g;t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new f("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new f('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,t))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=w(t,0,1),r=w(t,-1);if("%"===e&&"%"!==r)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new d("invalid intrinsic syntax, expected opening `%`");var i=[];return T(t,S,function(t,e,r,n){i[i.length]=r?T(n,O,"$1"):e||t}),i}(t),n=0<r.length?r[0]:"",i=function(t,e){var r,n=t;if(m(g,n)&&(n="%"+(r=g[n])[0]+"%"),m(_,n)){var i=_[n];if(void 0!==(i=i===y?v(n):i)||e)return{alias:r,name:n,value:i};throw new f("intrinsic "+t+" exists, but is not available. Please file an issue!")}throw new d("intrinsic "+t+" does not exist!")}("%"+n+"%",e),o=(i.name,i.value),a=!1,i=i.alias;i&&(n=i[0],x(r,b([0,1],i)));for(var s=1,u=!0;s<r.length;s+=1){var l=r[s],h=w(l,0,1),c=w(l,-1);if(('"'===h||"'"===h||"`"===h||'"'===c||"'"===c||"`"===c)&&h!==c)throw new d("property names with quotes must have matching quotes");if("constructor"!==l&&u||(a=!0),m(_,h="%"+(n+="."+l)+"%"))o=_[h];else if(null!=o){if(!(l in o)){if(e)return;throw new f("base intrinsic for "+t+" exists, but the property is not available.")}o=p&&s+1>=r.length?(u=!!(c=p(o,l)))&&"get"in c&&!("originalValue"in c.get)?c.get:o[l]:(u=m(o,l),o[l]),u&&!a&&(_[h]=o)}}return o}},function(t,e,r){"use strict";r=r(229);t.exports=Function.prototype.bind||r},function(t,e,r){"use strict";var n=String.prototype.replace,i=/%20/g,o="RFC1738",a="RFC3986";t.exports={default:a,formatters:{RFC1738:function(t){return n.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:o,RFC3986:a}},function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&--e,e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(0<t)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r=(65535<t)<<4;return(r=(r|=e=(255<(t>>>=r))<<3)|(e=(15<(t>>>=e))<<2)|(e=(3<(t>>>=e))<<1))|(t>>>=e)>>1},e.log10=function(t){return 1e9<=t?9:1e8<=t?8:1e7<=t?7:1e6<=t?6:1e5<=t?5:1e4<=t?4:1e3<=t?3:100<=t?2:10<=t?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,(t=(t=(t=(t=(t|=t>>>1)|t>>>2)|t>>>4)|t>>>8)|t>>>16)+1},e.prevPow2=function(t){return(t=(t=(t=(t=(t|=t>>>1)|t>>>2)|t>>>4)|t>>>8)|t>>>16)-(t>>>1)},e.parity=function(t){return 27030>>>(t=((t=(t^=t>>>16)^t>>>8)^t>>>4)&15)&1};for(var i=new Array(256),o=i,a=0;a<256;++a){var s=a,u=a,l=7;for(s>>>=1;s;s>>>=1)u=u<<1|1&s,--l;o[a]=u<<l&255}e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return 1+e|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var r=r(236),r=(r=r)&&r.__esModule?r:{default:r};var n=new r.default;n.autoStart=!0,n.destroy=function(){},e.shared=n,e.Ticker=r.default},function(t,e,r){"use strict";e.__esModule=!0;var l=n(r(116));function n(t){return t&&t.__esModule?t:{default:t}}r=function(s){var t=u,e=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function u(t,e){var r,n,i,o=this,a=u;if(o instanceof a)return o=null,t instanceof l.default||(a=arguments[1],r=arguments[2],n=arguments[3],i=arguments[4],console.warn("Please use RenderTexture.create("+a+", "+r+") instead of the ctor directly."),o=arguments[0],e=null,t=new l.default(a,r,n,i)),(a=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,s.call(this,t,e))).legacyRenderer=o,a.valid=!0,a._updateUvs(),a;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),u.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},u.create=function(t,e,r,n){return new u(new l.default(t,e,r,n))},u}(n(r(14)).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.Resource=void 0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=s(r(141)),a=s(r(140));function s(t){return t&&t.__esModule?t:{default:t}}var u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;function h(){}r=e.Resource=(c.setExtensionLoadType=function(t,e){d(c._loadTypeMap,t,e)},c.setExtensionXhrType=function(t,e){d(c._xhrTypeMap,t,e)},c.prototype.complete=function(){this._clearEvents(),this._finish()},c.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=c.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},c.prototype.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(c.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case c.LOAD_TYPE.IMAGE:this.type=c.TYPE.IMAGE,this._loadElement("image");break;case c.LOAD_TYPE.AUDIO:this.type=c.TYPE.AUDIO,this._loadSourceElement("audio");break;case c.LOAD_TYPE.VIDEO:this.type=c.TYPE.VIDEO,this._loadSourceElement("video");break;default:c.LOAD_TYPE.XHR;u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},c.prototype._hasFlag=function(t){return 0!=(this._flags&t)},c.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},c.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},c.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(c.STATUS_FLAGS.COMPLETE,!0),this._setFlag(c.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},c.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},c.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)this.abort("Unsupported element: "+t);else{if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}},c.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===c.XHR_RESPONSE_TYPE.JSON||this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=c.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},c.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},c.prototype._createSource=function(t,e,r){r=r||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=r,t},c.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},c.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},c.prototype._onTimeout=function(){this.abort("Load timed out.")},c.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},c.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(f(t)+" Request timed out.")},c.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(f(t)+" Request was aborted by the user.")},c.prototype._xhrOnLoad=function(){var t,e,r=this.xhr,n="",i=void 0===r.status?200:r.status;if(""!==r.responseType&&"text"!==r.responseType&&void 0!==r.responseType||(n=r.responseText),0===i&&(0<n.length||r.responseType===c.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2!=(i/100|0))this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);else{if(this.xhrType===c.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=c.TYPE.TEXT;else if(this.xhrType===c.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=c.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(t=new DOMParser,this.data=t.parseFromString(n,"text/xml")):((e=document.createElement("div")).innerHTML=n,this.data=e),this.type=c.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=r.response||n;this.complete()}},c.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,(l=l||document.createElement("a")).href=t;var r=!(t=(0,o.default)(l.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},c.prototype._determineXhrType=function(){return c._xhrTypeMap[this.extension]||c.XHR_RESPONSE_TYPE.TEXT},c.prototype._determineLoadType=function(){return c._loadTypeMap[this.extension]||c.LOAD_TYPE.XHR},c.prototype._getExtension=function(){var t,e,r=this.url;return(this.isDataUrl?(e=r.indexOf("/"),r.substring(e+1,r.indexOf(";",e))):(e=r.indexOf("?"),t=r.indexOf("#"),e=Math.min(-1<e?e:r.length,-1<t?t:r.length),(r=r.substring(0,e)).substring(r.lastIndexOf(".")+1))).toLowerCase()},c.prototype._getMimeFromXhrType=function(t){switch(t){case c.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case c.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case c.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case c.XHR_RESPONSE_TYPE.JSON:return"application/json";case c.XHR_RESPONSE_TYPE.DEFAULT:case c.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(c,[{key:"isDataUrl",get:function(){return this._hasFlag(c.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(c.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(c.STATUS_FLAGS.LOADING)}}]),c);function c(t,e,r){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if("string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(c.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=c.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a.default,this.onProgress=new a.default,this.onComplete=new a.default,this.onAfterMiddleware=new a.default}function d(t,e,r){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}r.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},r.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,svg:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE,mp3:r.LOAD_TYPE.AUDIO,ogg:r.LOAD_TYPE.AUDIO,wav:r.LOAD_TYPE.AUDIO,mp4:r.LOAD_TYPE.VIDEO,webm:r.LOAD_TYPE.VIDEO},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT,ttf:r.XHR_RESPONSE_TYPE.BUFFER,otf:r.XHR_RESPONSE_TYPE.BUFFER},r.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=r},function(t,e,r){"use strict";e.__esModule=!0;var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),r=r(147),n=(r=r)&&r.__esModule?r:{default:r};var u=s.ticker.shared;function i(t){var e=this;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.limiter=new n.default(s.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(d),this.registerFindHook(f),this.registerFindHook(o),this.registerFindHook(a),this.registerFindHook(l),this.registerUploadHook(h),this.registerUploadHook(c)}function o(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n,i=0;i<t._textures.length;i++)t._textures[i]instanceof s.Texture&&(n=t._textures[i].baseTexture,-1===e.indexOf(n))&&(e.push(n),r=!0);return r}function a(t,e){return t instanceof s.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function l(t,e){return!!(t._texture&&t._texture instanceof s.Texture)&&(t=t._texture.baseTexture,-1===e.indexOf(t)&&e.push(t),!0)}function h(t,e){return e instanceof s.Text&&(e.updateText(!0),!0)}function c(t,e){return e instanceof s.TextStyle&&(e=e.toFontString(),s.TextMetrics.measureFont(e),!0)}function d(t,e){return t instanceof s.Text&&(-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t),t=t._texture.baseTexture,-1===e.indexOf(t)&&e.push(t),!0)}function f(t,e){return t instanceof s.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}s.settings.UPLOADS_PER_FRAME=4,i.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,u.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY))):e&&e()},i.prototype.tick=function(){setTimeout(this.delayedTick,0)},i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)u.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var i=this.completes.slice(0),o=this.completes.length=0,a=i.length;o<a;o++)i[o]()}},i.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},i.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},i.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof s.Container)for(var n=t.children.length-1;0<=n;n--)this.add(t.children[n]);return this},i.prototype.destroy=function(){this.ticking&&u.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e.default=i},function(t,e,r){"use strict";var n=r(318),a=r(335),s=Function.prototype.apply,u=Function.prototype.call,i=Object.create,o=Object.defineProperty,l=Object.defineProperties,h=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},d=function(t,e){var r;return a(e),h.call(this,"__ee__")?r=this.__ee__:(r=c.value=i(null),o(this,"__ee__",c),c.value=null),r[t]?"object"==typeof r[t]?r[t].push(e):r[t]=[r[t],e]:r[t]=e,this},r=function(t,e){var r,n;return a(e),n=this,d.call(this,t,r=function(){f.call(n,t,r),s.call(e,this,arguments)}),r.__eeOnceListener__=e,this},f=function(t,e){var r,n,i,o;if(a(e),h.call(this,"__ee__")&&(r=this.__ee__)[t])if("object"==typeof(n=r[t]))for(o=0;i=n[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===n.length?r[t]=n[o?0:1]:n.splice(o,1));else n!==e&&n.__eeOnceListener__!==e||delete r[t];return this},p=function(t){var e,r,n,i,o;if(h.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),e=1;e<r;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;n=i[e];++e)s.call(n,this,o)}else switch(arguments.length){case 1:u.call(i,this);break;case 2:u.call(i,this,arguments[1]);break;case 3:u.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),e=1;e<r;++e)o[e-1]=arguments[e];s.call(i,this,o)}},y={on:d,once:r,off:f,emit:p},_={on:n(d),once:n(r),off:n(f),emit:n(p)},v=l({},_);t.exports=e=function(t){return null==t?i(v):l(Object(t),_)},e.methods=y},function(t,e,r){"use strict";var n=r(329)();t.exports=function(t){return t!==n&&null!==t}},function(t,e){},function(t,e,r){"use strict";var n=r(155)(!0);r(46)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=n(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){function n(){}var i=r(17),o=r(160),a=r(85),s=r(52)("IE_PROTO"),u="prototype",l=function(){var t=r(48)("iframe"),e=a.length;for(t.style.display="none",r(86).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;e--;)delete l[u][a[e]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(n[u]=i(t),r=new n,n[u]=null,r[s]=t):r=l(),void 0===e?r:o(r,e)}},function(t,e,r){var n=r(161),i=r(85);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(8),i=r(5),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(47)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){r=r(5).document;t.exports=r&&r.documentElement},function(t,e,r){r(165);for(var n=r(5),i=r(16),o=r(26),a=r(6)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],h=n[l],h=h&&h.prototype;h&&!h[a]&&i(h,a,l),o[l]=o.Array}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(17),i=r(23),o=r(6)("species");t.exports=function(t,e){var t=n(t).constructor;return void 0===t||null==(t=n(t)[o])?e:i(t)}},function(t,e,r){function n(){var t,e=+this;v.hasOwnProperty(e)&&(t=v[e],delete v[e],t())}function i(t){n.call(t.data)}var o,a=r(15),s=r(171),u=r(86),l=r(48),h=r(5),c=h.process,d=h.setImmediate,f=h.clearImmediate,p=h.MessageChannel,y=h.Dispatch,_=0,v={},g="onreadystatechange";d&&f||(d=function(t){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);return v[++_]=function(){s("function"==typeof t?t:Function(t),e)},o(_),_},f=function(t){delete v[t]},"process"==r(27)(c)?o=function(t){c.nextTick(a(n,t,1))}:y&&y.now?o=function(t){y.now(a(n,t,1))}:p?(p=(r=new p).port2,r.port1.onmessage=i,o=a(p.postMessage,p,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(o=function(t){h.postMessage(t+"","*")},h.addEventListener("message",i,!1)):o=g in l("script")?function(t){u.appendChild(l("script"))[g]=function(){u.removeChild(this),n.call(t)}}:function(t){setTimeout(a(n,t,1),0)}),t.exports={set:d,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(17),i=r(11),o=r(57);t.exports=function(t,e){return n(t),i(e)&&e.constructor===t?e:((0,(t=o.f(t)).resolve)(e),t.promise)}},function(t,e,r){"use strict";var n=r(5),i=r(8),o=r(13),a=r(12),s=r(6)("species");t.exports=function(t){t=("function"==typeof i[t]?i:n)[t];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){function n(t){s(t,i,{value:{i:"O"+ ++u,w:{}}})}var i=r(53)("meta"),o=r(11),a=r(25),s=r(13).f,u=0,l=Object.isExtensible||function(){return!0},h=!r(24)(function(){return l(Object.preventExtensions({}))}),c=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!l(t))return"F";if(!e)return"E";n(t)}return t[i].i},getWeak:function(t,e){if(!a(t,i)){if(!l(t))return!0;if(!e)return!1;n(t)}return t[i].w},onFreeze:function(t){return h&&c.NEED&&l(t)&&!a(t,i)&&n(t),t}}},function(t,e,r){var n=r(11);t.exports=function(t,e){if(n(t)&&t._t===e)return t;throw TypeError("Incompatible receiver, "+e+" required!")}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=this,o=a;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this._x=r,this._y=n,this.cb=t,this.scope=e}a.prototype.clone=function(){return new a((0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||this.cb,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||this.scope,this._x,this._y)},a.prototype.set=function(t,e){t=t||0,e=e||(0!==e?t:0);this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope))},a.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},a.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n(a,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var r=r(60),n=(r=r)&&r.__esModule?r:{default:r};var i=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],o=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],s=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],l=[];function h(t){return t<0?-1:0<t?1:0}for(var c=0;c<16;c++){var d=[];l.push(d);for(var f=0;f<16;f++)for(var p=h(i[c]*i[f]+a[c]*o[f]),y=h(o[c]*i[f]+s[c]*o[f]),_=h(i[c]*a[f]+a[c]*s[f]),v=h(o[c]*a[f]+s[c]*s[f]),g=0;g<16;g++)if(i[g]===p&&o[g]===y&&a[g]===_&&s[g]===v){d.push(g);break}}for(var m=0;m<16;m++){var b=new n.default;b.set(i[m],o[m],a[m],s[m],0,0),u.push(b)}var x={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return i[t]},uY:function(t){return o[t]},vX:function(t){return a[t]},vY:function(t){return s[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return l[t][e]},sub:function(t,e){return l[t][x.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?x.S:x.N:2*Math.abs(e)<=Math.abs(t)?0<t?x.E:x.W:0<e?0<t?x.SE:x.SW:0<t?x.NE:x.NW},matrixAppendRotationInv:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,e=u[x.inv(e)];e.tx=r,e.ty=n,t.append(e)}};e.default=x},function(t,e){t.exports=function(t,e,r){if(r){for(var n=r.tempAttribState,i=r.attribState,o=0;o<n.length;o++)n[o]=!1;for(o=0;o<e.length;o++)n[e[o].attribute.location]=!0;for(o=0;o<i.length;o++)i[o]!==n[o]&&(i[o]=n[o],r.attribState[o]?t.enableVertexAttribArray(o):t.disableVertexAttribArray(o))}else for(o=0;o<e.length;o++){var a=e[o];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e){function i(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE}var o=!(i.prototype.upload=function(t){this.bind();var e=this.gl,r=(e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.videoWidth||t.width),n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n});i.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!o){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");o=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},i.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},i.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},i.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},i.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},i.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},i.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},i.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},i.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},i.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},i.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},i.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},i.fromSource=function(t,e,r){t=new i(t);return t.premultiplyAlpha=r||!1,t.upload(e),t},i.fromData=function(t,e,r,n){t=new i(t);return t.uploadData(e,r,n),t},t.exports=i},function(t,e){function a(t,e,r){return e=t.createShader(e),t.shaderSource(e,r),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(console.log(t.getShaderInfoLog(e)),null)}t.exports=function(t,e,r,n){var e=a(t,t.VERTEX_SHADER,e),r=a(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,r),n)for(var o in n)t.bindAttribLocation(i,n[o],o);return t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(r),i}},function(t,e,r){function s(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)}var u=r(62),l=r(102);t.exports=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i),a=u(t,o.type);r[o.name]={type:a,size:l(a),location:t.getAttribLocation(e,o.name),pointer:s}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var u=r(62),l=r(104);t.exports=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]/,""),s=u(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:l(s,o.size)}}return r}},function(t,e){function r(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var u={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},l={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};t.exports=function(t,e){for(var r={data:{}},n=(r.gl=t,Object.keys(e)),i=0;i<n.length;i++){var o=n[i],a=o.split("."),s=a[a.length-1],a=function(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}(a,r),o=e[o];a.data[s]=o,a.gl=t,Object.defineProperty(a,s,{get:function(t){return function(){return this.data[t].value}}(s),set:function(r,n){return function(t){this.data[r].value=t;var e=this.data[r].location;(1===n.size?u:l)[n.type](this.gl,e,t)}}(s,o)})}return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=d(r(19)),a=r(0),s=d(r(3)),u=d(r(108)),l=d(r(109)),h=d(r(63)),c=r(4);function d(t){return t&&t.__esModule?t:{default:t}}r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var t,e;if(this instanceof n)return t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this)),e=(s.default.TRANSFORM_MODE===a.TRANSFORM_MODE.STATIC?u:l).default,t.tempDisplayObjectParent=null,t.transform=new e,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t.filterArea=null,t._filters=null,t._enabledFilters=null,t._bounds=new h.default,t._boundsID=0,t._lastBoundsID=-1,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},n.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},n.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new c.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},n.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent,t=(this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),t=this._localBoundsRect),this.getBounds(!1,t));return this.parent=r,this.transform=e,t},n.prototype.toGlobal=function(t,e){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},n.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},n.prototype.renderWebGL=function(t){},n.prototype.renderCanvas=function(t){},n.prototype.setParent=function(t){if(t&&t.addChild)return t.addChild(this),t;throw new Error("setParent: Argument must be a Container")},n.prototype.setTransform=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},n.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i(n,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new n),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),n}(o.default);(e.default=r).prototype.displayObjectUpdateTransform=r.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(4),r=r(65);r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(){var t;if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this))).position=new o.ObservablePoint(t.onChange,t,0,0),t.scale=new o.ObservablePoint(t.onChange,t,1,1),t.pivot=new o.ObservablePoint(t.onChange,t,0,0),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t._localID=0,t._currentLocalID=0,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e,r,n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale._x,n.b=this._sx*this.scale._x,n.c=this._cy*this.scale._y,n.d=this._sy*this.scale._y,n.tx=this.position._x-(this.pivot._x*n.a+this.pivot._y*n.c),n.ty=this.position._y-(this.pivot._x*n.b+this.pivot._y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(r=this.worldTransform).a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(n,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),n}(((r=r)&&r.__esModule?r:{default:r}).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(4),r=r(65);r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(){var t;if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this))).position=new o.Point(0,0),t.scale=new o.Point(1,1),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t.pivot=new o.Point(0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},n.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},n.prototype.updateTransform=function(t){var e=this.localTransform,t=(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),t.worldTransform),r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._worldID++},n.prototype.setFromMatrix=function(t){t.decompose(this)},i(n,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),n}(((r=r)&&r.__esModule?r:{default:r}).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,i=i||document.createElement("a");i.href=t;var r=!(t=n.default.parse(i.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"};var e=r(111),n=(r=e)&&r.__esModule?r:{default:r};var i=void 0},function(t,e,r){"use strict";var w=r(221);function x(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var E=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,S=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),O=["'"].concat(i),A=["%","/","?",";","#"].concat(O),P=["/","?","#"],M=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=r(223);function o(t,e,r){var n;return t&&"object"==typeof t&&t instanceof x?t:((n=new x).parse(t,e,r),n)}x.prototype.parse=function(t,e,r){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),n=-1!==n&&n<t.indexOf("#")?"?":"#",i=t.split(n);i[0]=i[0].replace(/\\/g,"/");var o=(o=t=i.join(n)).trim();if(!r&&1===t.split("#").length){i=S.exec(o);if(i)return this.path=o,this.href=o,this.pathname=i[1],i[2]?(this.search=i[2],this.query=e?L.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,n=E.exec(o);if(n&&(a=(n=n[0]).toLowerCase(),this.protocol=a,o=o.substr(n.length)),!(r||n||o.match(/^\/\/[^@/]+@[^@/]+/))||!(b="//"===o.substr(0,2))||n&&R[n]||(o=o.substr(2),this.slashes=!0),!R[n]&&(b||n&&!D[n])){for(var s=-1,u=0;u<P.length;u++)-1!==(l=o.indexOf(P[u]))&&(-1===s||l<s)&&(s=l);-1!==(t=-1===s?o.lastIndexOf("@"):o.lastIndexOf("@",s))&&(i=o.slice(0,t),o=o.slice(t+1),this.auth=decodeURIComponent(i));for(var l,s=-1,u=0;u<A.length;u++)-1!==(l=o.indexOf(A[u]))&&(-1===s||l<s)&&(s=l);-1===s&&(s=o.length),this.host=o.slice(0,s),o=o.slice(s),this.parseHost(),this.hostname=this.hostname||"";r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r)for(var h=this.hostname.split(/\./),u=0,c=h.length;u<c;u++){var d=h[u];if(d&&!d.match(M)){for(var f="",p=0,y=d.length;p<y;p++)127<d.charCodeAt(p)?f+="x":f+=d[p];if(!f.match(M)){var _=h.slice(0,u),v=h.slice(u+1),g=d.match(I);g&&(_.push(g[1]),v.unshift(g[2])),v.length&&(o="/"+v.join(".")+o),this.hostname=_.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),r||(this.hostname=w.toASCII(this.hostname));var m=this.port?":"+this.port:"",b=this.hostname||"";this.host=b+m,this.href+=this.host,r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0])&&(o="/"+o)}if(!C[a])for(u=0,c=O.length;u<c;u++){var x,T=O[u];-1!==o.indexOf(T)&&((x=encodeURIComponent(T))===T&&(x=escape(T)),o=o.split(T).join(x))}n=o.indexOf("#"),-1!==n&&(this.hash=o.substr(n),o=o.slice(0,n)),t=o.indexOf("?");return-1!==t?(this.search=o.substr(t),this.query=o.substr(t+1),e&&(this.query=L.parse(this.query)),o=o.slice(0,t)):e&&(this.search="",this.query={}),o&&(this.pathname=o),D[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(m=this.pathname||"",i=this.search||"",this.path=m+i),this.href=this.format(),this},x.prototype.format=function(){var t=this.auth||"",e=(t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@"),this.protocol||""),r=this.pathname||"",n=this.hash||"",i=!1,o="",t=(this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port)&&(i+=":"+this.port),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=L.stringify(this.query)),this.search||o&&"?"+o||"");return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||D[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i=i||"",n&&"#"!==n.charAt(0)&&(n="#"+n),t&&"?"!==t.charAt(0)&&(t="?"+t),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(t=t.replace("#","%23"))+n},x.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},x.prototype.resolveObject=function(t){"string"==typeof t&&((d=new x).parse(t,!1,!0),t=d);for(var e=new x,r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];e[i]=this[i]}if(e.hash=t.hash,""!==t.href)if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var s=o[a];"protocol"!==s&&(e[s]=t[s])}D[e.protocol]&&e.hostname&&!e.pathname&&(e.pathname="/",e.path=e.pathname)}else if(t.protocol&&t.protocol!==e.protocol)if(D[t.protocol]){if(e.protocol=t.protocol,t.host||R[t.protocol])e.pathname=t.pathname;else{for(var u=(t.pathname||"").split("/");u.length&&!(t.host=u.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==u[0]&&u.unshift(""),u.length<2&&u.unshift(""),e.pathname=u.join("/")}e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(d=e.pathname||"",f=e.search||"",e.path=d+f),e.slashes=e.slashes||t.slashes}else for(var l=Object.keys(t),h=0;h<l.length;h++){var c=l[h];e[c]=t[c]}else{var d=e.pathname&&"/"===e.pathname.charAt(0),f=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=f||d||e.host&&t.pathname,p=d,y=e.pathname&&e.pathname.split("/")||[],u=t.pathname&&t.pathname.split("/")||[],_=e.protocol&&!D[e.protocol];if(_&&(e.hostname="",e.port=null,e.host&&(""===y[0]?y[0]=e.host:y.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===u[0]?u[0]=t.host:u.unshift(t.host)),t.host=null),d=d&&(""===u[0]||""===y[0])),f)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,y=u;else if(u.length)(y=y||[]).pop(),y=y.concat(u),e.search=t.search,e.query=t.query;else if(null!=t.search)return _&&(e.host=y.shift(),e.hostname=e.host,b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.hostname=b.shift(),e.host=e.hostname),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(y.length){for(var v=y.slice(-1)[0],f=(e.host||t.host||1<y.length)&&("."===v||".."===v)||""===v,g=0,m=y.length;0<=m;m--)"."===(v=y[m])?y.splice(m,1):".."===v?(y.splice(m,1),g++):g&&(y.splice(m,1),g--);if(!d&&!p)for(;g--;)y.unshift("..");!d||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),f&&"/"!==y.join("/").substr(-1)&&y.push("");var b,p=""===y[0]||y[0]&&"/"===y[0].charAt(0);_&&(e.hostname=!p&&y.length?y.shift():"",e.host=e.hostname,b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.hostname=b.shift(),e.host=e.hostname),(d=d||e.host&&y.length)&&!p&&y.unshift(""),0<y.length?e.pathname=y.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes}else e.pathname=null,e.search?e.path="/"+e.search:e.path=null}return e.href=e.format(),e},x.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=o,e.resolve=function(t,e){return o(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e},e.format=function(t){return(t="string"==typeof t?o(t):t)instanceof x?t.format():x.prototype.format.call(t)},e.Url=x},function(t,e,r){"use strict";function s(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r}var l=r(70),u=Object.prototype.hasOwnProperty,y=Array.isArray,h=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();t.exports={arrayToObject:s,assign:function(t,r){return Object.keys(r).reduce(function(t,e){return t[e]=r[e],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var u=a[s],l=o[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:o,prop:u}),r.push(l))}for(var h=e;1<h.length;){var c=h.pop(),d=c.obj[c.prop];if(y(d)){for(var f=[],p=0;p<d.length;++p)void 0!==d[p]&&f.push(d[p]);c.obj[c.prop]=f}}return t},decode:function(e,t,r){e=e.replace(/\+/g," ");if("iso-8859-1"===r)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch(t){return e}},encode:function(t,e,r,n,i){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var a="",s=0;s<o.length;++s){var u=o.charCodeAt(s);45===u||46===u||95===u||126===u||48<=u&&u<=57||65<=u&&u<=90||97<=u&&u<=122||i===l.RFC1738&&(40===u||41===u)?a+=o.charAt(s):u<128?a+=h[u]:u<2048?a+=h[192|u>>6]+h[128|63&u]:u<55296||57344<=u?a+=h[224|u>>12]+h[128|u>>6&63]+h[128|63&u]:(s+=1,u=65536+((1023&u)<<10|1023&o.charCodeAt(s)),a+=h[240|u>>18]+h[128|u>>12&63]+h[128|u>>6&63]+h[128|63&u])}return a},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(y(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function n(i,o,a){if(!o)return i;if("object"!=typeof o){if(y(i))i.push(o);else{if(!i||"object"!=typeof i)return[i,o];(a&&(a.plainObjects||a.allowPrototypes)||!u.call(Object.prototype,o))&&(i[o]=!0)}return i}var t;return i&&"object"==typeof i?(y(t=i)&&!y(o)&&(t=s(i,a)),y(i)&&y(o)?(o.forEach(function(t,e){var r;u.call(i,e)?(r=i[e])&&"object"==typeof r&&t&&"object"==typeof t?i[e]=n(r,t,a):i.push(t):i[e]=t}),i):Object.keys(o).reduce(function(t,e){var r=o[e];return u.call(t,e)?t[e]=n(t[e],r,a):t[e]=r,t},t)):[i].concat(o)}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=o(r(22)),u=r(2),l=r(72),h=r(0),c=o(r(110));function o(t){return t&&t.__esModule?t:{default:t}}r=function(o){var t=s,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function s(t,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=this,i=s;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0);n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,t,e));return n.width=t.videoWidth,n.height=t.videoHeight,n._autoUpdate=!0,n._isAutoUpdating=!1,n.autoPlay=r,n.update=n.update.bind(n),n._onCanPlay=n._onCanPlay.bind(n),t.addEventListener("play",n._onPlayStart.bind(n)),t.addEventListener("pause",n._onPlayStop.bind(n)),n.hasLoaded=!1,n.__loaded=!1,n._isSourceReady()?n._onCanPlay():(t.addEventListener("canplay",n._onCanPlay),t.addEventListener("canplaythrough",n._onCanPlay)),n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),s.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},s.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},s.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(l.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},s.prototype._onPlayStop=function(){this._isAutoUpdating&&(l.shared.remove(this.update,this),this._isAutoUpdating=!1)},s.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},s.prototype.destroy=function(){this._isAutoUpdating&&l.shared.remove(this.update,this),this.source&&this.source._pixiId&&(a.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),o.prototype.destroy.call(this)},s.fromVideo=function(t,e,r){t._pixiId||(t._pixiId="video_"+(0,u.uid)());var n=u.BaseTextureCache[t._pixiId];return n||(n=new s(t,e,r),a.default.addToCache(n,t._pixiId)),n},s.fromUrl=function(t,e,r,n){var i=document.createElement("video"),o=(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),Array.isArray(t)?t[0].src||t[0]:t.src||t);if(void 0===r&&0!==o.indexOf("data:")?i.crossOrigin=(0,c.default)(o):r&&(i.crossOrigin="string"==typeof r?r:"anonymous"),Array.isArray(t))for(var a=0;a<t.length;++a)i.appendChild(d(t[a].src||t[a],t[a].mime));else i.appendChild(d(o,t.mime));return i.load(),s.fromVideo(i,e,n)},n(s,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(l.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(l.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),s}(a.default);function d(t,e){e||(e="video/"+(r=t.split("?").shift().toLowerCase()).substr(r.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}(e.default=r).fromUrls=r.fromUrl},function(t,e,r){"use strict";e.__esModule=!0;var r=r(97),u=(r=r)&&r.__esModule?r:{default:r};function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}n.prototype.set=function(t,e,r){var n,i,o,a,s=e.width,e=e.height;r?(n=t.width/2/s,i=t.height/2/e,o=t.x/s+n,a=t.y/e+i,r=u.default.add(r,u.default.NW),this.x0=o+n*u.default.uX(r),this.y0=a+i*u.default.uY(r),r=u.default.add(r,2),this.x1=o+n*u.default.uX(r),this.y1=a+i*u.default.uY(r),r=u.default.add(r,2),this.x2=o+n*u.default.uX(r),this.y2=a+i*u.default.uY(r),r=u.default.add(r,2),this.x3=o+n*u.default.uX(r),this.y3=a+i*u.default.uY(r)):(this.x0=t.x/s,this.y0=t.y/e,this.x1=(t.x+t.width)/s,this.y1=t.y/e,this.x2=(t.x+t.width)/s,this.y2=(t.y+t.height)/e,this.x3=t.x/s,this.y3=(t.y+t.height)/e),this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=r(2),u=r(4),l=r(0),h=o(r(3)),c=o(r(30)),d=o(r(73)),r=o(r(19));function o(t){return t&&t.__esModule?t:{default:t}}var f=new u.Matrix,r=function(o){var t=a,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(t,e,r,n){var i;if(this instanceof a)return i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this)),(0,s.sayHello)(t),"number"==typeof e&&(e=Object.assign({width:e,height:r||h.default.RENDER_OPTIONS.height},n)),e=Object.assign({},h.default.RENDER_OPTIONS,e),i.options=e,i.type=l.RENDERER_TYPE.UNKNOWN,i.screen=new u.Rectangle(0,0,e.width,e.height),i.view=e.view||document.createElement("canvas"),i.resolution=e.resolution||h.default.RESOLUTION,i.transparent=e.transparent,i.autoResize=e.autoResize||!1,i.blendModes=null,i.preserveDrawingBuffer=e.preserveDrawingBuffer,i.clearBeforeRender=e.clearBeforeRender,i.roundPixels=e.roundPixels,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=e.backgroundColor||i._backgroundColor,i._tempDisplayObjectParent=new c.default,i._lastObjectRendered=i._tempDisplayObjectParent,i;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},a.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();e=d.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,e,!1,f,!!t.parent),e},a.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=l.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(a,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,s.hex2string)(t),(0,s.hex2rgb)(t,this._backgroundColorRgba)}}]),a}(r.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(22)),u=i(r(3));function i(t){return t&&t.__esModule?t:{default:t}}r=function(a){var t=s,e=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,r=arguments[2],n=arguments[3],i=this,o=s;if(i instanceof o)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this,null,r))).resolution=n||u.default.RESOLUTION,i.width=Math.ceil(t),i.height=Math.ceil(e),i.realWidth=i.width*i.resolution,i.realHeight=i.height*i.resolution,i.scaleMode=void 0!==r?r:u.default.SCALE_MODE,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),s.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},s.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null},s}(n.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=r(3),o=(r=r)&&r.__esModule?r:{default:r};function a(t,e,r){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||o.default.RESOLUTION,this.resize(t,e)}a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},a.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},a.prototype.destroy=function(){this.context=null,this.canvas=null},n(a,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas"),r=(e.width=6,e.height=1,e.getContext("2d"));return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas"),r=(r.width=6,r.height=1,r.getContext("2d")),t=(r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0),r.getImageData(2,0,1,1));return!!t&&255===(e=t.data)[0]&&0===e[1]&&0===e[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(120)),o=r(4),a=(r(10),i(r(121)));function i(t){return t&&t.__esModule?t:{default:t}}r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(t){var e,r;if(this instanceof i)return e=new o.Matrix,r=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n")),t.renderable=!1,r.maskSprite=t,r.maskMatrix=e,r;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.apply=function(t,e,r,n){var i=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new a.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,n))},i}(n.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=l(r(243)),a=r(2),s=r(0),u=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var h={};function c(t,e,r){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");for(var n in this.vertexSrc=t||c.defaultVertexSrc,this.fragmentSrc=e||c.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=r||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[n]=this.uniformData[n].value,this.uniformData[n].type&&(this.uniformData[n].type=this.uniformData[n].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,a.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}c.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(c,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),e.default=c},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=r(60),o=(r=r)&&r.__esModule?r:{default:r};var a=new o.default;function s(t,e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._texture=t,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e}s.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},s.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var t=e._uvs,t=(this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0),e.orig),r=e.trim,t=(r&&(a.set(t.width/r.width,0,0,t.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(a)),e.baseTexture),r=this.uClampFrame,n=this.clampMargin/t.resolution,i=this.clampOffset;return r[0]=(e._frame.x+n+i)/t.width,r[1]=(e._frame.y+n+i)/t.height,r[2]=(e._frame.x+e._frame.width-n+i)/t.width,r[3]=(e._frame.y+e._frame.height-n+i)/t.height,this.uClampOffset[0]=i/t.realWidth,this.uClampOffset[1]=i/t.realHeight,!0},n(s,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(7)),i=o(r(74));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,e)}a.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},a.prototype.map=function(t,e){var r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,t=e.x,r=e.y,this.vertices[0]=t,this.vertices[1]=r,this.vertices[2]=t+e.width,this.vertices[3]=r,this.vertices[4]=t+e.width,this.vertices[5]=r+e.height,this.vertices[6]=t,this.vertices[7]=r+e.height,this},a.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},a.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(0),a=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:o.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],r=(l.prototype.clone=function(){var t={};return d(t,this,s),new l(t)},l.prototype.reset=function(){d(this,s,s)},l.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,r=(e=Array.isArray(this.fontFamily)?e:this.fontFamily.split(",")).length-1;0<=r;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&u.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(l,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){t=c(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){t=c(t);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return;if(t.length!==e.length)return;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return;return 1}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){t=c(t);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),l);function l(t){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.styleID=0,this.reset(),d(this,t,t)}function h(t){return"number"==typeof t?(0,a.hex2string)(t):"string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function c(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}function d(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=r},function(t,e,r){"use strict";e.__esModule=!0;S.measureText=function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:S._canvas,i=(r=null==r?e.wordWrap:r,e.toFontString()),o=S.measureFont(i),a=n.getContext("2d");a.font=i;for(var s=(r?S.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(s.length),l=0,h=0;h<s.length;h++){var c=a.measureText(s[h]).width+(s[h].length-1)*e.letterSpacing;u[h]=c,l=Math.max(l,c)}i=l+e.strokeThickness,e.dropShadow&&(i+=e.dropShadowDistance),r=e.lineHeight||o.fontSize+e.strokeThickness,n=Math.max(r,o.fontSize+e.strokeThickness)+(s.length-1)*(r+e.leading);return e.dropShadow&&(n+=e.dropShadowDistance),new S(t,e,i,n,s,u,r+e.leading,l,o)},S.wordWrap=function(t,e){for(var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:S._canvas).getContext("2d"),n=0,i="",o="",a={},s=e.letterSpacing,u=e.whiteSpace,l=S.collapseSpaces(u),h=S.collapseNewlines(u),c=!l,d=e.wordWrapWidth+s,f=S.tokenize(t),p=0;p<f.length;p++){var y=f[p];if(S.isNewline(y)){if(!h){o+=S.addLine(i),c=!l,i="",n=0;continue}y=" "}if(l){var _=S.isBreakingSpace(y),v=S.isBreakingSpace(i[i.length-1]);if(_&&v)continue}_=S.getFromCache(y,s,a,r);if(d<_)if(""!==i&&(o+=S.addLine(i),i="",n=0),S.canBreakWords(y,e.breakWords))for(var g=y.split(""),m=0;m<g.length;m++){for(var b=g[m],x=1;g[m+x];){var T=g[m+x],w=b[b.length-1];if(S.canBreakChars(w,T,y,m,e.breakWords))break;b+=T,x++}m+=b.length-1;var E=S.getFromCache(b,s,a,r);d<E+n&&(o+=S.addLine(i),c=!1,i="",n=0),i+=b,n+=E}else{0<i.length&&(o+=S.addLine(i),i="",n=0);v=p===f.length-1;o+=S.addLine(y,!v),c=!1,i="",n=0}else d<_+n&&(c=!1,o+=S.addLine(i),i="",n=0),(0<i.length||!S.isBreakingSpace(y)||c)&&(i+=y,n+=_)}return o+=S.addLine(i,!1)},S.addLine=function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return t=S.trimRight(t),t=e?t+"\n":t},S.getFromCache=function(t,e,r,n){var i=r[t];return void 0===i&&(e=t.length*e,i=n.measureText(t).width+e,r[t]=i),i},S.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},S.collapseNewlines=function(t){return"normal"===t},S.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var r=t[e];if(!S.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},S.isNewline=function(t){return"string"==typeof t&&0<=S._newlines.indexOf(t.charCodeAt(0))},S.isBreakingSpace=function(t){return"string"==typeof t&&0<=S._breakingSpaces.indexOf(t.charCodeAt(0))},S.tokenize=function(t){var e=[],r="";if("string"==typeof t){for(var n=0;n<t.length;n++){var i=t[n];S.isBreakingSpace(i)||S.isNewline(i)?(""!==r&&(e.push(r),r=""),e.push(i)):r+=i}""!==r&&e.push(r)}return e},S.canBreakWords=function(t,e){return e},S.canBreakChars=function(t,e,r,n,i){return!0},S.measureFont=function(t){if(S._fonts[t])return S._fonts[t];for(var e={},r=S._canvas,n=S._context,i=(n.font=t,S.METRICS_STRING+S.BASELINE_SYMBOL),o=Math.ceil(n.measureText(i).width),a=2*(s=Math.ceil(n.measureText(S.BASELINE_SYMBOL).width)),s=s*S.BASELINE_MULTIPLIER|0,u=(r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,s),n.getImageData(0,0,o,a).data),r=u.length,l=4*o,h=0,c=0,d=!1,h=0;h<s;++h){for(var f=0;f<l;f+=4)if(255!==u[c+f]){d=!0;break}if(d)break;c+=l}for(e.ascent=s-h,c=r-l,d=!1,h=a;s<h;--h){for(var p=0;p<l;p+=4)if(255!==u[c+p]){d=!0;break}if(d)break;c-=l}return e.descent=h-s,e.fontSize=e.ascent+e.descent,S._fonts[t]=e},S.clearMetrics=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";t?delete S._fonts[t]:S._fonts={}};var n=S;function S(t,e,r,n,i,o,a,s,u){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}e.default=n;e=document.createElement("canvas");e.width=e.height=10,n._canvas=e,n._context=e.getContext("2d"),n._fonts={},n.METRICS_STRING="|Éq",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,r){"use strict";function l(t,e,r,n,i,o,a,s,u){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.lineWidth=t,this.lineAlignment=u,this.nativeLines=a,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=n,this.fillAlpha=i,this._fillTint=n,this.fill=o,this.holes=[],this.shape=s,this.type=s.type}e.__esModule=!0,l.prototype.clone=function(){return new l(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},l.prototype.addHole=function(t){this.holes.push(t)},l.prototype.destroy=function(){this.shape=null,this.holes=null},e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r(127),a=h(r(30)),s=r(72),u=h(r(3)),l=r(0);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e,r,n,i){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");"number"==typeof t&&(t=Object.assign({width:t,height:e||u.default.RENDER_OPTIONS.height,forceCanvas:!!n,sharedTicker:!!i},r)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,o.autoDetectRenderer)(t),this.stage=new a.default,this._ticker=null,this.ticker=t.sharedTicker?s.shared:new s.Ticker,t.autoStart&&this.start()}c.prototype.render=function(){this.renderer.render(this.stage)},c.prototype.stop=function(){this._ticker.stop()},c.prototype.start=function(){this._ticker.start()},c.prototype.destroy=function(t,e){var r;this._ticker&&(r=this._ticker,this.ticker=null,r.destroy()),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(c,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,l.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,n){var i=t&&t.forceCanvas;void 0!==n&&(i=n);return new(i||!o.isWebGLSupported()?a:s).default(t,e,r)};var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(2)),a=n(r(31)),s=n(r(39));function n(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(275),i=(Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return s(n).default}}),r(276)),o=(Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return s(i).default}}),r(277)),a=(Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return s(o).default}}),r(278));function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return s(a).default}}),r(279),r(280),r(281)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),l=o(r(131)),h=o(r(132)),c=o(r(133));function o(t){return t&&t.__esModule?t:{default:t}}r=function(o){var t=a,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(t,e,r,n){var i;if(this instanceof a)return i=(0,l.default)(n=n||5,!0),n=(0,h.default)(n),(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,i,n))).resolution=r||s.settings.RESOLUTION,i._quality=0,i.quality=e||4,i.strength=t||8,i.firstRun=!0,i;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a.prototype.apply=function(t,e,r,n){if(this.firstRun&&(i=t.renderer.gl,i=(0,c.default)(i),this.vertexSrc=(0,l.default)(i,!0),this.fragmentSrc=(0,h.default)(i),this.firstRun=!1),this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var i=t.getRenderTarget(!0),o=e,a=i,s=0;s<this.passes-1;s++){t.applyFilter(this,o,a,!0);var u=a,a=o,o=u}t.applyFilter(this,o,r,n),t.returnRenderTarget(i)}},n(a,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),a}(s.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),n=u,i="",o=void 0;o=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=o.replace("%index%",a);s=s.replace("%sampleIndex%",a-(r-1)+".0"),i=i+s+"\n"}return n=(n=n.replace("%blur%",i)).replace("%size%",t)};var u=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=u[t],r=e.length,n=l,i="",o=void 0,a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a);r<=(o=a)&&(o=t-a-1),s=s.replace("%value%",e[o]),i=i+s+"\n"}return n=(n=n.replace("%blur%",i)).replace("%size%",t)};var u={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},l=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;e<r;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),l=o(r(131)),h=o(r(132)),c=o(r(133));function o(t){return t&&t.__esModule?t:{default:t}}r=function(o){var t=a,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(t,e,r,n){var i;if(this instanceof a)return i=(0,l.default)(n=n||5,!1),n=(0,h.default)(n),(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,i,n))).resolution=r||s.settings.RESOLUTION,i._quality=0,i.quality=e||4,i.strength=t||8,i.firstRun=!0,i;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a.prototype.apply=function(t,e,r,n){if(this.firstRun&&(i=t.renderer.gl,i=(0,c.default)(i),this.vertexSrc=(0,l.default)(i,!1),this.fragmentSrc=(0,h.default)(i),this.firstRun=!1),this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var i=t.getRenderTarget(!0),o=e,a=i,s=0;s<this.passes-1;s++){t.applyFilter(this,o,a,!0);var u=a,a=o,o=u}t.applyFilter(this,o,r,n),t.returnRenderTarget(i)}},n(a,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),a}(s.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}a.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},a.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},a.prototype.reset=function(){this.isPrimary=!1},n(a,[{key:"pointerId",get:function(){return this.identifier}}]),e.default=a},function(t,e,r){"use strict";function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}e.__esModule=!0,n.prototype.stopPropagation=function(){this.stopped=!0},n.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(o,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]);n=o;function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._pointerId=t,this._flags=o.FLAGS.NONE}(e.default=n).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0,e.parse=y,e.default=function(){return function(e,r){if(e.data&&e.type===p.Resource.TYPE.XML)if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))r();else for(var t=e.isDataUrl?"":f.dirname(e.url),n=(e.isDataUrl&&("."===t&&(t=""),this.baseUrl)&&t&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(t+="/"),(t=t.replace(this.baseUrl,""))&&"/"!==t.charAt(t.length-1)&&(t+="/"),e.data.getElementsByTagName("page")),i={},o=function(t){i[t.metadata.pageFile]=t.texture,Object.keys(i).length===n.length&&(y(e,i),r())},a=0;a<n.length;++a){var s,u,l=n[a].getAttribute("file"),h=t+l,c=!1;for(s in this.resources){var d=this.resources[s];if(d.url===h){d.metadata.pageFile=l,d.texture?o(d):d.onAfterMiddleware.add(o),c=!0;break}}c||(u={crossOrigin:e.crossOrigin,loadType:p.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e},this.add(h,u,o))}else r()}};var f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(10)),p=r(34),n=r(129);function y(t,e){t.bitmapFont=n.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(s,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]);var a=s;function s(t,e,r){void 0===e&&(e=!1),o(this,s),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}function u(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}n(l,[{key:"handlers",value:function(){var t=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!t;for(var e=[];t;)e.push(t),t=t._next;return e}},{key:"has",value:function(t){if(t instanceof a)return t._owner===this;throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.")}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return u(this,new a(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return u(this,new a(t,!0,e))}},{key:"detach",value:function(t){if(t instanceof a)return t._owner===this&&(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this;throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.")}},{key:"detachAll",value:function(){var t=this._head;if(t)for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]);n=l;function l(){o(this,l),this._head=this._tail=void 0}n.MiniSignalBinding=a,e.default=n,t.exports=e.default},function(t,e,r){"use strict";t.exports=(e,r={})=>{if(e){const i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var n=i.parser[r.strictMode?"strict":"loose"].exec(e);const o={};let t=14;for(;t--;)o[i.key[t]]=n[t]||"";return o[i.q.name]={},o[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(o[i.q.name][e]=r)}),o}}},function(t,e,r){"use strict";function o(){}e.__esModule=!0,e.eachSeries=function(r,n,i,o){var a=0,s=r.length;!function t(e){e||a===s?i&&i(e):o?setTimeout(function(){n(r[a++],t)},1):n(r[a++],t)}()},e.queue=function(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:t,saturated:o,unsaturated:o,buffer:t/4,empty:o,drain:o,error:o,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){r=0,n.drain=o,n.started=!1,n._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),(r+=1)===n.concurrency&&n.saturated(),e(t.data,function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}(function(t){return function(){--r,t.callback.apply(t,arguments),null!=arguments[0]&&n.error(arguments[0],t.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}(t)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function i(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");n.started=!0,null==t&&n.idle()?setTimeout(function(){return n.drain()},1):(t={data:t,callback:"function"==typeof r?r:o},e?n._tasks.unshift(t):n._tasks.push(t),setTimeout(function(){return n.process()},1))}return n}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=n;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)e+=s.charAt(i[a])}return e}t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(r,n){var t,e,i=r.name+"_image";r.data&&r.type===o.Resource.TYPE.JSON&&r.data.frames&&!this.resources[i]?(t={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},e=s(r,this.baseUrl),this.add(i,e,t,function(t){var e;t.error?n(t.error):(e=new a.Spritesheet(t.texture.baseTexture,r.data,r.url)).parse(function(){r.spritesheet=e,r.textures=e.textures,n()})})):n()}},e.getResourcePath=s;var o=r(34),e=r(111),n=(e=e)&&e.__esModule?e:{default:e},a=r(1);function s(t,e){return t.isDataUrl?t.data.meta.image:n.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=i.default.fromLoader(t.data,t.url,t.name)),e()}};var n=r(34),e=r(14),i=(r=e)&&r.__esModule?r:{default:r}},function(t,e,r){"use strict";e.__esModule=!0;var r=r(35),o=(r=r)&&r.__esModule?r:{default:r};r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(t,e,r){if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t)))._ready=!0,t.verticesX=e||10,t.verticesY=r||10,t.drawMode=o.default.DRAW_MODES.TRIANGLES,t.refresh(),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,l=0;l<e;l++){var h=l%this.verticesX,c=l/this.verticesX|0;r.push(h*s,c*u),n.push(h/o,c/a)}for(var d=o*a,f=0;f<d;f++){var p=f%o,y=f/o|0,_=y*this.verticesX+p,v=y*this.verticesX+p+1,g=(1+y)*this.verticesX+p,y=(1+y)*this.verticesX+p+1;i.push(_,v,g),i.push(v,y,g)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},i.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i}(o.default);e.default=r},function(t,e,r){"use strict";function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.maxItemsPerFrame=t,this.itemsLeft=0}e.__esModule=!0,n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e.default=n},function(t,e,r){t.exports={default:r(312),__esModule:!0}},function(i,o,t){!function(e){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}t.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var r=Object.keys(this._tweens);if(0===r.length)return!1;for(t=void 0!==t?t:s.now();0<r.length;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var i=this._tweens[r[n]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[r[n]])}r=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var r,n,s=new t;s.Group=t,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof self&&void 0!==e&&e.hrtime?s.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?s.now=self.performance.now.bind(self.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?s.now()+parseFloat(t):t:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,r,n,i,o,a;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||1<r?1:r,n=this._easingFunction(r),this._valuesEnd)void 0!==this._valuesStart[e]&&(i=this._valuesStart[e]||0,(o=this._valuesEnd[e])instanceof Array?this._object[e]=this._interpolationFunction(o,n):"number"==typeof(o="string"==typeof o?"+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o):o)&&(this._object[e]=i+(o-i)*n));if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1!=r)return!0;if(0<this._repeat){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)"string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&(a=this._valuesStartRepeat[e],this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a),this._valuesStart[e]=this._valuesStartRepeat[e];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}},s.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-s.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*s.Easing.Bounce.In(2*t):.5*s.Easing.Bounce.Out(2*t-1)+.5}}},s.Interpolation={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),o=s.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],n):1<e?o(t[r],t[r-1],r-n):o(t[i],t[r<i+1?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,o=s.Interpolation.Utils.Bernstein,a=0;a<=n;a++)r+=i(1-e,n-a)*i(e,a)*t[a]*o(n,a);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),o=s.Interpolation.Utils.CatmullRom;return t[0]===t[r]?o(t[((i=e<0?Math.floor(n=r*(1+e)):i)-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):1<e?t[r]-(o(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):o(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=s.Interpolation.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var r=t;1<r;r--)e*=r;return n[t]=e}),CatmullRom:function(t,e,r,n,i){var t=.5*(r-t),n=.5*(n-e),o=i*i;return(2*e-2*r+t+n)*(i*o)+(-3*e+3*r-2*t-n)*o+t*i+e}}},void 0!==(r=function(){return s}.apply(o,[]))&&(i.exports=r)}.call(o,t(40))},function(c,t,d){!function(t){for(var n,i,o,a=d(317),e="undefined"==typeof window?t:window,r=["moz","webkit"],s="AnimationFrame",u=e["request"+s],l=e["cancel"+s]||e["cancelRequest"+s],h=0;!u&&h<r.length;h++)u=e[r[h]+"Request"+s],l=e[r[h]+"Cancel"+s]||e[r[h]+"CancelRequest"+s];u&&l||(i=n=0,o=[],u=function(t){var e,r;return 0===o.length&&(e=a(),r=Math.max(0,1e3/60-(e-n)),n=r+e,setTimeout(function(){for(var t=o.slice(0),e=o.length=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(n)}catch(t){setTimeout(function(){throw t},0)}},Math.round(r))),o.push({handle:++i,callback:t,cancelled:!1}),i},l=function(t){for(var e=0;e<o.length;e++)o[e].handle===t&&(o[e].cancelled=!0)}),c.exports=function(t){return u.call(e,t)},c.exports.cancel=function(){l.apply(e,arguments)},c.exports.polyfill=function(t){(t=t||e).requestAnimationFrame=u,t.cancelAnimationFrame=l}}.call(t,d(29))},function(t,e,r){"use strict";t.exports=function(t){return null!=t}},function(t,r,o){"use strict";!function(e){Object.defineProperty(r,"__esModule",{value:!0});var t=o(348),n=(t=t)&&t.__esModule?t:{default:t};function i(r,t){"development"===e.env.NODE_ENV&&t.forEach(function(e){if(e instanceof Error)r="error";else try{e=(0,n.default)(e)}catch(t){e=t.toString()}var t={INFO:"#FA0",DEBUG:"#008de1",ERROR:"#F00"}[r];console[r]?console[r](e):console.log("%c ["+r+"] --- "+e,"font-size:12px;color:"+t+";")})}r.info=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i("INFO",e)},r.debug=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i("DEBUG",e)},r.error=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i("ERROR",e)}}.call(r,o(40))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(r(43));e.default=f;var i=l(r(177)),o=u(r(347)),a=l(r(350)),s=u(r(152));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}var h=["init","lottery","destroy"],c=null;function d(){var t;return window[c+"_BIZ"]?0<(t=h.map(function(t){if(!(window[c+"_BIZ"][t]instanceof Function))return t}).filter(function(t){return t})).length?n.default.reject("请实现 "+c+"_BIZ 的"+t.join(",")+"方法"):n.default.resolve():n.default.reject("没有 "+c+"_BIZ 对象")}function f(t){var e;t?(e=t.alias,t.gameconfig,t.gamebiz,t.container,c=e.toUpperCase()||"GAME",e=n.default.resolve(),/\.js$/.test(t.gameconfig)?e=(0,a.default)([t.gameconfig,t.gamebiz]):(window[c+"_CONFIG"]=t.gameconfig,window[c+"_BIZ"]=t.gamebiz),e.then(d).then(function(){o.setConfig("container",t.container),o.setConfig("alias",t.alias.toUpperCase())}).then(o.setUpConfig).then(function(){new i.default(t.container)})):s.error("缺少<初始化参数>")}f({alias:"monopoly",container:"#monopoly-box",gameconfig:"./src/config/gameconfig.js",gamebiz:"./src/config/gamebiz.js"})},function(t,e,r){r(79),r(80),r(87),r(167),r(175),r(176),t.exports=r(8).Promise},function(t,e,r){var o=r(44),a=r(45);t.exports=function(i){return function(t,e){var r,t=String(a(t)),e=o(e),n=t.length;return e<0||n<=e?i?"":void 0:(r=t.charCodeAt(e))<55296||56319<r||e+1===n||(n=t.charCodeAt(e+1))<56320||57343<n?i?t.charAt(e):r:i?t.slice(e,e+2):n-56320+(r-55296<<10)+65536}}},function(t,e,r){t.exports=!r(12)&&!r(24)(function(){return 7!=Object.defineProperty(r(48)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var i=r(11);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t))||"function"==typeof(r=t.valueOf)&&!i(n=r.call(t))||!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){t.exports=r(16)},function(t,e,r){"use strict";var n=r(82),i=r(81),o=r(36),a={};r(16)(a,r(6)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(a,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var a=r(13),s=r(17),u=r(83);t.exports=r(12)?Object.defineProperties:function(t,e){s(t);for(var r,n=u(e),i=n.length,o=0;o<i;)a.f(t,r=n[o++],e[r]);return t}},function(t,e,r){var a=r(25),s=r(49),u=r(162)(!1),l=r(52)("IE_PROTO");t.exports=function(t,e){var r,n=s(t),i=0,o=[];for(r in n)r!=l&&a(n,r)&&o.push(r);for(;e.length>i;)!a(n,r=e[i++])||~u(o,r)||o.push(r);return o}},function(t,e,r){var u=r(49),l=r(51),h=r(163);t.exports=function(s){return function(t,e,r){var n,i=u(t),o=l(i.length),a=h(r,o);if(s&&e!=e){for(;a<o;)if((n=i[a++])!=n)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===e)return s||a||0;return!s&&-1}}},function(t,e,r){var n=r(44),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(25),i=r(54),o=r(52)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){"use strict";var n=r(166),i=r(88),o=r(26),a=r(49);t.exports=r(46)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(k,j,r){"use strict";function n(){}var e,i,o,a,s=r(47),d=r(5),u=r(15),t=r(55),l=r(9),h=r(11),c=r(23),f=r(56),p=r(28),y=r(89),_=r(90).set,v=r(172)(),g=r(57),m=r(91),b=r(173),x=r(92),T="Promise",w=d.TypeError,E=d.process,S=E&&E.versions,O=S&&S.v8||"",A=d[T],P="process"==t(E),M=i=g.f,S=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[r(6)("species")]=function(t){t(n,n)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(n)instanceof e&&0!==O.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},C=function(c,r){var n;c._n||(c._n=!0,n=c._c,v(function(){for(var i,l=c._v,h=1==c._s,t=0,e=function(t){var e,r,n,i,o=h?t.ok:t.fail,a=t.resolve,s=t.reject,u=t.domain;try{o?(h||(2==c._h&&(i=c,_.call(d,function(){var t;P?E.emit("rejectionHandled",i):(t=d.onrejectionhandled)&&t({promise:i,reason:i._v})})),c._h=1),!0===o?e=l:(u&&u.enter(),e=o(l),u&&(u.exit(),n=!0)),e===t.promise?s(w("Promise-chain cycle")):(r=I(e))?r.call(e,a,s):a(e)):s(l)}catch(t){u&&!n&&u.exit(),s(t)}};n.length>t;)e(n[t++]);c._c=[],c._n=!1,r&&!c._h&&(i=c,_.call(d,function(){var t,e,r=i._v,n=R(i);if(n&&(t=m(function(){P?E.emit("unhandledRejection",r,i):(e=d.onunhandledrejection)?e({promise:i,reason:r}):(e=d.console)&&e.error&&e.error("Unhandled promise rejection",r)}),i._h=P||R(i)?2:1),i._a=void 0,n&&t.e)throw t.v}))}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},L=function(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(r=I(t))?v(function(){var e={_w:n,_d:!1};try{r.call(t,u(L,e,1),u(D,e,1))}catch(t){D.call(e,t)}}):(n._v=t,n._s=1,C(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};S||(A=function(t){f(this,A,T,"_h"),c(t),e.call(this);try{t(u(L,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(58)(A.prototype,{then:function(t,e){var r=M(y(this,A));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=u(L,t,1),this.reject=u(D,t,1)},g.f=M=function(t){return t===A||t===a?new o:i(t)}),l(l.G+l.W+l.F*!S,{Promise:A}),r(36)(A,T),r(93)(T),a=r(8)[T],l(l.S+l.F*!S,T,{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(s||!S),T,{resolve:function(t){return x(s&&this===a?A:this,t)}}),l(l.S+l.F*!(S&&r(174)(function(t){A.all(t).catch(n)})),T,{all:function(t){var a=this,e=M(a),s=e.resolve,u=e.reject,r=m(function(){var n=[],i=0,o=1;p(t,!1,function(t){var e=i++,r=!1;n.push(void 0),o++,a.resolve(t).then(function(t){r||(r=!0,n[e]=t,--o)||s(n)},u)}),--o||s(n)});return r.e&&u(r.v),e.promise},race:function(t){var e=this,r=M(e),n=r.reject,i=m(function(){p(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(t,e,r){var i=r(17);t.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){n=e.return;throw void 0!==n&&i(n.call(e)),t}}},function(t,e,r){var n=r(26),i=r(6)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},function(t,e,r){var n=r(55),i=r(6)("iterator"),o=r(26);t.exports=r(8).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var s=r(5),u=r(90).set,l=s.MutationObserver||s.WebKitMutationObserver,h=s.process,c=s.Promise,d="process"==r(27)(h);t.exports=function(){function t(){var t,e;for(d&&(t=h.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?i():n=void 0,t}}n=void 0,t&&t.enter()}var r,n,e,i,o,a;return i=d?function(){h.nextTick(t)}:!l||s.navigator&&s.navigator.standalone?c&&c.resolve?(e=c.resolve(void 0),function(){e.then(t)}):function(){u.call(s,t)}:(o=!0,a=document.createTextNode(""),new l(t).observe(a,{characterData:!0}),function(){a.data=o=!o}),function(t){t={fn:t,next:void 0};n&&(n.next=t),r||(r=t,i()),n=t}}},function(t,e,r){r=r(5).navigator;t.exports=r&&r.userAgent||""},function(t,e,r){var o=r(6)("iterator"),a=!1;try{var n=[7][o]();n.return=function(){a=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var r=!1;try{var n=[7],i=n[o]();i.next=function(){return{done:r=!0}},n[o]=function(){return i},t(n)}catch(t){}return r}},function(t,e,r){"use strict";var n=r(9),i=r(8),o=r(5),a=r(89),s=r(92);n(n.P+n.R,"Promise",{finally:function(e){var r=a(this,i.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return s(r,e()).then(function(){return t})}:e,t?function(t){return s(r,e()).then(function(){throw t})}:e)}})},function(t,e,r){"use strict";var n=r(9),i=r(57),o=r(91);n(n.S,"Promise",{try:function(t){var e=i.f(this),t=o(t);return(t.e?e.reject:e.resolve)(t.v),e.promise}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(18)),i=o(r(178));o(r(340));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){(0,n.default)(this,t),new i.default(e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(r(179)),i=f(r(18)),o=f(r(20)),s=f(r(198)),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(21));r(309);var u=f(r(310)),l=f(r(311)),h=f(r(336)),c=f(r(337)),d=f(r(338));function f(t){return t&&t.__esModule?t:{default:t}}(0,o.default)(y,[{key:"hasGroup",value:function(t){return!!this.group["group"+t]}},{key:"getGroup",value:function(t){return this.hasGroup(t)?this.group["group"+t]:this.create(t)}},{key:"create",value:function(t){t=new a.display.Group(t,!0);return this.stage.addChild(new a.display.Layer(t)),t}}]);var p=y;function y(t){(0,i.default)(this,y),this.stage=t,this.group={}}(0,o.default)(_,[{key:"buildPath",value:function(){var r=this;s.default.uData.forEach(function(t,e){"path"===t.type&&(t.count=0,r.path.set(t.position.x+","+t.position.y,t))})}},{key:"bind",value:function(){var t=this;window.addEventListener("resize",function(){t.resize()}),this.loader.on("progress",function(t,e){}),this.loader.on("complete",function(){t.init(),t._addBtn()})}},{key:"sync",value:function(){this.resize()}},{key:"_addBtn",value:function(){var e=this,t=!0,r=(this.role.on("stop",function(){t=!0,e.handerEvent()}),new a.Sprite.from(this.loader.resources.startBtn.texture));r.anchor.set(.5),r.x=550,r.y=550,r.scale.set(.5),this.app.stage.addChild(r),r.interactive=!0,r.buttonMode=!0,r.on("pointerover",function(){r.alpha=.8}),r.on("pointerout",function(){r.alpha=1,r.scale.set(.5)}),r.on("pointerdown",function(){t&&(t=!1,r.scale.set(.45),e.audio.play("touzi"),e.dice.go(),window.MONOPOLY_BIZ.lottery().then(function(t){e.audio.stop("touzi"),e.audio.play("touzi_down"),e.dice.to(t),e.step(t),e.audio.play("move")}))}),r.on("pointerup",function(){r.scale.set(.5)})}},{key:"handerEvent",value:function(){var t=this.path.get(this.curPosition).event.prize;this.audio.stop("move"),t&&t.prizeId&&(this.audio.play("prize"),window.MONOPOLY_BIZ.stop(t.prizeId))}},{key:"resize",value:function(){var t=document.documentElement.clientWidth;t<640&&(this.app.stage.scale.set(t/640),this.app.renderer.resize(document.documentElement.offsetWidth,document.documentElement.offsetHeight))}},{key:"init",value:function(){this.initMap(),this.initRole(),this.initDice(),this.initAudio()}},{key:"initAudio",value:function(){this.audio=new d.default(s.default,this.loader.resources)}},{key:"initMap",value:function(){this.map=new u.default(this.app.stage,s.default,this.loader.resources,this.manager)}},{key:"initDice",value:function(){this.dice=new h.default(this.app.stage,this.loader.resources,this.manager)}},{key:"initRole",value:function(){var t=s.default.start,e=s.default.uWidth,r=s.default.uHeight;this.role=new l.default(e,r,this.app.stage,this.loader.resources,this.manager),this.role.position(t.x*e,t.y*r),this.curPosition=t.x+","+t.y}},{key:"findNext",value:function(t,e){var r,n,i=this,o=s.default.uWidth,a=s.default.uHeight;0<t&&(n=(r=this.path.get(this.curPosition)).position,r.count++,r=0,n=(n=[{from:"bottom",dir:"top",path:this.path.get(n.x+","+(n.y-1))},{from:"left",dir:"right",path:this.path.get(n.x+1+","+n.y)},{from:"top",dir:"bottom",path:this.path.get(n.x+","+(n.y+1))},{from:"right",dir:"left",path:this.path.get(n.x-1+","+n.y)}].filter(function(t){return t.path}).sort(function(t,e){return e.dir===i.curFrom?-1:0}))[r=2<n.length?Math.floor(Math.random()*(n.length-1)):r],this.curFrom=n.from,this.curPosition=n.path.position.x+","+n.path.position.y,e.push({x:n.path.position.x*o,y:n.path.position.y*a}),--t)&&this.findNext(t,e)}},{key:"step",value:function(t){s.default.start;var e=[];this.findNext(t,e),(t=this.role).move.apply(t,e)}}]);r=_;function _(t){(0,i.default)(this,_),this.app=new a.Application({renderer:a.WebGLRenderer,width:640,height:640,backgroundColor:"0xffffff",autoResize:!0,resolution:devicePixelRatio}),document.body.querySelector(t).appendChild(this.app.view),this.app.stage=new a.display.Stage,this.app.stage.group.enableSort=!0,this.manager=new p(this.app.stage),this.curPosition,this.loader=new c.default(s.default),this.path=new n.default,this.buildPath(),this.bind(),this.sync()}e.default=r},function(t,e,r){t.exports={default:r(180),__esModule:!0}},function(t,e,r){r(79),r(80),r(87),r(181),r(188),r(191),r(193),t.exports=r(8).Map},function(t,e,r){"use strict";var n=r(182),i=r(95);t.exports=r(183)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){t=n.getEntry(i(this,"Map"),t);return t&&t.v},set:function(t,e){return n.def(i(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,r){"use strict";function a(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r}var s=r(13).f,u=r(82),l=r(58),h=r(15),c=r(56),d=r(28),n=r(46),i=r(88),o=r(93),f=r(12),p=r(94).fastKey,y=r(95),_=f?"_s":"size";t.exports={getConstructor:function(t,i,r,n){var o=t(function(t,e){c(t,o,i,"_i"),t._t=i,t._i=u(null),t._f=void 0,t._l=void 0,t[_]=0,null!=e&&d(e,r,t[n],t)});return l(o.prototype,{clear:function(){for(var t=y(this,i),e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete e[r.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var e,r,n=y(this,i),t=a(n,t);return t&&(e=t.n,r=t.p,delete n._i[t.i],t.r=!0,r&&(r.n=e),e&&(e.p=r),n._f==t&&(n._f=e),n._l==t&&(n._l=r),n[_]--),!!t},forEach:function(t){y(this,i);for(var e,r=h(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!a(y(this,i),t)}}),f&&s(o.prototype,"size",{get:function(){return y(this,i)[_]}}),o},def:function(t,e,r){var n,i=a(t,e);return i?i.v=r:(t._l=i={i:n=p(e,!0),k:e,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[_]++,"F"!==n&&(t._i[n]=i)),t},getEntry:a,setStrong:function(t,r,e){n(t,r,function(t,e){this._t=y(t,r),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?i(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,i(1))},e?"entries":"values",!e,!0),o(r)}}},function(t,e,r){"use strict";var c=r(5),d=r(9),f=r(94),p=r(24),y=r(16),_=r(58),v=r(28),g=r(56),m=r(11),b=r(36),x=r(13).f,T=r(184)(0),w=r(12);t.exports=function(r,t,e,n,i,o){var a=c[r],s=a,u=i?"set":"add",l=s&&s.prototype,h={};return w&&"function"==typeof s&&(o||l.forEach&&!p(function(){(new s).entries().next()}))?(s=t(function(t,e){g(t,s,r,"_c"),t._c=new a,null!=e&&v(e,i,t[u],t)}),T("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(r){var n="add"==r||"set"==r;r in l&&(!o||"clear"!=r)&&y(s.prototype,r,function(t,e){return g(this,s,r),n||!o||m(t)?(t=this._c[r](0===t?0:t,e),n?this:t):"get"==r&&void 0})}),o||x(s.prototype,"size",{get:function(){return this._c.size}})):(s=n.getConstructor(t,r,i,u),_(s.prototype,e),f.NEED=!0),b(s,r),h[r]=s,d(d.G+d.W+d.F,h),o||n.setStrong(s,r,i),s}},function(t,e,r){var m=r(15),b=r(50),x=r(54),T=r(51),n=r(185);t.exports=function(c,t){var d=1==c,f=2==c,p=3==c,y=4==c,_=6==c,v=5==c||_,g=t||n;return function(t,e,r){for(var n,i,o=x(t),a=b(o),s=m(e,r,3),u=T(a.length),l=0,h=d?g(t,u):f?g(t,0):void 0;l<u;l++)if((v||l in a)&&(i=s(n=a[l],l,o),c))if(d)h[l]=i;else if(i)switch(c){case 3:return!0;case 5:return n;case 6:return l;case 2:h.push(n)}else if(y)return!1;return _?-1:p||y?y:h}}},function(t,e,r){var n=r(186);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(11),i=r(187),o=r(6)("species");t.exports=function(t){var e;return void 0===(e=i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e))&&null===(e=e[o])?void 0:e)?Array:e}},function(t,e,r){var n=r(27);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(9);n(n.P+n.R,"Map",{toJSON:r(189)("Map")})},function(t,e,r){var n=r(55),i=r(190);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,r){var n=r(28);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},function(t,e,r){r(192)("Map")},function(t,e,r){"use strict";var n=r(9);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,r){r(194)("Map")},function(t,e,r){"use strict";var n=r(9),a=r(23),s=r(15),u=r(28);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,i,o=arguments[1];return a(this),(e=void 0!==o)&&a(o),null==t?new this:(r=[],e?(n=0,i=s(o,arguments[2],2),u(t,!1,function(t){r.push(i(t,n++))})):u(t,!1,r.push,r),new this(r))}})}},function(t,e,r){t.exports={default:r(196),__esModule:!0}},function(t,e,r){r(197);var n=r(8).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(9);n(n.S+n.F*!r(12),"Object",{defineProperty:r(13).f})},function(t,e){t.exports={uWidth:32,uHeight:32,start:{x:3,y:3},assets:{images:{uBG:"https://gw.alicdn.com/tfs/TB1sUWiN7voK1RjSZPfXXXPKFXa-32-32.jpg",road:"https://gw.alicdn.com/tfs/TB1q6iiN3HqK1RjSZFgXXa7JXXa-32-32.png",flower:"https://gw.alicdn.com/tfs/TB1cuqnNVzqK1RjSZFCXXbbxVXa-32-32.png",tree:"https://gw.alicdn.com/tfs/TB1.SWmNYrpK1RjSZTEXXcWAVXa-96-96.png",startBtn:"https://gw.alicdn.com/tfs/TB1Bkt_OhnaK1RjSZFBXXcW7VXa-119-114.png",house1:"https://img.alicdn.com/tfs/TB1JJW.be3tHKVjSZSgXXX4QFXa-30-31.png",house2:"https://img.alicdn.com/tfs/TB1K9eBOhnaK1RjSZFtXXbC2VXa-30-31.png",house3:"https://img.alicdn.com/tfs/TB1jih.OirpK1RjSZFhXXXSdXXa-34-31.png",house4:"https://img.alicdn.com/tfs/TB14FWkOhjaK1RjSZFAXXbdLFXa-32-34.png",tower1:"https://img.alicdn.com/tfs/TB1pap4OgTqK1RjSZPhXXXfOFXa-63-64.png",tower2:"https://img.alicdn.com/tfs/TB1iwh.OmzqK1RjSZFjXXblCFXa-64-64.png",tower3:"https://img.alicdn.com/tfs/TB1_VF.ObvpK1RjSZPiXXbmwXXa-63-64.png",tower4:"https://img.alicdn.com/tfs/TB15YN7OmzqK1RjSZFLXXcn2XXa-65-64.png",tower5:"https://img.alicdn.com/tfs/TB1f79bOmzqK1RjSZFpXXakSXXa-65-64.png",tower6:"https://img.alicdn.com/tfs/TB1Sp9XOmzqK1RjSZFHXXb3CpXa-64-64.png",tower7:"https://img.alicdn.com/tfs/TB1crqnOhYaK1RjSZFnXXa80pXa-64-64.png",flower2:"https://img.alicdn.com/tfs/TB1PFOdOcbpK1RjSZFyXXX_qFXa-32-33.png",bucket:"https://img.alicdn.com/tfs/TB1iFFBOmzqK1RjSZPcXXbTepXa-32-32.png",snowman:"https://img.alicdn.com/tfs/TB18PqyOhnaK1RjSZFBXXcW7VXa-31-32.png",tombstone:"https://img.alicdn.com/tfs/TB1eF0.ObvpK1RjSZPiXXbmwXXa-32-32.png",prize1:"https://gw.alicdn.com/tfs/TB1LErrOhTpK1RjSZFMXXbG_VXa-32-32.png",prize3:"https://gw.alicdn.com/tfs/TB1cXDBOcfpK1RjSZFOXXa6nFXa-32-32.png",prize2:"https://gw.alicdn.com/tfs/TB19wmTOmzqK1RjSZPcXXbTepXa-32-32.png"},audio:{bgm:{src:"https://cube.elemecdn.com/199444/0f70487dd088f13b4b2484ccf940f4d8-5d819f70365c834455.mp3",loop:!0,autoplay:!0},move:{src:"https://cube.elemecdn.com/199444/22f62e276355d6185b302a66afe7fc69-12C888piCBTd.mp3",loop:!0,autoplay:!1},prize:{src:"https://cube.elemecdn.com/199444/35968c0081dd12f01101229b897ba233-score.mp3",loop:!1,autoplay:!1},touzi:{src:"https://cube.elemecdn.com/199444/6a3ee927209bf91e86fa07b3ee146911-dice_shake-96201.mp3",loop:!0,autoplay:!1},touzi_down:{src:"https://cube.elemecdn.com/199444/6a3ee927209bf91e86fa07b3ee146911-dice_shake-96201.mp3",loop:!1,autoplay:!1}},json:{role:"https://cube.elemecdn.com/199444/52fb79a84f7d106c915161f4368e4a7c-role.json",dice:"https://cube.elemecdn.com/199444/4d3bd06a946a2dae3327bfaae64bad5e-dice.json"}},uData:[{id:1,type:"path",position:{x:3,y:3},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:2,type:"path",position:{x:3,y:4},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:3,type:"path",position:{x:3,y:5},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:4,type:"path",position:{x:3,y:6},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:5,type:"path",position:{x:3,y:7},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:6,type:"path",position:{x:3,y:8},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:7,type:"path",position:{x:3,y:9},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:8,type:"path",position:{x:3,y:10},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:9,type:"path",position:{x:3,y:11},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:10,type:"path",position:{x:3,y:12},width:1,height:1,event:{prize:{prizeId:"prize2"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:11,type:"path",position:{x:3,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:12,type:"path",position:{x:4,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:13,type:"path",position:{x:5,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:14,type:"path",position:{x:6,y:13},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:15,type:"path",position:{x:7,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:16,type:"path",position:{x:8,y:13},width:1,height:1,event:{prize:{prizeId:"prize3"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:17,type:"path",position:{x:9,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:18,type:"path",position:{x:10,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:19,type:"path",position:{x:11,y:13},width:1,height:1,event:{prize:{prizeId:"prize2"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:20,type:"path",position:{x:12,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:21,type:"path",position:{x:13,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:22,type:"path",position:{x:14,y:13},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:24,type:"path",position:{x:15,y:13},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:25,type:"path",position:{x:16,y:13},width:1,height:1,event:{prize:{prizeId:"prize3"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:26,type:"path",position:{x:16,y:12},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:27,type:"path",position:{x:16,y:11},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:28,type:"path",position:{x:16,y:10},width:1,height:1,event:{prize:{prizeId:"prize2"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:29,type:"path",position:{x:16,y:9},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:30,type:"path",position:{x:16,y:8},width:1,height:1,event:{prize:{prizeId:"prize3"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:31,type:"path",position:{x:15,y:8},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:32,type:"path",position:{x:14,y:8},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:33,type:"path",position:{x:13,y:8},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:34,type:"path",position:{x:12,y:8},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:35,type:"path",position:{x:11,y:8},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:36,type:"path",position:{x:11,y:7},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:37,type:"path",position:{x:11,y:6},width:1,height:1,event:{prize:{prizeId:"prize3"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:38,type:"path",position:{x:11,y:5},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:39,type:"path",position:{x:11,y:4},width:1,height:1,event:{prize:{prizeId:"prize3"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:40,type:"path",position:{x:11,y:3},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:41,type:"path",position:{x:10,y:3},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:42,type:"path",position:{x:9,y:3},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:43,type:"path",position:{x:8,y:3},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:44,type:"path",position:{x:7,y:3},width:1,height:1,event:{prize:{prizeId:"prize2"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:45,type:"path",position:{x:6,y:3},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:46,type:"path",position:{x:5,y:3},width:1,height:1,event:{prize:{prizeId:"prize2"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:47,type:"path",position:{x:4,y:3},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:48,type:"path",position:{x:4,y:6},width:1,height:1,event:{prize:{prizeId:"prize3"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:49,type:"path",position:{x:5,y:6},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:50,type:"path",position:{x:6,y:6},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:51,type:"path",position:{x:7,y:6},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:52,type:"path",position:{x:8,y:6},width:1,height:1,event:{prize:{prizeId:"prize1"}},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:53,type:"path",position:{x:9,y:6},width:1,height:1,event:{},zIndex:1,repeatx:1,repeaty:1,sprite:"road"},{id:2123123,type:"",position:{x:0,y:0},width:1,height:1,event:{},zIndex:0,repeatx:20,repeaty:20,sprite:"uBG"},{id:202,type:"",position:{x:13,y:14},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower"},{id:203,type:"",position:{x:11,y:12},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower"},{id:202,type:"",position:{x:10,y:14},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower"},{id:202,type:"",position:{x:8,y:14},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower2"},{id:202,type:"",position:{x:5,y:14},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower2"},{id:202,type:"",position:{x:9,y:2},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower2"},{id:202,type:"",position:{x:12,y:2},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower2"},{id:202,type:"",position:{x:9,y:12},width:1,height:1,event:{},zIndex:2,repeatx:1,repeaty:1,sprite:"flower"},{id:1231,type:"",position:{x:12,y:10},width:3,height:3,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tree"},{id:1,type:"",position:{x:6,y:2},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house1"},{id:1,type:"",position:{x:5,y:2},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house1"},{id:1,type:"",position:{x:2,y:7},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house2"},{id:1,type:"",position:{x:4,y:7},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house2"},{id:1,type:"",position:{x:2,y:8},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house3"},{id:1,type:"",position:{x:4,y:9},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house3"},{id:1,type:"",position:{x:7,y:2},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house4"},{id:1,type:"",position:{x:8,y:2},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"house4"},{id:1,type:"",position:{x:14,y:12},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"bucket"},{id:1,type:"",position:{x:6,y:12},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"flower2"},{id:1,type:"",position:{x:10,y:12},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tombstone"},{id:1,type:"",position:{x:3,y:1},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower1"},{id:1,type:"",position:{x:7,y:4},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower1"},{id:1,type:"",position:{x:10,y:1},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower3"},{id:1,type:"",position:{x:12,y:6},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower4"},{id:1,type:"",position:{x:6,y:14},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower5"},{id:1,type:"",position:{x:11,y:14},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower6"},{id:1,type:"",position:{x:4,y:11},width:2,height:2,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"tower7"},{id:1,type:"",position:{x:4,y:5},width:1,height:1,event:{},zIndex:3,repeatx:1,repeaty:1,sprite:"snowman"}]}},function(t,e,r){"use strict";r(200),r(202),r(203),r(204),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";var r=r(201),r=(r=r)&&r.__esModule?r:{default:r};Object.assign||(Object.assign=r.default)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(Object.assign){var t=new String("abc");if(t[5]="de","5"!==Object.getOwnPropertyNames(t)[0]){for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n,i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"===i.join(""))return n={},"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")?1:void 0}}}catch(t){}}()?Object.assign:function(t,e){for(var r,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var o in r=Object(arguments[i]))l.call(r,o)&&(n[o]=r[o]);if(u)for(var a=u(r),s=0;s<a.length;s++)h.call(r,a[s])&&(n[a[s]]=r[a[s]])}return n}},function(t,e,r){"use strict";!function(t){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),t.performance&&t.performance.now||(e=Date.now(),t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e});for(var e,n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}.call(e,r(29))},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1})},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";e.__esModule=!0;var n=r(61),i=(n=n)&&n.__esModule?n:{default:n},o=r(0);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,i=a;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");this.x=t,this.y=e,this.radius=r,this.type=o.SHAPES.CIRC}a.prototype.clone=function(){return new a(this.x,this.y,this.radius)},a.prototype.contains=function(t,e){var r;return!(this.radius<=0)&&(r=this.radius*this.radius,t=this.x-t,e=this.y-e,(t*=t)+(e*=e)<=r)},a.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(61),i=(n=n)&&n.__esModule?n:{default:n},a=r(0);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=this,o=s;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.x=t,this.y=e,this.width=r,this.height=n,this.type=a.SHAPES.ELIP}s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t=(t-this.x)/this.width,e=(e-this.y)/this.height,(t*=t)+(e*=e)<=1)},s.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(59),u=(n=n)&&n.__esModule?n:{default:n},l=r(0);function h(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this,i=h;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");if((e=Array.isArray(e[0])?e[0]:e)[0]instanceof u.default){for(var o=[],a=0,s=e.length;a<s;a++)o.push(e[a].x,e[a].y);e=o}this.closed=!0,this.points=e,this.type=l.SHAPES.POLY}h.prototype.clone=function(){return new h(this.points.slice())},h.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},h.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];e<s!=e<l&&t<(e-s)/(l-s)*(u-a)+a&&(r=!r)}return r},e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var s=r(0);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20,o=this,a=u;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.x=t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=s.SHAPES.RREC}u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height,this.radius)},u.prototype.contains=function(t,e){if(!(this.width<=0||this.height<=0)&&t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},e.default=u},function(t,e){t.exports=function(t,e){t=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(t)return t;throw new Error("This browser does not support webGL. Try using the canvas renderer")}},function(t,e){function i(t,e,r,n){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=o,r&&this.upload(r),this._updateID=0}var o=new ArrayBuffer(0);i.prototype.upload=function(t,e,r){r||this.bind();r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=i},function(t,e,r){function o(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}var a=r(99);o.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new a(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},o.prototype.enableStencil=function(){var t;this.stencil||(t=this.gl,this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height))},o.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},o.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},o.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},o.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},o.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},o.createRGBA=function(t,e,r,n){var i=a.fromData(t,null,e,r),t=(i.enableNearestScaling(),i.enableWrapClamp(),new o(t,e,r));return t.enableTexture(i),t.unbind(),t},o.createFloat32=function(t,e,r,n){n=new a.fromData(t,n,e,r),n.enableNearestScaling(),n.enableWrapClamp(),t=new o(t,e,r);return t.enableTexture(n),t.unbind(),t},t.exports=o},function(t,e,r){function n(t,e,r,n,i){this.gl=t,n&&(e=u(e,n),r=u(r,n)),this.program=o(t,e,r,i),this.attributes=a(t,this.program),this.uniformData=s(t,this.program),this.uniforms=l(t,this.uniformData)}var o=r(100),a=r(101),s=r(103),u=r(105),l=r(106);n.prototype.bind=function(){return this.gl.useProgram(this.program),this},n.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=n},function(t,e,r){var i=r(98);function n(t,e){this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension&&(this.nativeVao=this.nativeVaoExtension.createVertexArrayOES(),e=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.nativeState={tempAttribState:new Array(e),attribState:new Array(e)}),this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}(t.exports=n.prototype.constructor=n).FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){t.exports={compileProgram:r(100),defaultValue:r(104),extractAttributes:r(101),extractUniforms:r(103),generateUniformAccessObject:r(106),setPrecision:r(105),mapSize:r(102),mapType:r(62)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(n.default.tablet||n.default.phone)return 4;return t};var e=r(64),n=(r=e)&&r.__esModule?r:{default:r}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){var r;(r=t).__plugins={},r.registerPlugin=function(t,e){r.__plugins[t]=e},r.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},r.__plugins)this.plugins[t]=new r.__plugins[t](this)},r.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";t.exports=function(t,e,r){var n=t.length;if(!(n<=e||0===r)){for(var i=n-(r=n<e+r?n-e:r),o=e;o<i;++o)t[o]=t[o+r];t.length=i}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)e[t[r]=r]=r;t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n};var i=r(0)},function(t,y,S){!function(t,e){var r,_,v,g,i,o,n,a,s,u,l,m,b;function x(t){throw new RangeError(u[t])}function h(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function c(t,e){var r=t.split("@"),n="",r=(1<r.length&&(n=r[0]+"@",t=r[1]),(t=t.replace(s,".")).split("."));return n+h(r,e).join(".")}function T(t){for(var e,r,n=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t){return h(t,function(t){var e="";return 65535<t&&(e+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=b(t)}).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,r){var n=0;for(t=r?m(t/o):t>>1,t+=m(t/e);l*g>>1<t;n+=v)t=m(t/l);return m(n+(l+1)*t/(t+i))}function d(t){var e,r,n,i,o,a,s,u=[],l=t.length,h=0,c=128,d=72,f=t.lastIndexOf("-");for(f<0&&(f=0),r=0;r<f;++r)128<=t.charCodeAt(r)&&x("not-basic"),u.push(t.charCodeAt(r));for(n=0<f?f+1:0;n<l;){for(i=h,o=1,a=v;l<=n&&x("invalid-input"),s=t.charCodeAt(n++),(v<=(s=s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:v)||s>m((_-h)/o))&&x("overflow"),h+=s*o,!(s<(s=a<=d?1:d+g<=a?g:a-d));a+=v)o>m(_/(s=v-s))&&x("overflow"),o*=s;d=E(h-i,e=u.length+1,0==i),m(h/e)>_-c&&x("overflow"),c+=m(h/e),h%=e,u.splice(h++,0,c)}return p(u)}function f(t){for(var e,r,n,i,o,a,s,u,l,h,c=[],d=(t=T(t)).length,f=128,p=72,y=e=0;y<d;++y)(s=t[y])<128&&c.push(b(s));for(r=n=c.length,n&&c.push("-");r<d;){for(i=_,y=0;y<d;++y)f<=(s=t[y])&&s<i&&(i=s);for(i-f>m((_-e)/(u=r+1))&&x("overflow"),e+=(i-f)*u,f=i,y=0;y<d;++y)if((s=t[y])<f&&++e>_&&x("overflow"),s==f){for(o=e,a=v;!(o<(l=a<=p?1:p+g<=a?g:a-p));a+=v)c.push(b(w(l+(h=o-l)%(l=v-l),0))),o=m(h/l);c.push(b(w(o,0))),p=E(e,u,r==n),e=0,++r}++e,++f}return c.join("")}"object"==typeof y&&y&&y.nodeType,"object"==typeof t&&t&&t.nodeType,(e="object"==typeof e&&e).global!==e&&e.window!==e&&e.self,_=2147483647,g=26,i=38,o=700,n=/^xn--/,a=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=(v=36)-1,m=Math.floor,b=String.fromCharCode,r={version:"1.4.1",ucs2:{decode:T,encode:p},decode:d,encode:f,toASCII:function(t){return c(t,function(t){return a.test(t)?"xn--"+f(t):t})},toUnicode:function(t){return c(t,function(t){return n.test(t)?d(t.slice(4).toLowerCase()):t})}},void 0!==(e=function(){return r}.call(y,S,y,t))&&(t.exports=e)}.call(y,S(222)(t),S(29))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=r(224),i=r(235),r=r(70);t.exports={formats:r,parse:i,stringify:n}},function(t,e,r){"use strict";function M(t,e){n.apply(t,D(e)?e:[e])}function I(t,e,r,n,i,o,a,s,u,l,h,c,d,f,p,y){for(var _=t,v=y,g=0,m=!1;void 0!==(v=v.get(k))&&!m;){var b=v.get(t);if(g+=1,void 0!==b){if(b===g)throw new RangeError("Cyclic object value");m=!0}void 0===v.get(k)&&(g=0)}if("function"==typeof s?_=s(e,_):_ instanceof Date?_=h(_):"comma"===r&&D(_)&&(_=R.maybeMap(_,function(t){return t instanceof Date?h(t):t})),null===_){if(i)return a&&!f?a(e,L.encoder,p,"key",c):e;_=""}if("string"==typeof(T=_)||"number"==typeof T||"boolean"==typeof T||"symbol"==typeof T||"bigint"==typeof T||R.isBuffer(_))return a?[d(f?e:a(e,L.encoder,p,"key",c))+"="+d(a(_,L.encoder,p,"value",c))]:[d(e)+"="+d(String(_))];var x=[];if(void 0!==_)for(var T,w,w="comma"===r&&D(_)?[{value:0<(_=f&&a?R.maybeMap(_,a):_).length?_.join(",")||null:void 0}]:D(s)?s:(T=Object.keys(_),u?T.sort(u):T),E=n&&D(_)&&1===_.length?e+"[]":e,S=0;S<w.length;++S){var O,A=w[S],P="object"==typeof A&&void 0!==A.value?A.value:_[A];o&&null===P||(A=D(_)?"function"==typeof r?r(E,A):E:E+(l?"."+A:"["+A+"]"),y.set(t,g),(O=C()).set(k,y),M(x,I(P,A,r,n,i,o,"comma"===r&&f&&D(_)?null:a,s,u,l,h,c,d,f,p,O)))}return x}var C=r(225),R=r(112),c=r(70),d=Object.prototype.hasOwnProperty,f={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},D=Array.isArray,n=Array.prototype.push,i=Date.prototype.toISOString,r=c.default,L={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R.encode,encodeValuesOnly:!1,format:r,formatter:c.formatters[r],indices:!1,serializeDate:function(t){return i.call(t)},skipNulls:!1,strictNullHandling:!1},k={};t.exports=function(t,e){var r=t,n=function(t){if(!t)return L;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||L.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=c.default;if(void 0!==t.format){if(!d.call(c.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=c.formatters[r],i=L.filter;return"function"!=typeof t.filter&&!D(t.filter)||(i=t.filter),{addQueryPrefix:("boolean"==typeof t.addQueryPrefix?t:L).addQueryPrefix,allowDots:void 0===t.allowDots?L.allowDots:!!t.allowDots,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:L).charsetSentinel,delimiter:(void 0===t.delimiter?L:t).delimiter,encode:("boolean"==typeof t.encode?t:L).encode,encoder:("function"==typeof t.encoder?t:L).encoder,encodeValuesOnly:("boolean"==typeof t.encodeValuesOnly?t:L).encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:("function"==typeof t.serializeDate?t:L).serializeDate,skipNulls:("boolean"==typeof t.skipNulls?t:L).skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:L).strictNullHandling}}(e),i=("function"==typeof n.filter?r=(0,n.filter)("",r):D(n.filter)&&(s=n.filter),[]);if("object"!=typeof r||null===r)return"";var t=e&&e.arrayFormat in f?e.arrayFormat:!(e&&"indices"in e)||e.indices?"indices":"repeat",o=f[t];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a="comma"===o&&e&&e.commaRoundTrip,s=s||Object.keys(r);n.sort&&s.sort(n.sort);for(var u=C(),l=0;l<s.length;++l){var h=s[l];n.skipNulls&&null===r[h]||M(i,I(r[h],h,o,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}t=i.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},function(t,e,r){"use strict";function s(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r}var n=r(68),i=r(231),u=r(233),l=n("%TypeError%"),h=n("%WeakMap%",!0),c=n("%Map%",!0),d=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),y=i("Map.prototype.get",!0),_=i("Map.prototype.set",!0),v=i("Map.prototype.has",!0);t.exports=function(){var i,o,a,e={assert:function(t){if(!e.has(t))throw new l("Side channel does not contain "+u(t))},get:function(t){if(h&&t&&("object"==typeof t||"function"==typeof t)){if(i)return d(i,t)}else if(c){if(o)return y(o,t)}else{var e;if(a)return(e=s(e=a,t))&&e.value}},has:function(t){if(h&&t&&("object"==typeof t||"function"==typeof t)){if(i)return p(i,t)}else if(c){if(o)return v(o,t)}else if(a)return!!s(a,t);return!1},set:function(t,e){var r,n;h&&t&&("object"==typeof t||"function"==typeof t)?(i=i||new h,f(i,t,e)):c?(o=o||new c,_(o,t,e)):(e=e,(n=s(r=a=a||{key:{},next:null},t=t))?n.value=e:r.next={key:t,next:r.next,value:e})}};return e}},function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(227);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},function(t,e,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"!=typeof Symbol.iterator){var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}}return!0}},function(t,e,r){"use strict";var n={foo:{}},i=Object;t.exports=function(){return{__proto__:n}.foo===n.foo&&!({__proto__:null}instanceof i)}},function(t,e,r){"use strict";var u=Array.prototype.slice,l=Object.prototype.toString;t.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==l.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,t,i=u.call(arguments,1),o=Math.max(0,r.length-i.length),a=[],s=0;s<o;s++)a.push("$"+s);return n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){var t;return this instanceof n?(t=r.apply(this,i.concat(u.call(arguments))),Object(t)===t?t:this):r.apply(e,i.concat(u.call(arguments)))}),r.prototype&&((t=function(){}).prototype=r.prototype,n.prototype=new t,t.prototype=null),n}},function(t,e,r){"use strict";r=r(69);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(68),i=r(232),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){e=n(t,!!e);return"function"==typeof e&&-1<o(t,".prototype.")?i(e):e}},function(t,e,r){"use strict";var n=r(69),r=r(68),i=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||n.call(o,i),s=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(n,o,arguments);return s&&u&&s(e,"length").configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))}),e};function h(){return a(n,i,arguments)}u?u(t.exports,"apply",{value:h}):t.exports.apply=h},function(r,n,o){var t="function"==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,m=t&&e&&"function"==typeof e.get?e.get:null,b=t&&Map.prototype.forEach,e="function"==typeof Set&&Set.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=e&&t&&"function"==typeof t.get?t.get:null,T=e&&Set.prototype.forEach,w="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,E="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,S="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,K=Boolean.prototype.valueOf,a=Object.prototype.toString,J=Function.prototype.toString,$=String.prototype.match,O=String.prototype.slice,A=String.prototype.replace,s=String.prototype.toUpperCase,P=String.prototype.toLowerCase,h=RegExp.prototype.test,M=Array.prototype.concat,I=Array.prototype.join,Q=Array.prototype.slice,i=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,c=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,L="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function N(t,e){if(t===1/0||t===-1/0||t!=t||t&&-1e3<t&&t<1e3||h.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-i(-t):i(t);if(n!==t)return t=String(n),n=O.call(e,t.length+1),A.call(t,r,"$&_")+"."+A.call(A.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}return A.call(e,r,"$&_")}var F=o(234),t=F.custom,B=G(t)?t:null;function U(t,e,r){r="double"===(r.quoteStyle||e)?'"':"'";return r+t+r}function X(t){return!("[object Array]"!==W(t)||L&&"object"==typeof t&&L in t)}function z(t){return!("[object RegExp]"!==W(t)||L&&"object"==typeof t&&L in t)}function G(t){if(D)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return 1;if(t&&"object"==typeof t&&R)try{return R.call(t),1}catch(t){}}r.exports=function n(r,t,i,o){var a=t||{};if(H(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');t=!H(a,"customInspect")||a.customInspect;if("boolean"!=typeof t&&"symbol"!==t)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&0<a.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var e=a.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function t(e,r){if(e.length>r.maxStringLength)return n=e.length-r.maxStringLength,n="... "+n+" more character"+(1<n?"s":""),t(O.call(e,0,r.maxStringLength),r)+n;var n=A.call(A.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,et);return U(n,"single",r)}(r,a);if("number"==typeof r)return 0===r?0<1/0/r?"0":"-0":(p=String(r),e?N(r,p):p);if("bigint"==typeof r)return p=String(r)+"n",e?N(r,p):p;e=void 0===a.depth?5:a.depth;if(e<=(i=void 0===i?0:i)&&0<e&&"object"==typeof r)return X(r)?"[Array]":"[Object]";var s,u,l,h,c,d,f,p=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&0<t.indent))return null;r=I.call(Array(t.indent+1)," ")}return{base:r,prev:I.call(Array(e+1),r)}}(a,i);if(void 0===o)o=[];else if(0<=tt(o,r))return"[Circular]";function y(t,e,r){return e&&(o=Q.call(o)).push(e),r?(e={depth:a.depth},H(a,"quoteStyle")&&(e.quoteStyle=a.quoteStyle),n(t,e,i+1,o)):n(t,a,i+1,o)}if("function"==typeof r&&!z(r))return"[Function"+((u=function(t){if(t.name)return t.name;t=$.call(J.call(t),/^function\s*([\w$]+)/);if(t)return t[1];return null}(r))?": "+u:" (anonymous)")+"]"+(0<(u=Z(r,y)).length?" { "+I.call(u,", ")+" }":"");if(G(r))return u=D?A.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(r),"object"!=typeof r||D?u:V(u);if(function(t){if(!t||"object"!=typeof t)return;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return 1;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(r)){for(var _="<"+P.call(String(r.nodeName)),v=r.attributes||[],g=0;g<v.length;g++)_+=" "+v[g].name+"="+U((s=v[g].value,A.call(String(s),/"/g,"&quot;")),"double",a);return _+=">",r.childNodes&&r.childNodes.length&&(_+="..."),_+="</"+P.call(String(r.nodeName))+">"}if(X(r))return 0===r.length?"[]":(u=Z(r,y),p&&!function(t){for(var e=0;e<t.length;e++)if(0<=tt(t[e],"\n"))return;return 1}(u)?"["+q(u,p)+"]":"[ "+I.call(u,", ")+" ]");if(!("[object Error]"!==W(u=r)||L&&"object"==typeof u&&L in u))return c=Z(r,y),"cause"in Error.prototype||!("cause"in r)||k.call(r,"cause")?0===c.length?"["+String(r)+"]":"{ ["+String(r)+"] "+I.call(c,", ")+" }":"{ ["+String(r)+"] "+I.call(M.call("[cause]: "+y(r.cause),c),", ")+" }";if("object"==typeof r&&t){if(B&&"function"==typeof r[B]&&F)return F(r,{depth:e-i});if("symbol"!==t&&"function"==typeof r.inspect)return r.inspect()}return function(t){if(m&&t&&"object"==typeof t)try{m.call(t);try{x.call(t)}catch(t){return 1}return t instanceof Map}catch(t){}return}(r)?(l=[],b&&b.call(r,function(t,e){l.push(y(e,r,!0)+" => "+y(t,r))}),rt("Map",m.call(r),l,p)):function(t){if(x&&t&&"object"==typeof t)try{x.call(t);try{m.call(t)}catch(t){return 1}return t instanceof Set}catch(t){}return}(r)?(h=[],T&&T.call(r,function(t){h.push(y(t,r))}),rt("Set",x.call(r),h,p)):function(t){if(w&&t&&"object"==typeof t)try{w.call(t,w);try{E.call(t,E)}catch(t){return 1}return t instanceof WeakMap}catch(t){}return}(r)?Y("WeakMap"):function(t){if(E&&t&&"object"==typeof t)try{E.call(t,E);try{w.call(t,w)}catch(t){return 1}return t instanceof WeakSet}catch(t){}return}(r)?Y("WeakSet"):function(t){if(S&&t&&"object"==typeof t)try{return S.call(t),1}catch(t){}return}(r)?Y("WeakRef"):"[object Number]"!==W(c=r)||L&&"object"==typeof c&&L in c?function(t){if(t&&"object"==typeof t&&C)try{return C.call(t),1}catch(t){}return}(r)?V(y(C.call(r))):"[object Boolean]"!==W(e=r)||L&&"object"==typeof e&&L in e?"[object String]"!==W(t=r)||L&&"object"==typeof t&&L in t?("[object Date]"!==W(e=r)||L&&"object"==typeof e&&L in e)&&!z(r)?(t=Z(r,y),e=j?j(r)===Object.prototype:r instanceof Object||r.constructor===Object,d=r instanceof Object?"":"null prototype",f=!e&&L&&Object(r)===r&&L in r?O.call(W(r),8,-1):d?"Object":"",e=(!e&&"function"==typeof r.constructor&&r.constructor.name?r.constructor.name+" ":"")+(f||d?"["+I.call(M.call([],f||[],d||[]),": ")+"] ":""),0===t.length?e+"{}":p?e+"{"+q(t,p)+"}":e+"{ "+I.call(t,", ")+" }"):String(r):V(y(String(r))):V(K.call(r)):V(y(Number(r)))};var u=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return u.call(t,e)}function W(t){return a.call(t)}function tt(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function et(t){var t=t.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+s.call(t.toString(16))}function V(t){return"Object("+t+")"}function Y(t){return t+" { ? }"}function rt(t,e,r,n){return t+" ("+e+") {"+(n?q(r,n):I.call(r,", "))+"}"}function q(t,e){var r;return 0===t.length?"":(r="\n"+e.prev+e.base)+I.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=X(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=H(t,i)?e(t[i],t):""}var o,a="function"==typeof c?c(t):[];if(D)for(var s={},u=0;u<a.length;u++)s["$"+a[u]]=a[u];for(o in t)!H(t,o)||r&&String(Number(o))===o&&o<t.length||D&&s["$"+o]instanceof Symbol||(h.call(/[^\w$]/,o)?n.push(e(o,t)+": "+e(t[o],t)):n.push(o+": "+e(t[o],t)));if("function"==typeof c)for(var l=0;l<a.length;l++)k.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}},function(t,e){},function(t,e,r){"use strict";function u(t,e){var r,n,i,o,a={__proto__:null},t=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=e.parameterLimit===1/0?void 0:e.parameterLimit,u=t.split(e.delimiter,s),l=-1,h=e.charset;if(e.charsetSentinel)for(r=0;r<u.length;++r)0===u[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[r]?h="utf-8":"utf8=%26%2310003%3B"===u[r]&&(h="iso-8859-1"),l=r,r=u.length);for(r=0;r<u.length;++r)r!==l&&((o=-1===(o=-1===(o=(n=u[r]).indexOf("]="))?n.indexOf("="):o+1)?(i=e.decoder(n,f.decoder,h,"key"),e.strictNullHandling?null:""):(i=e.decoder(n.slice(0,o),f.decoder,h,"key"),c.maybeMap(g(n.slice(o+1),e),function(t){return e.decoder(t,f.decoder,h,"value")})))&&e.interpretNumericEntities&&"iso-8859-1"===h&&(o=o.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})),-1<n.indexOf("[]=")&&(o=d(o)?[o]:o),v.call(a,i)?a[i]=c.combine(a[i],o):a[i]=o);return a}function l(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=0<r.depth&&/(\[[^[\]]*])/.exec(i),t=a?i.slice(0,a.index):i,s=[];if(t){if(!r.plainObjects&&v.call(Object.prototype,t)&&!r.allowPrototypes)return;s.push(t)}for(var u=0;0<r.depth&&null!==(a=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&v.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}a&&s.push("["+i.slice(a.index)+"]");for(var l=s,t=e,h=r,c=n?t:g(t,h),d=l.length-1;0<=d;--d){var f,p,y,_=l[d];"[]"===_&&h.parseArrays?f=[].concat(c):(f=h.plainObjects?Object.create(null):{},p="["===_.charAt(0)&&"]"===_.charAt(_.length-1)?_.slice(1,-1):_,y=parseInt(p,10),h.parseArrays||""!==p?!isNaN(y)&&_!==p&&String(y)===p&&0<=y&&h.parseArrays&&y<=h.arrayLimit?(f=[])[y]=c:"__proto__"!==p&&(f[p]=c):f={0:c}),c=f}return c}}var c=r(112),v=Object.prototype.hasOwnProperty,d=Array.isArray,f={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:c.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g=function(t,e){return t&&"string"==typeof t&&e.comma&&-1<t.indexOf(",")?t.split(","):t};t.exports=function(t,e){var r=function(t){if(!t)return f;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=(void 0===t.charset?f:t).charset;return{allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,allowPrototypes:("boolean"==typeof t.allowPrototypes?t:f).allowPrototypes,allowSparse:("boolean"==typeof t.allowSparse?t:f).allowSparse,arrayLimit:("number"==typeof t.arrayLimit?t:f).arrayLimit,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:f).charsetSentinel,comma:("boolean"==typeof t.comma?t:f).comma,decoder:("function"==typeof t.decoder?t:f).decoder,delimiter:("string"==typeof t.delimiter||c.isRegExp(t.delimiter)?t:f).delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:f.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof t.interpretNumericEntities?t:f).interpretNumericEntities,parameterLimit:("number"==typeof t.parameterLimit?t:f).parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:("boolean"==typeof t.plainObjects?t:f).plainObjects,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:f).strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?u(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a)var s=o[a],s=l(s,n[s],r,"string"==typeof t),i=c.merge(i,s,r);return!0===r.allowSparse?i:c.compact(i)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=u(r(3)),a=r(0),s=u(r(237));function u(t){return t&&t.__esModule?t:{default:t}}l.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},l.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},l.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},l.prototype.add=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},l.prototype.addOnce=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},l.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}e=(r=e).next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},l.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},l.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},l.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},l.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},l.prototype.update=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*o.default.TARGET_FPMS*this.speed;for(var e=this._head,r=e.next;r;)r=r.emit(this.deltaTime);e.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(l,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(Math.max(0,t)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]);r=l;function l(){var e=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started)&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick))}}e.default=r},function(t,e,r){"use strict";function a(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this,o=a;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}e.__esModule=!0,a.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},a.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},a.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},a.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=(this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous),this.next);return this.next=t?null:e,this.previous=null,e},e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(31)),l=r(0),h=r(4),c=i(r(37));function i(t){return t&&t.__esModule?t:{default:t}}var d=new h.Matrix,r=(o.prototype.render=function(t){var e,r=t._texture,n=this.renderer,i=r._frame.width,o=r._frame.height,a=t.transform.worldTransform,s=0,u=0;r.orig.width<=0||r.orig.height<=0||!r.baseTexture.source||(n.setBlendMode(t.blendMode),r.valid&&(n.context.globalAlpha=t.worldAlpha,e=r.baseTexture.scaleMode===l.SCALE_MODES.LINEAR,n.smoothProperty&&n.context[n.smoothProperty]!==e&&(n.context[n.smoothProperty]=e),u=r.trim?(s=r.trim.width/2+r.trim.x-t.anchor.x*r.orig.width,r.trim.height/2+r.trim.y-t.anchor.y*r.orig.height):(s=(.5-t.anchor.x)*r.orig.width,(.5-t.anchor.y)*r.orig.height),r.rotate&&(a.copy(d),h.GroupD8.matrixAppendRotationInv(a=d,r.rotate,s,u),u=s=0),s-=i/2,u-=o/2,n.roundPixels?(n.context.setTransform(a.a,a.b,a.c,a.d,a.tx*n.resolution|0,a.ty*n.resolution|0),s|=0,u|=0):n.context.setTransform(a.a,a.b,a.c,a.d,a.tx*n.resolution,a.ty*n.resolution),e=r.baseTexture.resolution,16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=c.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,i*e,o*e,s*n.resolution,u*n.resolution,i*n.resolution,o*n.resolution)):n.context.drawImage(r.baseTexture.source,r._frame.x*e,r._frame.y*e,i*e,o*e,s*n.resolution,u*n.resolution,i*n.resolution,o*n.resolution)))},o.prototype.destroy=function(){this.renderer=null},o);function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.renderer=t}e.default=r,n.default.registerPlugin("sprite",r)},function(t,e,r){"use strict";e.__esModule=!0;var E=r(0);function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.renderer=t}n.prototype.pushMask=function(t){var e=this.renderer,r=(e.context.save(),t.alpha),n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},n.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var i,o,a,s,u,l,h,c,d=t.graphicsData[n],f=d.shape;if(d.type===E.SHAPES.POLY){var p=f.points,y=d.holes,_=void 0,v=void 0;e.moveTo(p[0],p[1]);for(var g=2;g<p.length;g+=2)e.lineTo(p[g],p[g+1]);if(p[0]===p[p.length-2]&&p[1]===p[p.length-1]&&e.closePath(),0<y.length){for(var _=0,m=0;m<p.length;m+=2)_+=p[m]*p[m+3]-p[m+1]*p[m+2];for(var b=0;b<y.length;b++){for(var p=y[b].points,v=0,x=0;x<p.length;x+=2)v+=p[x]*p[x+3]-p[x+1]*p[x+2];if(e.moveTo(p[0],p[1]),v*_<0)for(var T=2;T<p.length;T+=2)e.lineTo(p[T],p[T+1]);else for(var w=p.length-2;2<=w;w-=2)e.lineTo(p[w],p[w+1])}}}else d.type===E.SHAPES.RECT?(e.rect(f.x,f.y,f.width,f.height),e.closePath()):d.type===E.SHAPES.CIRC?(e.arc(f.x,f.y,f.radius,0,2*Math.PI),e.closePath()):d.type===E.SHAPES.ELIP?(l=(u=2*f.width)/2*.5522848,h=(o=2*f.height)/2*.5522848,s=(i=f.x-u/2)+u,c=(a=f.y-o/2)+o,u=i+u/2,e.moveTo(i,o=a+o/2),e.bezierCurveTo(i,o-h,u-l,a,u,a),e.bezierCurveTo(u+l,a,s,o-h,s,o),e.bezierCurveTo(s,o+h,u+l,c,u,c),e.bezierCurveTo(u-l,c,i,o+h,i,o),e.closePath()):d.type===E.SHAPES.RREC&&(a=f.x,s=f.y,u=f.width,l=f.height,c=f.radius,h=Math.min(u,l)/2|0,e.moveTo(a,s+(c=h<c?h:c)),e.lineTo(a,s+l-c),e.quadraticCurveTo(a,s+l,a+c,s+l),e.lineTo(a+u-c,s+l),e.quadraticCurveTo(a+u,s+l,a+u,s+l-c),e.lineTo(a+u,s+c),e.quadraticCurveTo(a+u,s,a+u-c,s),e.lineTo(a+c,s),e.quadraticCurveTo(a,s,a,s+c),e.closePath())}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,i.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over");return t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t};var n=r(0),e=r(118),i=(r=e)&&r.__esModule?r:{default:r}},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(38)),i=o(r(39)),a=o(r(74)),s=o(r(253)),u=o(r(254)),l=o(r(255)),R=o(r(3)),D=r(2),L=o(r(7)),k=o(r(71));function o(t){return t&&t.__esModule?t:{default:t}}var j=0,N=0,r=function(i){var t=o,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,t));e.vertSize=5,e.vertByteSize=4*e.vertSize,e.size=R.default.SPRITE_BATCH_SIZE,e.buffers=[];for(var r=1;r<=k.default.nextPow2(e.size);r*=2)e.buffers.push(new l.default(4*r*e.vertByteSize));e.indices=(0,a.default)(e.size),e.shader=null,e.currentIndex=0,e.groups=[];for(var n=0;n<e.size;n++)e.groups[n]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return e.sprites=[],e.vertexBuffers=[],e.vaos=[],e.vaoMax=2,e.vertexCount=0,e.renderer.on("prerender",e.onPrerender,e),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o.prototype.onContextChange=function(){for(var t=this.renderer.gl,e=(this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),R.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,u.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=L.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null),this.shader.attributes),r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=L.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},o.prototype.onPrerender=function(){this.vertexCount=0},o.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},o.prototype.flush=function(){if(0!==this.currentIndex){for(var t,e,r,n,i=this.renderer.gl,o=this.MAX_TEXTURES,a=k.default.nextPow2(this.currentIndex),a=k.default.log2(a),a=this.buffers[a],s=this.sprites,u=this.groups,l=a.float32View,h=a.uint32View,c=this.boundTextures,d=this.renderer.boundTextures,f=this.renderer.textureGC.count,p=0,y=void 0,_=void 0,v=1,g=0,m=u[0],b=D.premultiplyBlendMode[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0].blendMode],x=(m.textureCount=0,m.start=0,m.blend=b,j++,void 0),x=0;x<o;++x){var T=d[x];T._enabled===j?c[x]=this.renderer.emptyTextures[x]:((c[x]=T)._virtalBoundId=x,T._enabled=j)}for(j++,x=0;x<this.currentIndex;++x){var w=s[x],E=(s[x]=null,y=w._texture.baseTexture,D.premultiplyBlendMode[Number(y.premultipliedAlpha)][w.blendMode]);if(b!==E&&(b=E,_=null,g=o,j++),_!==y&&(_=y)._enabled!==j){if(g===o&&(j++,m.size=x-m.start,g=0,(m=u[v++]).blend=b,m.textureCount=0,m.start=x),y.touched=f,-1===y._virtalBoundId)for(var S=0;S<o;++S){var O=(S+N)%o,A=c[O];if(A._enabled!==j){N++,A._virtalBoundId=-1,c[y._virtalBoundId=O]=y;break}}y._enabled=j,m.textureCount++,m.ids[g]=y._virtalBoundId,m.textures[g++]=y}E=w.vertexData,t=w._texture._uvs.uvsUint32,this.renderer.roundPixels?(P=this.renderer.resolution,l[p]=(E[0]*P|0)/P,l[p+1]=(E[1]*P|0)/P,l[p+5]=(E[2]*P|0)/P,l[p+6]=(E[3]*P|0)/P,l[p+10]=(E[4]*P|0)/P,l[p+11]=(E[5]*P|0)/P,l[p+15]=(E[6]*P|0)/P,l[p+16]=(E[7]*P|0)/P):(l[p]=E[0],l[p+1]=E[1],l[p+5]=E[2],l[p+6]=E[3],l[p+10]=E[4],l[p+11]=E[5],l[p+15]=E[6],l[p+16]=E[7]),h[p+2]=t[0],h[p+7]=t[1],h[p+12]=t[2],h[p+17]=t[3];var P=Math.min(w.worldAlpha,1),E=P<1&&y.premultipliedAlpha?(0,D.premultiplyTint)(w._tintRGB,P):w._tintRGB+(255*P<<24);h[p+3]=h[p+8]=h[p+13]=h[p+18]=E,l[p+4]=l[p+9]=l[p+14]=l[p+19]=y._virtalBoundId,p+=20}for(m.size=x-m.start,R.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(a.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,e=this.shader.attributes,r=this.vertexBuffers[this.vertexCount]=L.default.GLBuffer.createVertexBuffer(i,null,i.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,i.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,i.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,i.UNSIGNED_BYTE,!0,this.vertByteSize,12),e.aTextureId&&n.addAttribute(r,e.aTextureId,i.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=n),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(a.vertices,0,!1),this.vertexCount++),x=0;x<o;++x)d[x]._virtalBoundId=-1;for(x=0;x<v;++x){for(var M=u[x],I=M.textureCount,C=0;C<I;C++)_=M.textures[C],d[M.ids[C]]!==_&&this.renderer.bindTexture(_,M.ids[C],!0),_._virtalBoundId=-1;this.renderer.state.setBlendMode(M.blend),i.drawElements(i.TRIANGLES,6*M.size,i.UNSIGNED_SHORT,6*M.start*2)}this.currentIndex=0}},o.prototype.start=function(){this.renderer.bindShader(this.shader),R.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},o.prototype.stop=function(){this.flush()},o.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),i.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var e=0;e<this.buffers.length;++e)this.buffers[e].destroy()},o}(n.default);e.default=r,i.default.registerPlugin("sprite",r)},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(32)),i=o(r(119));function o(t){return t&&t.__esModule?t:{default:t}}r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).scissor=!1,t.scissorData=null,t.scissorRenderTarget=null,t.enableScissor=!0,t.alphaMaskPool=[],t.alphaMaskIndex=0,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.pushMask=function(t,e){var r;e.texture?this.pushSpriteMask(t,e):!this.enableScissor||this.scissor||!this.renderer._activeRenderTarget.root||this.renderer.stencilManager.stencilMaskStack.length||!e.isFastRect()||(r=e.worldTransform,r=Math.atan2(r.b,r.a),(r=Math.round(r*(180/Math.PI)))%90)?this.pushStencilMask(e):this.pushScissorMask(t,e)},n.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},n.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex],n=((r=r||(this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]))[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea);t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++},n.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},n.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},n.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},n.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds(),i=(n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.resolution);this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},n.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},n}(n.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t=n(t),e=n(e);return Object.assign(t,e)};e=r(7);var l=((r=e)&&r.__esModule?r:{default:r}).default.shader.defaultValue;function n(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a,s,u=i[o].trim();-1<u.indexOf("uniform")&&(a=(u=u.split(" "))[1],-(s=1)<(u=u[2]).indexOf("[")&&(u=(e=u.split(/\[|]/))[0],s*=Number(e[1])),u.match(r)||(n[u]={value:l(a,s),name:u,type:a}))}return n}},function(t,e,r){"use strict";e.__esModule=!0;var r=r(32),i=(r=r)&&r.__esModule?r:{default:r};r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).stencilMaskStack=null,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},n.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},n.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},n.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},n.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},n.prototype.destroy=function(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},n}(i.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(32)),s=h(r(41)),i=h(r(122)),o=r(4),u=h(r(33)),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(246)),l=h(r(71));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}f.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null};var d=f;function f(){c(this,f),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[]}var p="screen",r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(t){c(this,n);var e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,t));return e.gl=e.renderer.gl,e.quad=new i.default(e.gl,t.state.attribState),e.shaderCache={},e.pool={},e.filterData=null,e.managedFilters=[],e.renderer.on("prerender",e.onPrerender,e),e._screenWidth=t.view.width,e._screenHeight=t.view.height,e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData,i=(n||(n=this.renderer._activeRenderTarget.filterStack,(i=new d).sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n),n.stack[++n.index]),o=n.stack[0].destinationFrame,i=i||(n.stack[n.index]=new d),a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,s=e[0].resolution,u=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),h=i.sourceFrame,c=i.destinationFrame,l=(h.x=(l.x*s|0)/s,h.y=(l.y*s|0)/s,h.width=(l.width*s|0)/s,h.height=(l.height*s|0)/s,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(o),h.pad(u)),c.width=h.width,c.height=h.height,this.getPotRenderTarget(r.gl,h.width,h.height,s));i.target=t,i.filters=e,i.resolution=s,(i.renderTarget=l).setFrame(c,h),r.bindRenderTarget(l),l.clear()},n.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index],n=(this.quad.map(r.renderTarget.size,r.sourceFrame).upload(),r.filters);if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{for(var i=r.renderTarget,o=((s=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution)).setFrame(r.destinationFrame,r.sourceFrame),s.clear(),0),o=0;o<n.length-1;++o){n[o].apply(this,i,s,!0,r);var a=i,i=s,s=a}n[o].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(s)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},n.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID],n=(a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a),this.renderer.emptyTextures[0]);this.renderer.boundTextures[0]=n,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,n._glTextures[this.renderer.CONTEXT_UID].texture)},n.prototype.syncUniforms=function(t,e){var r,n,i,o,a=e.uniformData,s=e.uniforms,u=1,e=void 0;for(n in t.uniforms.filterArea&&(e=this.filterData.stack[this.filterData.index],(r=t.uniforms.filterArea)[0]=e.renderTarget.size.width,r[1]=e.renderTarget.size.height,r[2]=e.sourceFrame.x,r[3]=e.sourceFrame.y,t.uniforms.filterArea=r),t.uniforms.filterClamp&&(e=e||this.filterData.stack[this.filterData.index],(r=t.uniforms.filterClamp)[0]=0,r[1]=0,r[2]=(e.sourceFrame.width-1)/e.renderTarget.size.width,r[3]=(e.sourceFrame.height-1)/e.renderTarget.size.height,t.uniforms.filterClamp=r),a)t.uniforms.data[n]&&("sampler2d"===(i=a[n].type)&&0!==s[n]?(s[n].baseTexture?t.uniforms[n]=this.renderer.bindTexture(s[n].baseTexture,u):(t.uniforms[n]=u,o=this.renderer.gl,this.renderer.boundTextures[u]=this.renderer.emptyTextures[u],o.activeTexture(o.TEXTURE0+u),s[n].texture.bind()),u++):"mat3"===i?void 0!==s[n].a?t.uniforms[n]=s[n].toArray(!0):t.uniforms[n]=s[n]:"vec2"===i?void 0!==s[n].x?((o=t.uniforms[n]||new Float32Array(2))[0]=s[n].x,o[1]=s[n].y,t.uniforms[n]=o):t.uniforms[n]=s[n]:"float"===i&&t.uniforms.data[n].value===a[n]||(t.uniforms[n]=s[n]))},n.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],e=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return e.setFrame(r.destinationFrame,r.sourceFrame),e},n.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},n.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return a.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},n.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return a.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},n.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return a.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},n.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},n.prototype.getPotRenderTarget=function(t,e,r,n){var i,o=p,a=(r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=l.default.nextPow2(e)))<<16|65535&(r=l.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]),this.pool[o].pop());return a||(i=this.renderer.boundTextures[0],t.activeTexture(t.TEXTURE0),a=new s.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)),a.resolution=n,a.defaultFrame.width=a.size.width=e/n,a.defaultFrame.height=a.size.height=r/n,a.filterPoolKey=o,a},n.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},n.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},n.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool[p];if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool[p]=[]}},n}(n.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){t=t.identity();return t.translate(e.x/r.width,e.y/r.height),t.scale(r.width,r.height),t},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var t=t.identity(),n=(t.translate(e.x/r.width,e.y/r.height),r.width/e.width),r=r.height/e.height;return t.scale(n,r),t},e.calculateSpriteMatrix=function(t,e,r,n){var i=n._texture.orig,t=t.set(r.width,0,0,r.height,e.x,e.y),r=n.worldTransform.copy(o.Matrix.TEMP_MATRIX);return r.invert(),t.prepend(r),t.scale(1/i.width,1/i.height),t.translate(n.anchor.x,n.anchor.y),t};var o=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var a=r(7),s=r(0),n=r(41),u=(n=n)&&n.__esModule?n:{default:n},l=r(2);function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.renderer=t,this.gl=t.gl,this._managedTextures=[]}i.prototype.bindTexture=function(){},i.prototype.getTexture=function(){},i.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===e)for(var o=e=0;o<i.length;++o)if(i[o]===t){e=o;break}i[e]=t,r.activeTexture(r.TEXTURE0+e);r=t._glTextures[this.renderer.CONTEXT_UID];return r?n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):r.upload(t.source):(n?((n=new u.default(this.gl,t.width,t.height,t.scaleMode,t.resolution)).resize(t.width,t.height),r=(t._glRenderTargets[this.renderer.CONTEXT_UID]=n).texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()):((r=new a.GLTexture(this.gl,null,null,null,null)).bind(e),r.premultiplyAlpha=!0,r.upload(t.source)),t._glTextures[this.renderer.CONTEXT_UID]=r,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),!t.isPowerOfTwo||(t.mipmap&&r.enableMipmap(),t.wrapMode===s.WRAP_MODES.CLAMP)?r.enableWrapClamp():t.wrapMode===s.WRAP_MODES.REPEAT?r.enableWrapRepeat():r.enableWrapMirrorRepeat(),t.scaleMode===s.SCALE_MODES.NEAREST?r.enableNearestScaling():r.enableLinearScaling()),r},i.prototype.destroyTexture=function(t,e){var r,n,i,o;(t=t.baseTexture||t).hasLoaded&&(n=(r=this.renderer).CONTEXT_UID,o=t._glTextures,i=t._glRenderTargets,o[n]&&(r.unbindTexture(t),o[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete o[n],e||-1!==(o=this._managedTextures.indexOf(t))&&(0,l.removeItems)(this._managedTextures,o,1)),i)&&i[n]&&(r._activeRenderTarget===i[n]&&r.bindRenderTarget(r.rootRenderTarget),i[n].destroy(),delete i[n])},i.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},i.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0),r=r(3),i=(r=r)&&r.__esModule?r:{default:r};function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=i.default.GC_MAX_IDLE,this.checkCountMax=i.default.GC_MAX_CHECK_COUNT,this.mode=i.default.GC_MODE}o.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax)&&(this.checkCount=0,this.run())},o.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),r=!(e[n]=null))}if(r){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},o.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;0<=r;r--)this.unload(t.children[r])},e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var r=r(250),n=(r=r)&&r.__esModule?r:{default:r};function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,n.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}i.prototype.push=function(){var t=(t=this.stack[this.stackIndex])||(this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},i.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},i.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},i.prototype.setBlend=function(t){this.activeState[0]!==(t=t?1:0)&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},i.prototype.setBlendMode=function(t){t!==this.activeState[4]&&(this.activeState[4]=t,2===(t=this.blendModes[t]).length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3]))},i.prototype.setDepthTest=function(t){this.activeState[1]!==(t=t?1:0)&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},i.prototype.setCullFace=function(t){this.activeState[3]!==(t=t?1:0)&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},i.prototype.setFrontFace=function(t){this.activeState[2]!==(t=t?1:0)&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},i.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},i.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){for(var r=a,t=(r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n\n";for(var r=0;r<t;r++)0<r&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e=(e+="\n{")+"\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);\n}";return e+="\n\n"}(e)),new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r)),n=[],i=0;i<e;i++)n[i]=i;return t.bind(),t.uniforms.uSamplers=n,t};var e=r(33),o=(e=e)&&e.__esModule?e:{default:e};r(10);var a=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");{var n;r&&((n=document.createElement("canvas")).width=1,n.height=1,e=a.default.createContext(n))}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var o=s.replace(/%forloop%/gi,function(t){for(var e="",r=0;r<t;++r)0<r&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}(t));if(e.shaderSource(i,o),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var e=r(7),a=(r=e)&&r.__esModule?r:{default:r};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},function(t,e,r){"use strict";function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}e.__esModule=!0,n.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=d(r(67)),a=d(r(14)),s=r(4),u=r(2),y=r(0),l=d(r(3)),h=d(r(123)),_=d(r(124)),c=d(r(257));function d(t){return t&&t.__esModule?t:{default:t}}var f={texture:!0,children:!1,baseTexture:!0},r=function(i){var t=o,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(t,e,r){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(r=r||document.createElement("canvas")).width=3,r.height=3;var n=a.default.fromCanvas(r,l.default.SCALE_MODE,"text"),n=(n.orig=new s.Rectangle,n.trim=new s.Rectangle,function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,n)));return a.default.addToCache(n._texture,n._texture.baseTexture.textureCacheIds[0]),n.canvas=r,n.context=n.canvas.getContext("2d"),n.resolution=l.default.RESOLUTION,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=e,n.localStyleID=-1,n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,t=_.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=t.width,i=t.height,o=t.lines,a=t.lineHeight,s=t.lineWidths,u=t.maxLineWidth,l=t.fontProperties,h=(this.canvas.width=Math.ceil((Math.max(1,n)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,void 0),c=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,0<e.dropShadowBlur&&(r.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,f=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,p=0;p<o.length;p++)h=e.strokeThickness/2,c=e.strokeThickness/2+p*a+l.ascent,"right"===e.align?h+=u-s[p]:"center"===e.align&&(h+=(u-s[p])/2),e.fill&&(this.drawLetterSpacing(o[p],h+d+e.padding,c+f+e.padding),e.stroke)&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(o[p],h+d+e.padding,c+f+e.padding,!0),r.strokeStyle=e.stroke)}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,o);for(var y=0;y<o.length;y++)h=e.strokeThickness/2,c=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?h+=u-s[y]:"center"===e.align&&(h+=(u-s[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[y],h+e.padding,c+e.padding,!0),e.fill&&this.drawLetterSpacing(o[y],h+e.padding,c+e.padding);this.updateTexture()}},o.prototype.drawLetterSpacing=function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0===i)n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);else for(var o,a=String.prototype.split.call(t,""),s=e,u=0,l=this.context.measureText(t).width;u<t.length;)o=a[u++],n?this.context.strokeText(o,s,r):this.context.fillText(o,s,r),s+=l-(o=this.context.measureText(t.substring(u)).width)+i,l=o},o.prototype.updateTexture=function(){var t=this.canvas,e=(this._style.trim&&(e=(0,c.default)(t)).data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)),this._texture),r=this._style,r=r.trim?0:r.padding,n=e.baseTexture;n.hasLoaded=!0,n.resolution=this.resolution,n.realWidth=t.width,n.realHeight=t.height,n.width=t.width/this.resolution,n.height=t.height/this.resolution,e.trim.width=e._frame.width=t.width/this.resolution,e.trim.height=e._frame.height=t.height/this.resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-2*r,e.orig.height=e._frame.height-2*r,this._onTextureUpdate(),n.emit("update",n),this.dirty=!1},o.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),i.prototype.renderWebGL.call(this,t)},o.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),i.prototype._renderCanvas.call(this,t)},o.prototype.getLocalBounds=function(t){return this.updateText(!0),i.prototype.getLocalBounds.call(this,t)},o.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},o.prototype._onStyleChange=function(){this.dirty=!0},o.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,c=1;c<h;++c)l.push(c/h);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===y.TEXT_GRADIENT.LINEAR_VERTICAL)for(var r=this.context.createLinearGradient(a/2,0,a/2,s),n=(u.length+1)*e.length,i=0,d=0;d<e.length;d++){i+=1;for(var f=0;f<u.length;f++)o="number"==typeof l[f]?l[f]/e.length+d/e.length:i/n,r.addColorStop(o,u[f]),i++}else{r=this.context.createLinearGradient(0,s/2,a,s/2),n=u.length+1,i=1;for(var p=0;p<u.length;p++)o="number"==typeof l[p]?l[p]:i/n,r.addColorStop(o,u[p]),i++}return r},o.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},f,t),i.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},n(o,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),o}(o.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,t=t.getContext("2d"),n=t.getImageData(0,0,e,r).data,i=n.length,o={top:null,left:null,right:null,bottom:null},a=null,s=void 0,u=void 0,l=void 0;for(s=0;s<i;s+=4)0!==n[s+3]&&(u=s/4%e,l=~~(s/4/e),null===o.top&&(o.top=l),(null===o.left||u<o.left)&&(o.left=u),(null===o.right||o.right<u)&&(o.right=1+u),null===o.bottom||o.bottom<l)&&(o.bottom=l);null!==o.top&&(e=o.right-o.left,r=o.bottom-o.top+1,a=t.getImageData(o.left,o.top,e,r));return{height:r,width:e,data:a}}},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(30)),o=i(r(73)),a=i(r(14)),s=i(r(125)),u=i(r(67)),l=r(4),h=r(2),x=r(0),c=i(r(63)),d=i(r(259)),f=i(r(31));function i(t){return t&&t.__esModule?t:{default:t}}var p=void 0,y=new l.Matrix,_=new l.Point,v=new Float32Array(4),g=new Float32Array(4),r=function(i){var t=b,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function b(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this,r=b;if(e instanceof r)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this))).fillAlpha=1,e.lineWidth=0,e.nativeLines=t,e.lineColor=0,e.lineAlignment=.5,e.graphicsData=[],e.tint=16777215,e._prevTint=16777215,e.blendMode=x.BLEND_MODES.NORMAL,e.currentPath=null,e._webGL={},e.isMask=!1,e.boundsPadding=0,e._localBounds=new c.default,e.dirty=0,e.fastRectDirty=-1,e.clearDirty=0,e.boundsDirty=-1,e.cachedSpriteDirty=!1,e._spriteRect=null,e._fastRect=!1,e._prevRectTint=null,e._prevRectFillColor=null,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),b.prototype.clone=function(){var t;(t=new b).renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},b.prototype._quadraticCurveLength=function(t,e,r,n,i,o){var i=t-2*r+i,o=e-2*n+o,r=2*r-2*t,t=2*n-2*e,n=4*(i*i+o*o),e=4*(i*r+o*t),i=r*r+t*t,o=2*Math.sqrt(n+e+i),r=Math.sqrt(n),t=2*n*r,a=2*Math.sqrt(i),s=e/r;return(t*o+r*e*(o-a)+(4*i*n-e*e)*Math.log((2*r+s+o)/(s+a)))/(4*t)},b.prototype._bezierCurveLength=function(t,e,r,n,i,o,a,s){for(var u,l,h,c,d,f,p,y,_=0,v=t,g=e,m=1;m<=10;++m)p=v-(d=(f=(y=(c=1-(u=m/10))*c)*c)*t+3*y*u*r+3*c*(l=u*u)*i+(h=l*u)*a),y=g-(f=f*e+3*y*u*n+3*c*l*o+h*s),v=d,g=f,_+=Math.sqrt(p*p+y*y);return _},b.prototype._segmentsCount=function(t){t=Math.ceil(t/b.CURVES.maxLength);return t<b.CURVES.minSegments?t=b.CURVES.minSegments:t>b.CURVES.maxSegments&&(t=b.CURVES.maxSegments),t},b.prototype.lineStyle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;return this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath&&(this.currentPath.shape.points.length?((t=new l.Polygon(this.currentPath.shape.points.slice(-2))).closed=!1,this.drawShape(t)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment)),this},b.prototype.moveTo=function(t,e){t=new l.Polygon([t,e]);return t.closed=!1,this.drawShape(t),this},b.prototype.lineTo=function(t,e){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||(r.push(t,e),this.dirty++),this},b.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var i=this.currentPath.shape.points,o=(0===i.length&&this.moveTo(0,0),i[i.length-2]),a=i[i.length-1],s=b.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(o,a,t,e,r,n)):20,u=1;u<=s;++u){var l,h=u/s;i.push((l=o+(t-o)*h)+(t+(r-t)*h-l)*h,(l=a+(e-a)*h)+(e+(n-e)*h-l)*h)}return this.dirty++,this},b.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],u=a[a.length-1],l=(a.length-=2,b.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(s,u,t,e,r,n,i,o)):20);return(0,d.default)(s,u,t,e,r,n,i,o,l,a),this.dirty++,this},b.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o,a,s,u,l,h=this.currentPath.shape.points,c=h[h.length-2],d=h[h.length-1]-e,c=c-t,n=n-e,r=r-t,f=Math.abs(d*r-c*n);return f<1e-8||0===i?h[h.length-2]===t&&h[h.length-1]===e||h.push(t,e):(h=d*d+c*c,s=n*n+r*r,l=d*n+c*r,h=(u=i*Math.sqrt(h)/f)*l/h,o=u*r+(f=i*Math.sqrt(s)/f)*c,a=u*n+f*d,s=r*(u+(l=f*l/s)),u=n*(u+l),l=Math.atan2(d*(f+h)-a,c*(f+h)-o),f=Math.atan2(u-a,s-o),this.arc(o+t,a+e,i,l,f,r*d<c*n)),this.dirty++,this},b.prototype.arc=function(t,e,r,n,i){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(n!==i){!o&&i<=n?i+=x.PI_2:o&&n<=i&&(n+=x.PI_2);o=i-n,i=b.CURVES.adaptive?this._segmentsCount(Math.abs(o)*r):40*Math.ceil(Math.abs(o)/x.PI_2);if(0!=o){for(var a,s,u=t+Math.cos(n)*r,l=e+Math.sin(n)*r,h=this.currentPath?this.currentPath.shape.points:null,c=(h?(a=Math.abs(h[h.length-2]-u),s=Math.abs(h[h.length-1]-l),a<.001&&s<.001||h.push(u,l)):(this.moveTo(u,l),h=this.currentPath.shape.points),o/(2*i)),d=2*c,f=Math.cos(c),p=Math.sin(c),y=i-1,_=y%1/y,v=0;v<=y;++v){var g=c+n+d*(v+_*v),m=Math.cos(g),g=-Math.sin(g);h.push((f*m+p*g)*r+t,(f*-g+p*m)*r+e)}this.dirty++}}return this},b.prototype.beginFill=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},b.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},b.prototype.drawRect=function(t,e,r,n){return this.drawShape(new l.Rectangle(t,e,r,n)),this},b.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new l.RoundedRectangle(t,e,r,n,i)),this},b.prototype.drawCircle=function(t,e,r){return this.drawShape(new l.Circle(t,e,r)),this},b.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new l.Ellipse(t,e,r,n)),this},b.prototype.drawPolygon=function(t){var e=!0;if((r=t)instanceof l.Polygon&&(e=r.closed,r=r.points),!Array.isArray(r))for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];t=new l.Polygon(r);return t.closed=e,this.drawShape(t),this},b.prototype.drawStar=function(t,e,r,n,i){i=i||n/2;for(var o=-1*Math.PI/2+(5<arguments.length&&void 0!==arguments[5]?arguments[5]:0),a=2*r,s=x.PI_2/a,u=[],l=0;l<a;l++){var h=l%2?i:n,c=l*s+o;u.push(t+h*Math.cos(c),e+h*Math.sin(c))}return this.drawPolygon(u)},b.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},b.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===x.SHAPES.RECT&&!this.graphicsData[0].lineWidth},b.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},b.prototype._renderSpriteRect=function(t){var e,r,n=this.graphicsData[0].shape,i=(this._spriteRect||(this._spriteRect=new u.default(new a.default(a.default.WHITE))),this._spriteRect),o=this.graphicsData[0].fillColor;16777215===this.tint?i.tint=o:this.tint===this._prevRectTint&&o===this._prevRectFillColor||(r=g,(0,h.hex2rgb)(o,e=v),(0,h.hex2rgb)(this.tint,r),e[0]*=r[0],e[1]*=r[1],e[2]*=r[2],i.tint=(0,h.rgb2hex)(e),this._prevRectTint=this.tint,this._prevRectFillColor=o),i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=n.width,i._texture._frame.height=n.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-n.x/n.width,-n.y/n.height),i._onAnchorUpdate(),i._renderWebGL(t)},b.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},b.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,_);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(_.x,_.y))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++)if(n.holes[o].contains(_.x,_.y)){i=!0;break}if(!i)return!0}}return!1},b.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],h=l.type,c=l.lineWidth*l.lineAlignment,l=l.shape;if(h===x.SHAPES.RECT||h===x.SHAPES.RREC)i=l.x-c,o=l.y-c,t=i<t?i:t,e=e<i+(a=l.width+2*c)?i+a:e,r=o<r?o:r,n=n<o+(s=l.height+2*c)?o+s:n;else if(h===x.SHAPES.CIRC)i=l.x,o=l.y,t=i-(a=l.radius+c)<t?i-a:t,e=e<i+a?i+a:e,r=o-(s=l.radius+c)<r?o-s:r,n=n<o+s?o+s:n;else if(h===x.SHAPES.ELIP)i=l.x,o=l.y,t=i-(a=l.width+c)<t?i-a:t,e=e<i+a?i+a:e,r=o-(s=l.height+c)<r?o-s:r,n=n<o+s?o+s:n;else for(var d,f,p,y,_,v=l.points,g=0;g+2<v.length;g+=2)i=v[g],o=v[g+1],_=v[g+2],d=v[g+3],f=Math.abs(_-i),p=Math.abs(d-o),s=2*c,(a=Math.sqrt(f*f+p*p))<1e-9||(t=(_=(_+i)/2)-(y=(s/a*p+f)/2)<t?_-y:t,e=e<_+y?_+y:e,r=(_=(d+o)/2)-(y=(s/a*f+p)/2)<r?_-y:r,n=n<_+y?_+y:n)}else n=r=e=t=0;var m=this.boundsPadding;this._localBounds.minX=t-m,this._localBounds.maxX=e+m,this._localBounds.minY=r-m,this._localBounds.maxY=n+m},b.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;t=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(t),t.type===x.SHAPES.POLY&&(t.shape.closed=t.shape.closed,this.currentPath=t),this.dirty++,t},b.prototype.generateCanvasTexture=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=o.default.create(r.width,r.height,t,e),r=(p=p||new f.default,this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,p.render(this,n,!0,y),a.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics"));return r.baseTexture.resolution=e,r.baseTexture.update(),r},b.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},b.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},b.prototype.destroy=function(t){i.prototype.destroy.call(this,t);for(var e,r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(e in this._webGL)for(var n=0;n<this._webGL[e].data.length;++n)this._webGL[e].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},b}(n.default);(e.default=r)._SPRITE_TEXTURE=null,r.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,a,s,u){var l=9<arguments.length&&void 0!==arguments[9]?arguments[9]:[],h=0,c=0,d=0,f=0,p=0;l.push(t,e);for(var y=1,_=0;y<=u;++y)d=(c=(h=1-(_=y/u))*h)*h,p=(f=_*_)*_,l.push(d*t+3*c*_*r+3*h*f*i+p*a,d*e+3*c*_*n+3*h*f*o+p*s);return l}},function(t,e,r){"use strict";e.__esModule=!0;var l=r(2),h=r(0),i=s(r(38)),n=s(r(39)),o=s(r(261)),a=s(r(262)),c=s(r(263)),d=s(r(264)),f=s(r(265)),p=s(r(266));function s(t){return t&&t.__esModule?t:{default:t}}r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(t){var e;if(this instanceof n)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,t))).graphicsDataPool=[],e.primitiveShader=null,e.gl=t.gl,e.CONTEXT_UID=0,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new a.default(this.gl)},n.prototype.destroy=function(){i.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},n.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,i=t._webGL[this.CONTEXT_UID],o=(i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]),this.primitiveShader);e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,s=i.data.length;a<s;a++){var u=(n=i.data[a]).shader;e.bindShader(u),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.tint=(0,l.hex2rgb)(t.tint),u.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},n.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if((r=r||(t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1})).dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,o=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var s=t.graphicsData[a],i=this.getWebGLData(r,0);s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),s.type===h.SHAPES.POLY&&(0,c.default)(s,i,o),s.type===h.SHAPES.RECT?(0,d.default)(s,i,o):s.type===h.SHAPES.CIRC||s.type===h.SHAPES.ELIP?(0,p.default)(s,i,o):s.type===h.SHAPES.RREC&&(0,f.default)(s,i,o),r.lastIndex++}this.renderer.bindVao(null);for(var u=0;u<r.data.length;u++)(i=r.data[u]).dirty&&i.upload()},n.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||32e4<n.points.length)&&((n=this.graphicsDataPool.pop()||new o.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},n}(i.default);e.default=r,n.default.registerPlugin("graphics",r)},function(t,e,r){"use strict";e.__esModule=!0;var r=r(7),n=(r=r)&&r.__esModule?r:{default:r};function i(t,e,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=n.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new n.default.VertexArrayObject(t,r).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,t.FLOAT,!1,24,8)}i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var r=r(33);r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var e=this,t=r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"));if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((r=r)&&r.__esModule?r:{default:r}).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&6<=n.length){for(var i=[],o=t.holes,a=0;a<o.length;a++){var s=o[a];i.push(n.length/2),n=n.concat(s.points)}var u=e.points,l=e.indices,h=n.length/2,c=(0,x.hex2rgb)(t.fillColor),d=t.fillAlpha,f=c[0]*d,p=c[1]*d,y=c[2]*d,_=(0,T.default)(n,i,2);if(!_)return;for(var v=u.length/6,g=0;g<_.length;g+=3)l.push(_[g]+v),l.push(_[g]+v),l.push(_[g+1]+v),l.push(_[g+2]+v),l.push(_[g+2]+v);for(var m=0;m<h;m++)u.push(n[2*m],n[2*m+1],f,p,y,d)}0<t.lineWidth&&(0,b.default)(t,e,r)};var b=n(r(42)),x=r(2),T=n(r(66));function n(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,o=n.y,a=n.width,n=n.height;{var s,u,l,h,c,d;t.fill&&(h=(0,y.hex2rgb)(t.fillColor),s=t.fillAlpha,u=h[0]*s,l=h[1]*s,h=h[2]*s,f=e.points,c=e.indices,d=f.length/6,f.push(i,o),f.push(u,l,h,s),f.push(i+a,o),f.push(u,l,h,s),f.push(i,o+n),f.push(u,l,h,s),f.push(i+a,o+n),f.push(u,l,h,s),c.push(d,d,1+d,2+d,3+d,3+d))}{var f;t.lineWidth&&(f=t.points,t.points=[i,o,i+a,o,i+a,o+n,i,o+n,i,o],(0,p.default)(t,e,r),t.points=f)}};var e=r(42),p=(e=e)&&e.__esModule?e:{default:e},y=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,o=n.y,a=n.width,s=n.height,n=n.radius,u=[];if(u.push(i+n,o),E(i+a-n,o,i+a,o,i+a,o+n,u),E(i+a,o+s-n,i+a,o+s,i+a-n,o+s,u),E(i+n,o+s,i,o+s,i,o+s-n,u),E(i,o+n,i,o,i+n+1e-10,o,u),t.fill){for(var a=(0,w.hex2rgb)(t.fillColor),l=t.fillAlpha,h=a[0]*l,c=a[1]*l,d=a[2]*l,f=e.points,p=e.indices,y=f.length/6,_=(0,x.default)(u,null,2),v=0,g=_.length;v<g;v+=3)p.push(_[v]+y),p.push(_[v]+y),p.push(_[v+1]+y),p.push(_[v+2]+y),p.push(_[v+2]+y);for(var m=0,b=u.length;m<b;m++)f.push(u[m],u[++m],h,c,d,l)}t.lineWidth&&(s=t.points,t.points=u,(0,T.default)(t,e,r),t.points=s)};var x=n(r(66)),T=n(r(42)),w=r(2);function n(t){return t&&t.__esModule?t:{default:t}}function p(t,e,r){return t+(e-t)*r}function E(t,e,r,n,i,o,a){for(var s,u,l,h,c,d=6<arguments.length&&void 0!==a?a:[],f=0;f<=20;++f)l=p(t,r,c=f/20),s=p(e,n,c),h=p(r,i,c),u=p(n,o,c),l=p(l,h,c),h=p(s,u,c),d.push(l,h)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,o=n.y,a=void 0,s=void 0;s=t.type===b.SHAPES.CIRC?(a=n.radius,n.radius):(a=n.width,n.height);if(0!==a&&0!==s){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),l=2*Math.PI/u;if(t.fill){var n=(0,x.hex2rgb)(t.fillColor),h=t.fillAlpha,c=n[0]*h,d=n[1]*h,f=n[2]*h,p=e.points,y=e.indices,_=p.length/6;y.push(_);for(var v=0;v<u+1;v++)p.push(i,o,c,d,f,h),p.push(i+Math.sin(l*v)*a,o+Math.cos(l*v)*s,c,d,f,h),y.push(_++,_++);y.push(_-1)}if(t.lineWidth){n=t.points;t.points=[];for(var g=0;g<u;g++)t.points.push(i+Math.sin(l*-g)*a,o+Math.cos(l*-g)*s);t.points.push(t.points[0],t.points[1]),(0,m.default)(t,e,r),t.points=n}}};var e=r(42),m=(e=e)&&e.__esModule?e:{default:e},b=r(0),x=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(31),n=(n=n)&&n.__esModule?n:{default:n},C=r(0);i.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var s,u,l,h,c,d,f,p,y=t.graphicsData[a],_=y.shape,v=y._fillTint,g=y._lineTint;if(r.lineWidth=y.lineWidth,y.type===C.SHAPES.POLY){r.beginPath();var m=_.points,b=y.holes,x=void 0,T=void 0,w=void 0,E=void 0;r.moveTo(m[0],m[1]);for(var S=2;S<m.length;S+=2)r.lineTo(m[S],m[S+1]);if(_.closed&&r.closePath(),0<b.length){w=m[x=0],E=m[1];for(var O=2;O+2<m.length;O+=2)x+=(m[O]-w)*(m[O+3]-E)-(m[O+2]-w)*(m[O+1]-E);for(var A=0;A<b.length;A++)if(m=b[A].points){for(var T=0,w=m[0],E=m[1],P=2;P+2<m.length;P+=2)T+=(m[P]-w)*(m[P+3]-E)-(m[P+2]-w)*(m[P+1]-E);if(T*x<0){r.moveTo(m[0],m[1]);for(var M=2;M<m.length;M+=2)r.lineTo(m[M],m[M+1])}else{r.moveTo(m[m.length-2],m[m.length-1]);for(var I=m.length-4;0<=I;I-=2)r.lineTo(m[I],m[I+1])}b[A].close&&r.closePath()}}y.fill&&(r.globalAlpha=y.fillAlpha*n,r.fillStyle="#"+("00000"+(0|v).toString(16)).substr(-6),r.fill()),y.lineWidth&&(r.globalAlpha=y.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),r.stroke())}else y.type===C.SHAPES.RECT?(!y.fillColor&&0!==y.fillColor||(r.globalAlpha=y.fillAlpha*n,r.fillStyle="#"+("00000"+(0|v).toString(16)).substr(-6),r.fillRect(_.x,_.y,_.width,_.height)),y.lineWidth&&(r.globalAlpha=y.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),r.strokeRect(_.x,_.y,_.width,_.height))):y.type===C.SHAPES.CIRC?(r.beginPath(),r.arc(_.x,_.y,_.radius,0,2*Math.PI),r.closePath(),y.fill&&(r.globalAlpha=y.fillAlpha*n,r.fillStyle="#"+("00000"+(0|v).toString(16)).substr(-6),r.fill()),y.lineWidth&&(r.globalAlpha=y.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),r.stroke())):y.type===C.SHAPES.ELIP?(c=2*_.width,u=2*_.height,s=_.x-c/2,l=_.y-u/2,r.beginPath(),d=c/2*.5522848,f=u/2*.5522848,h=s+c,p=l+u,c=s+c/2,r.moveTo(s,u=l+u/2),r.bezierCurveTo(s,u-f,c-d,l,c,l),r.bezierCurveTo(c+d,l,h,u-f,h,u),r.bezierCurveTo(h,u+f,c+d,p,c,p),r.bezierCurveTo(c-d,p,s,u+f,s,u),r.closePath(),y.fill&&(r.globalAlpha=y.fillAlpha*n,r.fillStyle="#"+("00000"+(0|v).toString(16)).substr(-6),r.fill()),y.lineWidth&&(r.globalAlpha=y.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),r.stroke())):y.type===C.SHAPES.RREC&&(l=_.x,h=_.y,c=_.width,d=_.height,p=_.radius,p=(f=Math.min(c,d)/2|0)<p?f:p,r.beginPath(),r.moveTo(l,h+p),r.lineTo(l,h+d-p),r.quadraticCurveTo(l,h+d,l+p,h+d),r.lineTo(l+c-p,h+d),r.quadraticCurveTo(l+c,h+d,l+c,h+d-p),r.lineTo(l+c,h+p),r.quadraticCurveTo(l+c,h,l+c-p,h),r.lineTo(l+p,h),r.quadraticCurveTo(l,h,l,h+p),r.closePath(),!y.fillColor&&0!==y.fillColor||(r.globalAlpha=y.fillAlpha*n,r.fillStyle="#"+("00000"+(0|v).toString(16)).substr(-6),r.fill()),y.lineWidth)&&(r.globalAlpha=y.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),r.stroke())}},i.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255}},i.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},i.prototype.destroy=function(){this.renderer=null};r=i;function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.renderer=t}e.default=r,n.default.registerPlugin("graphics",r)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=r(1),o=r(2);function c(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=this,i=c;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}n(c,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),c.prototype._updateResolution=function(t){var e=this.data.meta.scale,t=(0,o.getResolutionOfUrl)(t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&(this.baseTexture.resolution=t,this.baseTexture.update()),t},c.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=c.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},c.prototype._processFrames=function(t){for(var e=t,r=c.BATCH_SIZE,n=this.baseTexture.sourceScale;e-t<r&&e<this._frameKeys.length;){var i,o,a,s=this._frameKeys[e],u=this._frames[s],l=u.frame;l&&(i=a=null,o=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,o=new h.Rectangle(0,0,Math.floor(o.w*n)/this.resolution,Math.floor(o.h*n)/this.resolution),a=u.rotated?new h.Rectangle(Math.floor(l.x*n)/this.resolution,Math.floor(l.y*n)/this.resolution,Math.floor(l.h*n)/this.resolution,Math.floor(l.w*n)/this.resolution):new h.Rectangle(Math.floor(l.x*n)/this.resolution,Math.floor(l.y*n)/this.resolution,Math.floor(l.w*n)/this.resolution,Math.floor(l.h*n)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(i=new h.Rectangle(Math.floor(u.spriteSourceSize.x*n)/this.resolution,Math.floor(u.spriteSourceSize.y*n)/this.resolution,Math.floor(l.w*n)/this.resolution,Math.floor(l.h*n)/this.resolution)),this.textures[s]=new h.Texture(this.baseTexture,a,o,i,u.rotated?2:0,u.anchor),h.Texture.addToCache(this.textures[s],s)),e++}},c.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var r,n=e[t],i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;this.animations[t].push(this.textures[a])}}},c.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},c.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*c.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*c.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},c.prototype.destroy=function(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(r){for(var t=r.mesh,e=r.particles,n=r.extras,i=r.filters,o=r.prepare,a=r.loaders,s=r.interaction,u=(Object.defineProperties(r,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return d("You do not need to use a PIXI Stage any more, you can simply render any container."),r.Container}},DisplayObjectContainer:{get:function(){return d("DisplayObjectContainer has been shortened to Container, please use Container from now on."),r.Container}},Strip:{get:function(){return d("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),t.Mesh}},Rope:{get:function(){return d("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),t.Rope}},ParticleContainer:{get:function(){return d("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),e.ParticleContainer}},MovieClip:{get:function(){return d("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return d("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return d("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return d("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),r.BLEND_MODES}},scaleModes:{get:function(){return d("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),r.SCALE_MODES}},BaseTextureCache:{get:function(){return d("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.utils.BaseTextureCache}},TextureCache:{get:function(){return d("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.utils.TextureCache}},math:{get:function(){return d("The math namespace is deprecated, please access members already accessible on PIXI."),r}},AbstractFilter:{get:function(){return d("AstractFilter has been renamed to Filter, please use PIXI.Filter"),r.Filter}},TransformManual:{get:function(){return d("TransformManual has been renamed to TransformBase, please update your pixi-spine"),r.TransformBase}},TARGET_FPMS:{get:function(){return d("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),r.settings.TARGET_FPMS},set:function(t){d("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),r.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return d("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),r.settings.FILTER_RESOLUTION},set:function(t){d("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),r.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return d("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),r.settings.RESOLUTION},set:function(t){d("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),r.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return d("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),r.settings.MIPMAP_TEXTURES},set:function(t){d("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),r.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return d("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),r.settings.SPRITE_BATCH_SIZE},set:function(t){d("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),r.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return d("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),r.settings.SPRITE_MAX_TEXTURES},set:function(t){d("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),r.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return d("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),r.settings.RETINA_PREFIX},set:function(t){d("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),r.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return d("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),r.settings.RENDER_OPTIONS}}}),[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}]),l=0;l<u.length;l++)!function(t){var e=u[t];Object.defineProperty(r[e.parent],"DEFAULT",{get:function(){return d("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),r.settings[e.target]},set:function(t){d("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),r.settings[e.target]=t}})}(l);Object.defineProperties(r.settings,{PRECISION:{get:function(){return d("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),r.settings.PRECISION_FRAGMENT},set:function(t){d("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),r.settings.PRECISION_FRAGMENT=t}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return d("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return d("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),r.TextureMatrix}}});r.DisplayObject.prototype.generateTexture=function(t,e,r){return d("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},r.Graphics.prototype.generateTexture=function(t,e){return d("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},r.GroupD8.isSwapWidthHeight=function(t){return d("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),r.GroupD8.isVertical(t)},r.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),d("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},r.RenderTexture.prototype.getImage=function(t){return d("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},r.RenderTexture.prototype.getBase64=function(t){return d("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},r.RenderTexture.prototype.getCanvas=function(t){return d("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},r.RenderTexture.prototype.getPixels=function(t){return d("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},r.Sprite.prototype.setTexture=function(t){this.texture=t,d("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(t){this.text=t,d("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});r.Text.prototype.setText=function(t){this.text=t,d("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},r.Text.calculateFontProperties=function(t){return d("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),r.TextMetrics.measureFont(t)},Object.defineProperties(r.Text,{fontPropertiesCache:{get:function(){return d("Text.fontPropertiesCache is deprecated"),r.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return d("Text.fontPropertiesCanvas is deprecated"),r.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return d("Text.fontPropertiesContext is deprecated"),r.TextMetrics._context}}}),r.Text.prototype.setStyle=function(t){this.style=t,d("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},r.Text.prototype.determineFontProperties=function(t){return d("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),r.TextMetrics.measureFont(t)},r.Text.getFontStyle=function(t){return d("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(t=(t=t||{})instanceof r.TextStyle?t:new r.TextStyle(t)).toFontString()},Object.defineProperties(r.TextStyle.prototype,{font:{get:function(){d("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){d("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),1<t.indexOf("italic")?this._fontStyle="italic":-1<t.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal",-1<t.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var i=0;i<r;++i)if(e[i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[i];break}if(-1<r&&r<e.length-1){this._fontFamily="";for(var o=r+1;o<e.length;++o)this._fontFamily+=e[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),r.Texture.prototype.setFrame=function(t){this.frame=t,d("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},r.Texture.addTextureToCache=function(t,e){r.Texture.addToCache(t,e),d("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},r.Texture.removeTextureFromCache=function(t){return d("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),r.BaseTexture.removeFromCache(t),r.Texture.removeFromCache(t)},Object.defineProperties(i,{AbstractFilter:{get:function(){return d("AstractFilter has been renamed to Filter, please use PIXI.Filter"),r.AbstractFilter}},SpriteMaskFilter:{get:function(){return d("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),r.SpriteMaskFilter}},VoidFilter:{get:function(){return d("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),i.AlphaFilter}}}),r.utils.uuid=function(){return d("utils.uuid() is deprecated, please use utils.uid() from now on."),r.utils.uid()},r.utils.canUseNewCanvasBlendModes=function(){return d("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),r.CanvasTinter.canUseMultiply};var h=!0;Object.defineProperty(r.utils,"_saidHello",{set:function(t){t&&(d("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),h=t},get:function(){return h}}),o.BasePrepare&&(o.BasePrepare.prototype.register=function(t,e){return d("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});o.canvas&&Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){d("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return d("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});o.webgl&&Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){d("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return d("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});{var c;a.Loader&&(c=a.Resource,o=a.Loader,Object.defineProperties(c.prototype,{isJson:{get:function(){return d("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===c.TYPE.JSON}},isXml:{get:function(){return d("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===c.TYPE.XML}},isImage:{get:function(){return d("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===c.TYPE.IMAGE}},isAudio:{get:function(){return d("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===c.TYPE.AUDIO}},isVideo:{get:function(){return d("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===c.TYPE.VIDEO}}}),Object.defineProperties(o.prototype,{before:{get:function(){return d("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return d("The after() method is deprecated, please use use()."),this.use}}}))}s.interactiveTarget&&Object.defineProperty(s.interactiveTarget,"defaultCursor",{set:function(t){d("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return d("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});s.InteractionManager&&(Object.defineProperty(s.InteractionManager,"defaultCursorStyle",{set:function(t){d("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return d("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(s.InteractionManager,"currentCursorStyle",{set:function(t){d("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return d("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function d(t){var e;n[t]||(void 0===(e=(new Error).stack)?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0)}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(128),i=(Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}}),r(271));function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),n=i(r(64)),r=i(r(128));function i(t){return t&&t.__esModule?t:{default:t}}u.utils.mixins.delayMixin(u.DisplayObject.prototype,r.default);o.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},o.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},o.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode)&&this.div.parentNode.removeChild(this.div)},o.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},o.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height;(i=this.div).style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var i,o,a,s=this.children[n];s.renderId!==this.renderId?(s._accessibleActive=!1,u.utils.removeItems(this.children,n,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,n--,0===this.children.length&&this.deactivate()):(i=s._accessibleDiv,o=s.hitArea,a=s.worldTransform,s.hitArea?(i.style.left=(a.tx+o.x*a.a)*e+"px",i.style.top=(a.ty+o.y*a.d)*r+"px",i.style.width=o.width*a.a*e+"px",i.style.height=o.height*a.d*r+"px"):(o=s.getBounds(),this.capHitArea(o),i.style.left=o.x*e+"px",i.style.top=o.y*r+"px",i.style.width=o.width*e+"px",i.style.height=o.height*r+"px",i.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(i.title=s.accessibleTitle),i.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&i.setAttribute("aria-label",s.accessibleHint)))}this.renderId++}},o.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},o.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},o.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},o.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},o.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},o.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},o.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},o.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};r=o;function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");!n.default.tablet&&!n.default.phone||navigator.isCocoonJS||this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}e.default=r,u.WebGLRenderer.registerPlugin("accessibility",r),u.CanvasRenderer.registerPlugin("accessibility",r)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(273),i=(Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}}),r(274));function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));var c=new h.Rectangle,r=(n.prototype.image=function(t){var e;return(e=new Image).src=this.base64(t),e},n.prototype.base64=function(t){return this.canvas(t).toDataURL()},n.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=!1,a=void 0,s=!1,t=(t&&(t instanceof h.RenderTexture?a=t:(a=this.renderer.generateTexture(t),s=!0)),a?(n=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,i=a.frame,o=!1):(n=(r=this.renderer.rootRenderTarget).resolution,o=!0,(i=c).width=r.size.width,i.height=r.size.height),Math.floor(i.width*n+1e-4)),u=Math.floor(i.height*n+1e-4),l=new h.CanvasRenderTarget(t,u,1);return r&&(e.bindRenderTarget(r),r=new Uint8Array(4*t*u),(e=e.gl).readPixels(i.x*n,i.y*n,t,u,e.RGBA,e.UNSIGNED_BYTE,r),(i=l.context.getImageData(0,0,t,u)).data.set(r),l.context.putImageData(i,0,0),o)&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-u)),s&&a.destroy(!0),l.canvas},n.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0,a=!1,t=(t&&(t instanceof h.RenderTexture?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(n=(r=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,i=o.frame):(n=(r=this.renderer.rootRenderTarget).resolution,(i=c).width=r.size.width,i.height=r.size.height),i.width*n),s=i.height*n,u=new Uint8Array(4*t*s);return r&&(e.bindRenderTarget(r),(r=e.gl).readPixels(i.x*n,i.y*n,t,s,r.RGBA,r.UNSIGNED_BYTE,u)),a&&o.destroy(!0),u},n.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},n);function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");(this.renderer=t).extract=this}e.default=r,h.WebGLRenderer.registerPlugin("extract",r)},function(t,e,r){"use strict";e.__esModule=!0;var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));var s=new a.Rectangle,r=(n.prototype.image=function(t){var e;return(e=new Image).src=this.base64(t),e},n.prototype.base64=function(t){return this.canvas(t).toDataURL()},n.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0,t=((o=t?t instanceof a.RenderTexture?t:e.generateTexture(t):o)?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,n=e.resolution,(i=s).width=this.renderer.width,i.height=this.renderer.height),Math.floor(i.width*n+1e-4)),o=Math.floor(i.height*n+1e-4),e=new a.CanvasRenderTarget(t,o,1),r=r.getImageData(i.x*n,i.y*n,t,o);return e.context.putImageData(r,0,0),e.canvas},n.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;return(o=t?t instanceof a.RenderTexture?t:e.generateTexture(t):o)?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,(i=s).width=e.width,i.height=e.height),r.getImageData(0,0,i.width*n,i.height*n).data},n.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},n);function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");(this.renderer=t).extract=this}e.default=r,a.CanvasRenderer.registerPlugin("extract",r)},function(t,e,r){"use strict";e.__esModule=!0;var o=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(t,e){var r;if(this instanceof i)return(r=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,t[0]instanceof a.Texture?t[0]:t[0].texture)))._textures=null,r._durations=null,r.textures=t,r._autoUpdate=!1!==e,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r.playing=!1,r;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate)&&a.ticker.shared.remove(this.update,this)},i.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH))},i.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},i.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},i.prototype.destroy=function(t){this.stop(),n.prototype.destroy.call(this,t)},i.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(a.Texture.fromFrame(t[r]));return new i(e)},i.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(a.Texture.fromImage(t[r]));return new i(e)},o(i,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof a.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),i}(a.Sprite);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),r=r(37),m=(r=r)&&r.__esModule?r:{default:r};var s=new g.Point,r=function(o){var t=a,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,n=this,i=a;if(n instanceof i)return(n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,t))).tileTransform=new g.TransformStatic,n._width=e,n._height=r,n._canvasPattern=null,n.uvTransform=t.transform||new g.TextureMatrix(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},a.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},a.prototype._renderCanvas=function(t){var e,r,n,i,o,a,s,u,l,h,c,d,f,p,y,_,v=this._texture;v.baseTexture.hasLoaded&&(e=t.context,r=this.worldTransform,n=t.resolution,y=2===v.rotate,i=(_=v.baseTexture).resolution,o=this.tilePosition.x/this.tileScale.x%v.orig.width*i,a=this.tilePosition.y/this.tileScale.y%v.orig.height*i,this._textureID===this._texture._updateID&&this.cachedTint===this.tint||(this._textureID=this._texture._updateID,s=new g.CanvasRenderTarget(v.orig.width,v.orig.height,i),16777215!==this.tint?(this.tintedTexture=m.default.getTintedTexture(this,this.tint),s.context.drawImage(this.tintedTexture,0,0)):(u=v._frame.x*i,l=v._frame.y*i,h=v._frame.width*i,c=v._frame.height*i,d=(v.trim||v.orig).width*i,f=(v.trim||v.orig).height*i,p=(v.trim?v.trim.x:0)*i,v=(v.trim?v.trim.y:0)*i,y?(s.context.rotate(-Math.PI/2),s.context.translate(-f,0),s.context.drawImage(_.source,u,l,h,c,-v,p,f,d)):s.context.drawImage(_.source,u,l,h,c,p,v,d,f)),this.cachedTint=this.tint,this._canvasPattern=s.context.createPattern(s.canvas,"repeat")),e.globalAlpha=this.worldAlpha,e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),t.setBlendMode(this.blendMode),e.fillStyle=this._canvasPattern,e.scale(this.tileScale.x/i,this.tileScale.y/i),y=this.anchor.x*-this._width*i,_=this.anchor.y*-this._height*i,this.uvRespectAnchor?(e.translate(o,a),e.fillRect(y-o,_-a,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(e.translate(o+y,a+_),e.fillRect(-o,-a,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)))},a.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},a.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new g.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):o.prototype.getLocalBounds.call(this,t)},a.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var t=this._width,e=this._height,r=-t*this.anchor._x;if(s.x>=r&&s.x<r+t){r=-e*this.anchor._y;if(s.y>=r&&s.y<r+e)return!0}return!1},a.prototype.destroy=function(t){o.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},a.from=function(t,e,r){return new a(g.Texture.from(t),e,r)},a.fromFrame=function(t,e,r){var n=g.utils.TextureCache[t];if(n)return new a(n,e,r);throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this)},a.fromImage=function(t,e,r,n,i){return new a(g.Texture.fromImage(t,n,i),e,r)},n(a,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),a}(g.Sprite);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),p=r(0);r(10);var y=new f.Matrix,r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).shader=null,t.simpleShader=null,t.quad=null,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new f.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new f.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new f.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},n.prototype.render=function(t){var e=this.renderer,r=this.quad,n=(e.bindVao(r.vao),r.vertices),n=(n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload(),t._texture),i=n.baseTexture,o=t.tileTransform.localTransform,a=t.uvTransform,s=i.isPowerOfTwo&&n.frame.width===i.width&&n.frame.height===i.height,u=(s&&(i._glTextures[e.CONTEXT_UID]?s=i.wrapMode!==p.WRAP_MODES.CLAMP:i.wrapMode===p.WRAP_MODES.CLAMP&&(i.wrapMode=p.WRAP_MODES.REPEAT)),s?this.simpleShader:this.shader),l=(e.bindShader(u),n.width),h=n.height,c=t._width,d=t._height;y.set(o.a*l/c,o.b*l/d,o.c*h/c,o.d*h/d,o.tx/c,o.ty/d),y.invert(),s?y.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=y.toArray(!0),u.uniforms.uColor=f.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,u.uniforms.uColor,i.premultipliedAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=e.bindTexture(n),e.setBlendMode(f.utils.correctBlendMode(t.blendMode,i.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},n}(f.ObjectRenderer);e.default=r,f.WebGLRenderer.registerPlugin("tilingSprite",r)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var I=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),a=o(r(96)),T=r(2),w=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}r=function(o){var t=M,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function M(t){var e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,i=M;if(n instanceof i)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this)))._textWidth=0,e._textHeight=0,e._glyphs=[],e._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},e.font=r.font,e._text=t,e._maxWidth=0,e._maxLineHeight=0,e._letterSpacing=0,e._anchor=new a.default(function(){e.dirty=!0},e,0,0),e.dirty=!1,e.updateText(),e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),M.prototype.updateText=function(){for(var t=M.fonts[this._font.name],e=this._font.size/t.size,r=new I.Point,n=[],i=[],o=this.text.replace(/(?:\r\n|\r)/g,"\n"),a=o.length,s=this._maxWidth*t.size/this._font.size,u=null,l=0,h=0,c=0,d=-1,f=0,p=0,y=0,_=0;_<a;_++){var v=o.charCodeAt(_),g=o.charAt(_);/(?:\s)/.test(g)&&(d=_,f=l),"\r"===g||"\n"===g?(i.push(l),h=Math.max(h,l),++c,++p,r.x=0,r.y+=t.lineHeight,u=null):(g=t.chars[v])&&(u&&g.kerning[u]&&(r.x+=g.kerning[u]),n.push({texture:g.texture,line:c,charCode:v,position:new I.Point(r.x+g.xOffset+this._letterSpacing/2,r.y+g.yOffset)}),r.x+=g.xAdvance+this._letterSpacing,l=r.x,y=Math.max(y,g.yOffset+g.texture.height),u=v,-1!==d)&&0<s&&r.x>s&&(++p,I.utils.removeItems(n,1+d-p,1+_-d),_=d,d=-1,i.push(f),h=Math.max(h,f),c++,r.x=0,r.y+=t.lineHeight,u=null)}for(var m=o.charAt(o.length-1),b=("\r"!==m&&"\n"!==m&&(/(?:\s)/.test(m)&&(l=f),i.push(l),h=Math.max(h,l)),[]),x=0;x<=c;x++){var T=0;"right"===this._font.align?T=h-i[x]:"center"===this._font.align&&(T=(h-i[x])/2),b.push(T)}for(var w=n.length,E=this.tint,S=0;S<w;S++){var O=this._glyphs[S];O?O.texture=n[S].texture:(O=new I.Sprite(n[S].texture),this._glyphs.push(O)),O.position.x=(n[S].position.x+b[n[S].line])*e,O.position.y=n[S].position.y*e,O.scale.x=O.scale.y=e,O.tint=E,O.parent||this.addChild(O)}for(var A=w;A<this._glyphs.length;++A)this.removeChild(this._glyphs[A]);if(this._textWidth=h*e,this._textHeight=(r.y+t.lineHeight)*e,0!==this.anchor.x||0!==this.anchor.y)for(var P=0;P<w;P++)this._glyphs[P].x-=this._textWidth*this.anchor.x,this._glyphs[P].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*e},M.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},M.prototype.getLocalBounds=function(){return this.validate(),o.prototype.getLocalBounds.call(this)},M.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},M.registerFont=function(t,e){var r={},n=t.getElementsByTagName("info")[0],i=t.getElementsByTagName("common")[0],o=t.getElementsByTagName("page"),a=(0,T.getResolutionOfUrl)(o[0].getAttribute("file"),w.default.RESOLUTION),s={};r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(i.getAttribute("lineHeight"),10)/a,r.chars={},e instanceof I.Texture&&(e=[e]);for(var u=0;u<o.length;u++){var l=o[u].getAttribute("id"),h=o[u].getAttribute("file");s[l]=e instanceof Array?e[u]:e[h]}for(var c=t.getElementsByTagName("char"),d=0;d<c.length;d++){var f=c[d],p=parseInt(f.getAttribute("id"),10),y=f.getAttribute("page")||0,_=new I.Rectangle(parseInt(f.getAttribute("x"),10)/a+s[y].frame.x/a,parseInt(f.getAttribute("y"),10)/a+s[y].frame.y/a,parseInt(f.getAttribute("width"),10)/a,parseInt(f.getAttribute("height"),10)/a);r.chars[p]={xOffset:parseInt(f.getAttribute("xoffset"),10)/a,yOffset:parseInt(f.getAttribute("yoffset"),10)/a,xAdvance:parseInt(f.getAttribute("xadvance"),10)/a,kerning:{},texture:new I.Texture(s[y].baseTexture,_),page:y}}for(var v=t.getElementsByTagName("kerning"),g=0;g<v.length;g++){var m=v[g],b=parseInt(m.getAttribute("first"),10)/a,x=parseInt(m.getAttribute("second"),10)/a,m=parseInt(m.getAttribute("amount"),10)/a;r.chars[x]&&(r.chars[x].kerning[b]=m)}return M.fonts[r.font]=r},n(M,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&0<=t?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=2<=t.length?parseInt(t[0],10):M.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),M}(I.Container);(e.default=r).fonts={}},function(t,e,r){"use strict";var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),u=n(r(14)),l=n(r(22)),h=r(2);function n(t){return t&&t.__esModule?t:{default:t}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null}var r=s.DisplayObject,c=new s.Matrix;r.prototype._cacheAsBitmap=!1,r.prototype._cacheData=!1;Object.defineProperties(r.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(e=void 0,(this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new i),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),r.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},r.prototype._initCachedDisplayObject=function(t){var e,r,n,i,o,a;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.currentRenderer.flush(),r=this.getLocalBounds().clone(),this._filters&&this._filters.length&&(n=this._filters[0].padding,r.pad(n)),r.ceil(s.settings.RESOLUTION),n=t._activeRenderTarget,i=t.filterManager.filterStack,o=s.RenderTexture.create(r.width,r.height),a="cacheAsBitmap_"+(0,h.uid)(),this._cacheData.textureCacheId=a,l.default.addToCache(o.baseTexture,a),u.default.addToCache(o,a),(a=c).tx=-r.x,a.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,o,!0,a,!0),t.bindRenderTarget(n),t.filterManager.filterStack=i,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(a=new s.Sprite(o)).transform.worldTransform=this.transform.worldTransform,a.anchor.x=-(r.x/r.width),a.anchor.y=-(r.y/r.height),a.alpha=e,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a))},r.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},r.prototype._initCachedDisplayObjectCanvas=function(t){var e,r,n,i,o;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(),r=this.alpha,this.alpha=1,n=t.context,e.ceil(s.settings.RESOLUTION),i=s.RenderTexture.create(e.width,e.height),o="cacheAsBitmap_"+(0,h.uid)(),this._cacheData.textureCacheId=o,l.default.addToCache(i.baseTexture,o),u.default.addToCache(i,o),this.transform.localTransform.copy(o=c),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,o,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(o=new s.Sprite(i)).transform.worldTransform=this.transform.worldTransform,o.anchor.x=-(e.x/e.width),o.anchor.y=-(e.y/e.height),o.alpha=r,o._bounds=this._bounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o))},r.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},r.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},r.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,l.default.removeFromCache(this._cacheData.textureCacheId),u.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},r.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));n.DisplayObject.prototype.getGlobalPosition=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new n.Point;return this.parent?this.parent.toGlobal(this.position,t,1<arguments.length&&void 0!==arguments[1]&&arguments[1]):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(283),i=(Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}}),r(284)),o=(Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}}),r(285)),a=(Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}}),r(286)),s=(Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(a).default}}),r(130)),u=(Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(s).default}}),r(134)),l=(Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}}),r(287)),h=(Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(l).default}}),r(288));function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(h).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r(10);r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var t=this,e=r.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(n.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r(10);r=function(i){var t=o,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random(),r=this,n=o;if(r instanceof n)return(r=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"))).noise=t,r.seed=e,r;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n(o,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),o}(o.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r(10);r=function(i){var t=o,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(t,e){var r,n;if(this instanceof o)return r=new a.Matrix,t.renderable=!1,(n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"))).maskSprite=t,n.maskMatrix=r,n.uniforms.mapSampler=t._texture,n.uniforms.filterMatrix=r,n.uniforms.scale={x:1,y:1},n.scale=new a.Point(e=null==e?20:e,e),n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(o,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),o}(a.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),u=o(r(130)),l=o(r(134));function o(t){return t&&t.__esModule?t:{default:t}}r=function(o){var t=a,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(t,e,r,n){var i;if(this instanceof a)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this))).blurXFilter=new u.default(t,e,r,n),i.blurYFilter=new l.default(t,e,r,n),i.padding=0,i.resolution=r||s.settings.RESOLUTION,i.quality=e||4,i.blur=t||8,i;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(a,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),a}(s.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r(10);r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(){var t;if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"))).uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],t.alpha=1,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype._loadMatrix=function(t){var e=t;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},n.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},n.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},n.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},n.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},n.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},n.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),t=Math.sin(t),n=(0,Math.sqrt)(1/3);this._loadMatrix([r+1/3*(1-r),1/3*(1-r)-n*t,1/3*(1-r)+n*t,0,0,1/3*(1-r)+n*t,r+1/3*(1-r),1/3*(1-r)-n*t,0,0,1/3*(1-r)-n*t,1/3*(1-r)+n*t,r+1/3*(1-r),0,0,0,0,0,1,0],e)},n.prototype.contrast=function(t,e){var t=(t||0)+1,r=-.5*(t-1);this._loadMatrix([t,0,0,0,r,0,t,0,0,r,0,0,t,0,r,0,0,0,1,0],e)},n.prototype.saturate=function(){var t=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,e=-.5*(t-1);this._loadMatrix([t,e,e,0,0,e,t,e,0,0,e,e,t,0,0,0,0,0,1,0],arguments[1])},n.prototype.desaturate=function(){this.saturate(-1)},n.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},n.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},n.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},n.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},n.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},n.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},n.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},n.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},n.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,r=(255&r)/255,s=((n=n||3375104)>>16&255)/255,u=(n>>8&255)/255,n=(255&n)/255;this._loadMatrix([.3,.59,.11,0,0,o,a,r,t=t||.2,0,s,u,n,e=e||.15,0,o-s,a-u,r-n,0,0],i)},n.prototype.night=function(t,e){this._loadMatrix([-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},n.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},n.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},n.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i(n,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),n}(o.Filter);(e.default=r).prototype.grayscale=r.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var o=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1));r(10);r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=this,r=i;if(e instanceof r)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"))).alpha=t,e.glShaderKey="alpha",e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o(i,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),i}(i.Filter);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=r(135),i=(Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}}),r(290)),o=(Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}}),r(138)),a=(Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}}),r(137)),s=(Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(a).default}}),r(136));function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,r){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),s=i(r(135)),u=i(r(136)),h=i(r(137)),n=i(r(19)),r=i(r(138));function i(t){return t&&t.__esModule?t:{default:t}}a.utils.mixins.delayMixin(a.DisplayObject.prototype,r.default);var l={target:null,data:{global:null}},r=function(n){var t=i,e=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function i(t,e){var r;if(this instanceof i)return e=e||{},(r=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this))).renderer=t,r.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,r.interactionFrequency=e.interactionFrequency||10,r.mouse=new s.default,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new u.default,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r._tempPoint=new a.Point,r.resolution=1,r.setTargetElement(r.renderer.view,r.renderer.resolution),r;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),i.prototype.hitTest=function(t,e){return l.target=null,l.data.global=t,e=e||this.renderer._lastObjectRendered,this.processInteractive(l,e,null,!0),l.target},i.prototype.setTargetElement=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(a.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)this.activeInteractionData.hasOwnProperty(e)&&(e=this.activeInteractionData[e]).originalEvent&&"touch"!==e.pointerType&&(e=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e),this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(t){if(this.currentCursorMode!==(t=t||"default")){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":o(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},i.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},i.prototype.mapPositionToPoint=function(t,e,r){var n=void 0,n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},i.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:u=n=!1),s=!1):e._mask&&n&&!e._mask.containsPoint(o)&&(u=n=!1),u&&e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;0<=h;h--){var c=l[h],d=this.processInteractive(t,c,r,n,s);d&&c.parent&&(s=!1,d)&&(t.target&&(n=!1),a=!0)}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive)&&(a&&!t.target&&(t.target=e),r)&&r(t,e,!!a),a},i.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType)for(var e=this.normalizeToPointerData(t),r=(this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault(),e.length),n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===i.pointerType?this.emit("touchstart",o):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(o=2===i.button,this.emit(o?"rightdown":"mousedown",this.eventData))}},i.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;r&&(e.trackedPointers[i]||(e.trackedPointers[i]=new h.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==n.pointerType&&"pen"!==n.pointerType||((r=2===n.button)?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)))},i.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s,u=n[a],l=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,l);h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===u.pointerType||"pen"===u.pointerType?(s=2===u.button,this.emit(s?"rightup"+o:"mouseup"+o,h)):"touch"===u.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(u.pointerId,l))}},i.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType)&&this.dispatchEvent(e,"touchcancel",t)},i.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},i.prototype.processPointerUp=function(t,e,r){var n,i=t.data,o=t.data.identifier,a=e.trackedPointers[o],s="touch"===i.pointerType,u="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;u&&(i=2===i.button,n=h.default.FLAGS,n=i?n.RIGHT_DOWN:n.LEFT_DOWN,n=void 0!==a&&a.flags&n,r?(this.dispatchEvent(e,i?"rightup":"mouseup",t),n&&(this.dispatchEvent(e,i?"rightclick":"click",t),l=!0)):n&&this.dispatchEvent(e,i?"rightupoutside":"mouseupoutside",t),a)&&(i?a.rightDown=!1:a.leftDown=!1),r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),a&&(u&&!l||this.dispatchEvent(e,"pointertap",t),s)&&(this.dispatchEvent(e,"tap",t),a.over=!1)):a&&(this.dispatchEvent(e,"pointerupoutside",t),s)&&this.dispatchEvent(e,"touchendoutside",t),a&&a.none&&delete e.trackedPointers[o]},i.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){for(var e=this.normalizeToPointerData(t),r=("mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null),e.length),n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o),a=(o.data.originalEvent=t,"touch"!==i.pointerType||this.moveWhenInside);this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",o),"touch"===i.pointerType&&this.emit("touchmove",o),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,n="mouse"===n.pointerType||"pen"===n.pointerType;n&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),n&&this.dispatchEvent(e,"mousemove",t))},i.prototype.onPointerOut=function(t){var e,r;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(t=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),e=this.getInteractionDataForPointerId(t),(r=this.configureInteractionEventForDOMEvent(this.eventData,t,e)).data.originalEvent=t,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(e.identifier))},i.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,n="mouse"===n.pointerType||"pen"===n.pointerType,o=e.trackedPointers[i];void 0!==(o=r&&!o?e.trackedPointers[i]=new h.default(i):o)&&(r&&this.mouseOverRenderer?(o.over||(o.over=!0,this.dispatchEvent(e,"pointerover",t),n&&this.dispatchEvent(e,"mouseover",t)),n&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),n&&this.dispatchEvent(e,"mouseout",t),o.none)&&delete e.trackedPointers[i])},i.prototype.onPointerOver=function(t){var t=this.normalizeToPointerData(t)[0],e=this.getInteractionDataForPointerId(t),e=this.configureInteractionEventForDOMEvent(this.eventData,t,e);"mouse"===(e.data.originalEvent=t).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",e),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",e)},i.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return 1===e||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new s.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},i.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},i.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},i.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent||(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=1),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0),e.push(t);return e},i.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},i}(n.default);e.default=r,a.WebGLRenderer.registerPlugin("interaction",r),a.CanvasRenderer.registerPlugin("interaction",r)},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(139),i=(Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return l(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}}),r(144)),o=(Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}}),r(145)),a=(Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return l(o).default}}),r(34));Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return a.Resource}});var s=l(r(126)),u=l(r(293));function l(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var h=new u.default,r=(h.destroy=function(){},e.shared=h,s.default.prototype);r._loader=null,Object.defineProperty(r,"loader",{get:function(){var t;return this._loader||(t=this._options.sharedLoader,this._loader=t?h:new u.default),this._loader}}),r._parentDestroy=r.destroy,r.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.Loader=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=a(r(140)),o=a(r(141)),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(142)),c=r(75);function a(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,d=e.Loader=(f.prototype.add=function(t,e,r,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)this.add(t[i]);else{if("object"===(void 0===t?"undefined":h(t))&&(n=e||t.callback||t.onComplete,e=(r=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new c.Resource(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var u=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var l=0;l<a.length;++l)a[l].progressChunk=u;this.resources[t].progressChunk=u}this._queue.push(this.resources[t])}return this},f.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},f.prototype.use=function(t){return this._afterMiddleware.push(t),this},f.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){t=this.resources[t];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},f.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),!this.loading)if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},f.prototype._prepareUrl=function(t){var e=(0,o.default)(t,{strictMode:!0}),r=void 0;return r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(e=l.exec(r)[0],-1!==(r=r.substr(0,r.length-e.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=e),r},f.prototype._loadResource=function(r,t){var n=this;r._dequeue=t,u.eachSeries(this._beforeMiddleware,function(t,e){t.call(n,r,function(){e(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())},!0)},f.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},f.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},f.prototype._onLoad=function(r){var n=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),u.eachSeries(this._afterMiddleware,function(t,e){t.call(n,r,e)},function(){r.onAfterMiddleware.dispatch(r),n.progress=Math.min(100,n.progress+r.progressChunk),n.onProgress.dispatch(n,r),r.error?n.onError.dispatch(r.error,n,r):n.onLoad.dispatch(n,r),n._resourcesParsing.splice(n._resourcesParsing.indexOf(r),1),n._queue.idle()&&0===n._resourcesParsing.length&&n._onComplete()},!0)},n(f,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),f);function f(){var r=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,n=this,i=f;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=u.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default;for(var o=0;o<f._defaultBeforeMiddleware.length;++o)this.pre(f._defaultBeforeMiddleware[o]);for(var a=0;a<f._defaultAfterMiddleware.length;++a)this.use(f._defaultAfterMiddleware[a])}d._defaultBeforeMiddleware=[],d._defaultAfterMiddleware=[],d.pre=function(t){return d._defaultBeforeMiddleware.push(t),d},d.use=function(t){return d._defaultAfterMiddleware.push(t),d}},function(t,e,r){"use strict";e.__esModule=!0;var n=u(r(34)),i=r(294),a=u(r(19)),o=u(r(145)),s=u(r(144)),r=u(r(139));function u(t){return t&&t.__esModule?t:{default:t}}var l,h=function(i){var t=o,e=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(t,e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,t,e));a.default.call(n);for(var r=0;r<o._pixiMiddleware.length;++r)n.use(o._pixiMiddleware[r]());return n.onStart.add(function(t){return n.emit("start",t)}),n.onProgress.add(function(t,e){return n.emit("progress",t,e)}),n.onError.add(function(t,e,r){return n.emit("error",t,e,r)}),n.onLoad.add(function(t,e){return n.emit("load",t,e)}),n.onComplete.add(function(t,e){return n.emit("complete",t,e)}),n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o.addPixiMiddleware=function(t){o._pixiMiddleware.push(t)},o.prototype.destroy=function(){this.removeAllListeners(),this.reset()},o}(n.default);for(l in e.default=h,a.default.prototype)h.prototype[l]=a.default.prototype[l];h._pixiMiddleware=[i.blobMiddlewareFactory,o.default,s.default,r.default];e=n.default.Resource;e.setExtensionXhrType("fnt",e.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data&&(t.xhr&&t.xhrType===i.Resource.XHR_RESPONSE_TYPE.BLOB))if(window.Blob&&"string"!=typeof t.data){var r;if(0===t.data.type.indexOf("image"))return r=a.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=r,t.type=i.Resource.TYPE.IMAGE,void(t.data.onload=function(){a.revokeObjectURL(r),t.data.onload=null,e()})}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+(0,o.encodeBinary)(t.xhr.responseText),t.type=i.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}};var i=r(75),o=r(143),a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=r(35),i=(Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return l(n).default}}),r(296)),o=(Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return l(i).default}}),r(297)),a=(Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return l(o).default}}),r(146)),s=(Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return l(a).default}}),r(298)),u=(Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return l(s).default}}),r(299));function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return l(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),a=n(r(7)),s=n(r(35));r(10);function n(t){return t&&t.__esModule?t:{default:t}}var u=o.Matrix.IDENTITY,r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).shader=null,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new o.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},n.prototype.render=function(t){var e,r=this.renderer,n=r.gl,i=t._texture;i.valid&&((e=t._glDatas[r.CONTEXT_UID])||(r.bindVao(null),(e={shader:this.shader,vertexBuffer:a.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:a.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:a.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new a.default.VertexArrayObject(n).addIndex(e.indexBuffer).addAttribute(e.vertexBuffer,e.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(e.uvBuffer,e.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[r.CONTEXT_UID]=e),r.bindVao(e.vao),t.dirty!==e.dirty&&(e.dirty=t.dirty,e.uvBuffer.upload(t.uvs)),t.indexDirty!==e.indexDirty&&(e.indexDirty=t.indexDirty,e.indexBuffer.upload(t.indices)),t.vertexDirty!==e.vertexDirty&&(e.vertexDirty=t.vertexDirty,e.vertexBuffer.upload(t.vertices)),r.bindShader(e.shader),e.shader.uniforms.uSampler=r.bindTexture(i),r.state.setBlendMode(o.utils.correctBlendMode(t.blendMode,i.baseTexture.premultipliedAlpha)),e.shader.uniforms.uTransform&&(t.uploadUvTransform?e.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):e.shader.uniforms.uTransform=u.toArray(!0)),e.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),e.shader.uniforms.uColor=o.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,e.shader.uniforms.uColor,i.baseTexture.premultipliedAlpha),r=t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES,e.vao.draw(r,t.indices.length,0))},n}(o.ObjectRenderer);e.default=r,o.WebGLRenderer.registerPlugin("mesh",r)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),r=r(35),o=(r=r)&&r.__esModule?r:{default:r};i.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},i.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,2+n,4+n)}},i.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,i,o,a)}},i.prototype._renderDrawTriangle=function(t,e,r,n){var i,o,a,s,u,l,h,c,d,f,p,y,_,v,g,m,b=this.renderer.context,x=t.uvs,T=t.vertices,w=t._texture;w.valid&&(i=(w=w.baseTexture).source,o=w.width,a=w.height,d=c=h=l=u=s=void 0,d=t.uploadUvTransform?(y=t._uvTransform.mapCoord,s=(x[e]*y.a+x[e+1]*y.c+y.tx)*w.width,u=(x[r]*y.a+x[r+1]*y.c+y.tx)*w.width,l=(x[n]*y.a+x[n+1]*y.c+y.tx)*w.width,h=(x[e]*y.b+x[e+1]*y.d+y.ty)*w.height,c=(x[r]*y.b+x[r+1]*y.d+y.ty)*w.height,(x[n]*y.b+x[n+1]*y.d+y.ty)*w.height):(s=x[e]*w.width,u=x[r]*w.width,l=x[n]*w.width,h=x[e+1]*w.height,c=x[r+1]*w.height,x[n+1]*w.height),y=T[e],x=T[r],f=T[n],e=T[e+1],r=T[r+1],T=T[n+1],0<(n=t.canvasPadding/this.renderer.resolution)&&(p=n/Math.abs(t.worldTransform.a),n=n/Math.abs(t.worldTransform.d),v=e-(t=(e+r+T)/3),y=(m=(y+x+f)/3)+(_=y-m)/(g=Math.sqrt(_*_+v*v))*(g+p),e=t+v/g*(g+n),v=r-t,x=m+(_=x-m)/(g=Math.sqrt(_*_+v*v))*(g+p),r=t+v/g*(g+n),v=T-t,f=m+(_=f-m)/(g=Math.sqrt(_*_+v*v))*(g+p),T=t+v/g*(g+n)),b.save(),b.beginPath(),b.moveTo(y,e),b.lineTo(x,r),b.lineTo(f,T),b.closePath(),b.clip(),b.transform((y*c+h*f+x*d-c*f-h*x-y*d)/(m=s*c+h*l+u*d-c*l-h*u-s*d),(e*c+h*T+r*d-c*T-h*r-e*d)/m,(s*x+y*l+u*f-x*l-y*u-s*f)/m,(s*r+e*l+u*T-r*l-e*u-s*T)/m,(s*c*f+h*x*l+y*u*d-y*c*l-h*u*f-s*x*d)/m,(s*c*T+h*r*l+e*u*d-e*c*l-h*u*T-s*r*d)/m),b.drawImage(i,0,0,o*w.resolution,a*w.resolution,0,0,o,a),b.restore(),this.renderer.invalidateBlendMode())},i.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,a=r[o],s=r[1+o],u=r[2+o],l=r[3+o],h=r[4+o],o=r[5+o];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(h,o)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype.destroy=function(){this.renderer=null};r=i;function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.renderer=t}e.default=r,n.CanvasRenderer.registerPlugin("mesh",r)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=a(r(146)),b=a(r(37));function a(t){return t&&t.__esModule?t:{default:t}}r=function(a){var t=s,e=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function s(t,e,r,n,i){var o;if(this instanceof s)return(o=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this,t,4,4)))._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=void 0!==e?e:10,o._rightWidth=void 0!==n?n:10,o._topHeight=void 0!==r?r:10,o._bottomHeight=void 0!==i?i:10,o._cachedTint=16777215,o._tintedTexture=null,o._canvasUvs=null,o.refresh(!0),o;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),s.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,e=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},s.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,e=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},s.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform,n=t.resolution,i=16777215!==this.tint,o=this._texture,a=(i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=b.default.getTintedTexture(this,this.tint)),i?this._tintedTexture:o.baseTexture.source),s=(this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]),this.vertices),u=this._canvasUvs,l=i?0:o.frame.x,i=i?0:o.frame.y,h=l+o.frame.width,c=i+o.frame.height;u[0]=l,u[1]=l+this._leftWidth,u[2]=h-this._rightWidth,u[3]=h,u[4]=i,u[5]=i+this._topHeight,u[6]=c-this._bottomHeight,u[7]=c;for(var d=0;d<8;d++)u[d]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);for(var f=0;f<3;f++)for(var p=0;p<3;p++){var y=2*p+8*f,_=Math.max(1,u[p+1]-u[p]),v=Math.max(1,u[f+5]-u[f+4]),g=Math.max(1,s[10+y]-s[y]),m=Math.max(1,s[11+y]-s[1+y]);e.drawImage(a,u[p],u[f+4],_,v,s[y],s[1+y],g,m)}},s.prototype._refresh=function(){a.prototype._refresh.call(this);var t=this.uvs,e=this._texture,e=(this._origWidth=e.orig.width,this._origHeight=e.orig.height,1/this._origWidth),r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=e*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-e*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(s,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),s}(o.default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var r=r(35);r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(t,e){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,t))).points=e,t.vertices=new Float32Array(4*e.length),t.uvs=new Float32Array(4*e.length),t.colors=new Float32Array(2*e.length),t.indices=new Uint16Array(2*e.length),t.autoUpdate=!0,t.refresh(),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));for(var e=this.uvs,r=this.indices,n=this.colors,i=(e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1,t.length),o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[1+a]=0,e[2+a]=s,e[3+a]=1,n[a=2*o]=1,n[1+a]=1,r[a=2*o]=a,r[1+a]=1+a}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},n.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s,i=-((r=s<t.length-1?t[s+1]:u).x-e.x),n=r.y-e.y,h=Math.sqrt(n*n+i*i),c=this._texture.height/2;i=i/h*c,o[l]=u.x+(n=n/h*c),o[1+l]=u.y+i,o[2+l]=u.x-n,o[3+l]=u.y-i,e=u}},n.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},n}(((r=r)&&r.__esModule?r:{default:r}).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var n=r(301),i=(Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}}),r(302));function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),o=r(2);r=function(a){var t=s,e=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this,o=s;if(i instanceof o)return t<(r=16384<r?16384:r)&&(r=t),(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this)))._properties=[!1,!0,!1,!1,!1],i._maxSize=t,i._batchSize=r,i._glBuffers={},i._bufferUpdateIDs=[],i._updateID=0,i.interactiveChildren=!1,i.blendMode=u.BLEND_MODES.NORMAL,i.autoResize=n,i.roundPixels=!0,i.baseTexture=null,i.setProperties(e),i._tint=0,i.tintRgb=new Float32Array(4),i.tint=16777215,i;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),s.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},s.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},s.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded)||this.baseTexture.once("update",function(){return e.onChildrenChange(0)}),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},s.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},s.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l,h,c=this.children[u];c.visible&&(l=c._texture.frame,e.globalAlpha=this.worldAlpha*c.alpha,s=c.rotation%(2*Math.PI)==0?(n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=c.anchor.x*(-l.width*c.scale.x)+c.position.x+.5,o=c.anchor.y*(-l.height*c.scale.y)+c.position.y+.5,a=l.width*c.scale.x,l.height*c.scale.y):(n=n||!0,c.displayObjectUpdateTransform(),h=c.worldTransform,t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),i=c.anchor.x*-l.width+.5,o=c.anchor.y*-l.height+.5,a=l.width,l.height),h=c._texture.baseTexture.resolution,e.drawImage(c._texture.baseTexture.source,l.x*h,l.y*h,l.width*h,l.height*h,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution))}}},s.prototype.destroy=function(t){if(a.prototype.destroy.call(this,t),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(s,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),s}(u.Container);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var y=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),i=n(r(303)),s=n(r(304)),h=r(2);function n(t){return t&&t.__esModule?t:{default:t}}r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).shader=null,t.indexBuffer=null,t.properties=null,t.tempMatrix=new y.Matrix,t.CONTEXT_UID=0,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},n.prototype.start=function(){this.renderer.bindShader(this.shader)},n.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){r<o&&(o=r);for(var a=(a=t._glBuffers[i.CONTEXT_UID])||(t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t)),r=e[0]._texture.baseTexture,s=(this.renderer.setBlendMode(y.utils.correctBlendMode(t.blendMode,r.premultipliedAlpha)),i.gl),u=t.worldTransform.copy(this.tempMatrix),l=(u.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uColor=y.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,r.premultipliedAlpha),this.shader.uniforms.uSampler=i.bindTexture(r),!1),h=0,c=0;h<o;h+=n,c+=1){var d=o-h;if(n<d&&(d=n),c>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var f=a[c],p=(f.uploadDynamic(e,h,d),t._bufferUpdateIDs[c]||0);(l=l||f._updateID<p)&&(f._updateID=t._updateID,f.uploadStatic(e,h,d)),i.bindVao(f.vao),f.vao.draw(s.TRIANGLES,6*d)}}},n.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,a=0;a<n;a+=i)r.push(new s.default(e,this.properties,o,i));return r},n.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,t=t._properties;return new s.default(e,this.properties,t,r)},n.prototype.uploadVertices=function(t,e,r,n,i,o){for(var a=0,s=0,u=0,l=0,h=0;h<r;++h){var c=t[e+h],d=c._texture,f=c.scale.x,p=c.scale.y,y=d.trim,d=d.orig;y?(a=(s=y.x-c.anchor.x*d.width)+y.width,u=(l=y.y-c.anchor.y*d.height)+y.height):(a=d.width*(1-c.anchor.x),s=d.width*-c.anchor.x,u=d.height*(1-c.anchor.y),l=d.height*-c.anchor.y),n[o]=s*f,n[o+1]=l*p,n[o+i]=a*f,n[o+i+1]=l*p,n[o+2*i]=a*f,n[o+2*i+1]=u*p,n[o+3*i]=s*f,n[o+3*i+1]=u*p,o+=4*i}},n.prototype.uploadPosition=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},n.prototype.uploadRotation=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},n.prototype.uploadUvs=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0),o+=4*i}},n.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a],u=s._texture.baseTexture.premultipliedAlpha,l=s.alpha,u=l<1&&u?(0,h.premultiplyTint)(s._tintRGB,l):s._tintRGB+(255*l<<24);n[o]=u,n[o+i]=u,n[o+2*i]=u,n[o+3*i]=u,o+=4*i}},n.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},n}(y.ObjectRenderer);e.default=r,y.WebGLRenderer.registerPlugin("particle",r)},function(t,e,r){"use strict";e.__esModule=!0;var r=r(33);r=function(r){var t=n,e=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var e=this,t=r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n"));if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((r=r)&&r.__esModule?r:{default:r}).default);e.default=r},function(t,e,r){"use strict";e.__esModule=!0;var d=n(r(7)),f=n(r(74));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=t,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var o={attribute:(o=e[i]).attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset};(r[i]?this.dynamicProperties:this.staticProperties).push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}a.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,f.default)(this.size),this.indexBuffer=d.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);for(var r=this.dynamicStride=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}for(var i=new ArrayBuffer(this.size*this.dynamicStride*4*4),o=(this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=d.default.GLBuffer.createVertexBuffer(t,i,t.STREAM_DRAW),0),a=this.staticStride=0;a<this.staticProperties.length;++a){var s=this.staticProperties[a];s.offset=o,o+=s.size,this.staticStride+=s.size}i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=d.default.GLBuffer.createVertexBuffer(t,i,t.STATIC_DRAW),this.vao=new d.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];l.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,l.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*l.offset):this.vao.addAttribute(this.dynamicBuffer,l.attribute,t.FLOAT,!1,4*this.dynamicStride,4*l.offset)}for(var h=0;h<this.staticProperties.length;++h){var c=this.staticProperties[h];c.unsignedByte?this.vao.addAttribute(this.staticBuffer,c.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*c.offset):this.vao.addAttribute(this.staticBuffer,c.attribute,t.FLOAT,!1,4*this.staticStride,4*c.offset)}},a.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},a.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},a.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(306),i=(Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}}),r(307)),o=(Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}}),r(76)),a=(Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}}),r(147)),s=(Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(a).default}}),r(308));function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),r=r(76);r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).uploadHookHelper=t.renderer,t.registerFindHook(a),t.registerUploadHook(i),t.registerUploadHook(o),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n}(((r=r)&&r.__esModule?r:{default:r}).default);function i(t,e){return e instanceof n.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function o(t,e){return e instanceof n.Graphics&&(!e.dirty&&!e.clearDirty&&e._webGL[t.plugins.graphics.CONTEXT_UID]||t.plugins.graphics.updateGraphics(e),!0)}function a(t,e){return t instanceof n.Graphics&&(e.push(t),!0)}e.default=r,n.WebGLRenderer.registerPlugin("prepare",r)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(1)),r=r(76),r=(r=r)&&r.__esModule?r:{default:r};r=function(e){var t=n,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function n(t){if(this instanceof n)return((t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,t))).uploadHookHelper=t).canvas=document.createElement("canvas"),t.canvas.width=16,t.canvas.height=16,t.ctx=t.canvas.getContext("2d"),t.registerUploadHook(o),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r),n.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},n}(r.default);function o(t,e){var r,n;return e instanceof i.BaseTexture&&(r=0===(e=e.source).width?t.canvas.width:Math.min(t.canvas.width,e.width),n=0===e.height?t.canvas.height:Math.min(t.canvas.height,e.height),t.ctx.drawImage(e,0,0,r,n,0,0,t.canvas.width,t.canvas.height),!0)}e.default=r,i.CanvasRenderer.registerPlugin("prepare",r)},function(t,e,r){"use strict";function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.maxMilliseconds=t,this.frameStart=0}e.__esModule=!0,n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e.default=n},function(t,e){s=s||{},Object.assign(PIXI.Container.prototype,{renderWebGL:function(t){this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||(t._activeLayer=null,this.containerRenderWebGL(t),t._activeLayer=this._activeParentLayer)):this.displayOrder=0)},renderCanvas:function(t){this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||(t._activeLayer=null,this.containerRenderCanvas(t),t._activeLayer=this._activeParentLayer)):this.displayOrder=0)},containerRenderWebGL:PIXI.Container.prototype.renderWebGL,containerRenderCanvas:PIXI.Container.prototype.renderCanvas}),Object.assign(PIXI.DisplayObject.prototype,{parentLayer:null,_activeParentLayer:null,parentGroup:null,zOrder:0,zIndex:0,updateOrder:0,displayOrder:0,layerableChildren:!0}),PIXI.particles&&PIXI.particles.ParticleContainer?PIXI.particles.ParticleContainer.prototype.layerableChildren=!1:PIXI.ParticleContainer&&(PIXI.ParticleContainer.prototype.layerableChildren=!1);var n,i,r,o,a,s,u,l=this&&this.__extends||(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}),function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function h(t,e){var r=i.call(this)||this;return r._activeLayer=null,r._activeStage=null,r._activeChildren=[],r._lastUpdateId=-1,r.useRenderTexture=!1,r.useDoubleBuffer=!1,r.sortPriority=0,r.clearColor=new Float32Array([0,0,0,0]),r.canDrawWithoutLayer=!1,r.canDrawInParentStage=!0,r.zIndex=0,r.enableSort=!1,r._tempResult=[],r._tempZero=[],r.useZeroOptimization=!1,r.zIndex=t,r.enableSort=!!e,"function"==typeof e&&r.on("sort",e),r}r=s=s||{},u=PIXI.utils,i=u.EventEmitter,l(h,i),h.prototype.doSort=function(t,e){if(this.listeners("sort",!0))for(var r=0;r<e.length;r++)this.emit("sort",e[r]);this.useZeroOptimization?this.doSortWithZeroOptimization(t,e):e.sort(h.compareZIndex)},h.compareZIndex=function(t,e){return t.zIndex!==e.zIndex?t.zIndex-e.zIndex:t.zOrder>e.zOrder?-1:t.zOrder<e.zOrder?1:t.updateOrder-e.updateOrder},h.prototype.doSortWithZeroOptimization=function(t,e){throw new Error("not implemented yet")},h.prototype.clear=function(){this._activeLayer=null,this._activeStage=null,this._activeChildren.length=0},h.prototype.addDisplayObject=function(t,e){this.check(t),e._activeParentLayer=this._activeLayer,(this._activeLayer||this)._activeChildren.push(e)},h.prototype.foundLayer=function(t,e){this.check(t),null!=this._activeLayer&&h.conflict(),this._activeLayer=e,this._activeStage=t},h.prototype.foundStage=function(t){this._activeLayer||this.canDrawInParentStage||this.clear()},h.prototype.check=function(t){if(this._lastUpdateId<h._layerUpdateId)this._lastUpdateId=h._layerUpdateId,this.clear(),this._activeStage=t;else if(this.canDrawInParentStage){for(var e=this._activeStage;e&&e!=t;)e=e._activeParentStage;null==(this._activeStage=e)&&this.clear()}},h.conflict=function(){h._lastLayerConflict+5e3<Date.now()&&(h._lastLayerConflict=Date.now(),console.log("PIXI-display plugin found two layers with the same group in one stage - that's not healthy. Please place a breakpoint here and debug it"))},h._layerUpdateId=0,h._lastLayerConflict=0,u=h,r.Group=u,s=s||{},r=PIXI.interaction.InteractionManager,Object.assign(r.prototype,{_queue:[[],[]],_displayProcessInteractive:function(t,e,r,n,i){if(!e||!e.visible)return 0;var o=0,a=n=e.interactive||n,s=(e.hitArea&&(a=!1),e._activeParentLayer&&(i=!1),e._mask),u=(r<1/0&&s&&(s.containsPoint(t)||(i=!0)),r<1/0&&e.filterArea&&(e.filterArea.contains(t.x,t.y)||(i=!0)),e.children);if(e.interactiveChildren&&u)for(var l=u.length-1;0<=l;l--){var h=u[l],c=this._displayProcessInteractive(t,h,r,a,i);c&&h.parent&&(r=o=c)}return n&&(i?e.interactive&&this._queueAdd(e,0):(r<e.displayOrder&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(o=e.displayOrder)):e.containsPoint&&e.containsPoint(t)&&(o=e.displayOrder)),e.interactive&&this._queueAdd(e,o===1/0?0:o))),o},processInteractive:function(t,e,r,n,i){var o=null,a=null,a=t.data&&t.data.global?(o=t).data.global:t;this._startInteractionProcess(),this._displayProcessInteractive(a,e,n?0:1/0,!1),this._finishInteractionProcess(o,r)},_startInteractionProcess:function(){this._eventDisplayOrder=1,this._queue||(this._queue=[[],[]]),this._queue[0].length=0,this._queue[1].length=0},_queueAdd:function(t,e){var r=this._queue;if(e<this._eventDisplayOrder)r[0].push(t);else{if(e>this._eventDisplayOrder){this._eventDisplayOrder=e;for(var n=r[1],i=0,o=n.length;i<o;i++)r[0].push(n[i]);r[1].length=0}r[1].push(t)}},_finishInteractionProcess:function(t,e){for(var r=this._queue,n=r[0],i=0,o=n.length;i<o;i++)t?e&&e(t,n[i],!1):e(n[i],!1);for(i=0,o=(n=r[1]).length;i<o;i++)t?(t.target||(t.target=n[i]),e&&e(t,n[i],!0)):e(n[i],!0)}});var c,d=s=s||{},f=(p.prototype.initRenderTexture=function(t){var e=t?t.screen.width:100,r=t?t.screen.height:100,t=t?t.resolution:PIXI.settings.RESOLUTION;this.renderTexture=PIXI.RenderTexture.create(e,r,void 0,t),this.layer.group.useDoubleBuffer&&(this.doubleBuffer=[PIXI.RenderTexture.create(e,r,void 0,t),PIXI.RenderTexture.create(e,r,void 0,t)])},p.prototype.getRenderTexture=function(){return this.renderTexture||this.initRenderTexture(),this.renderTexture},p.prototype.pushTexture=function(t){var e=t.screen,r=(this.renderTexture||this.initRenderTexture(t),this.renderTexture),n=this.layer.group,i=this.doubleBuffer,i=(r.width===e.width&&r.height===e.height&&r.baseTexture.resolution===t.resolution||(r.baseTexture.resolution=t.resolution,r.resize(e.width,e.height),i&&(i[0].baseTexture.resolution=t.resolution,i[0].resize(e.width,e.height),i[1].baseTexture.resolution=t.resolution,i[1].resize(e.width,e.height))),this._tempRenderTarget=t._activeRenderTarget,t.currentRenderer.flush(),n.useDoubleBuffer?((e=i[this.currentBufferIndex]).baseTexture._glTextures[t.CONTEXT_UID]||(t.bindRenderTexture(e,null),n.clearColor&&t.clear(n.clearColor)),t.unbindTexture(r),r.baseTexture._glTextures=e.baseTexture._glTextures,r.baseTexture._glRenderTargets=e.baseTexture._glRenderTargets,e=i[1-this.currentBufferIndex],t.bindRenderTexture(e,null)):t.bindRenderTexture(r,void 0),n.clearColor&&t.clear(n.clearColor),t.filterManager.filterData);i&&(i.stack[i.index].renderTarget=t._activeRenderTarget)},p.prototype.popTexture=function(t){t.currentRenderer.flush();var e=t.filterManager.filterData,e=(e&&(e.stack[e.index].renderTarget=this._tempRenderTarget),t.bindRenderTarget(this._tempRenderTarget),this._tempRenderTarget=null,this.renderTexture),r=this.layer.group,n=this.doubleBuffer;r.useDoubleBuffer&&(t.unbindTexture(e),this.currentBufferIndex=1-this.currentBufferIndex,r=n[this.currentBufferIndex],e.baseTexture._glTextures=r.baseTexture._glTextures,e.baseTexture._glRenderTargets=r.baseTexture._glRenderTargets)},p.prototype.destroy=function(){this.renderTexture&&(this.renderTexture.destroy(),this.doubleBuffer)&&(this.doubleBuffer[0].destroy(!0),this.doubleBuffer[1].destroy(!0))},p);function p(t){this.layer=t,this.renderTexture=null,this.doubleBuffer=null,this.currentBufferIndex=0,this._tempRenderTarget=null}function y(t){void 0===t&&(t=null);var e=c.call(this)||this;return e.isLayer=!0,e.group=null,e._activeChildren=[],e._tempChildren=null,e._activeStageParent=null,e._sortedChildren=[],e._tempLayerParent=null,e.insertChildrenBeforeActive=!0,e.insertChildrenAfterActive=!0,null!=t?(e.group=t,e.zIndex=t.zIndex):e.group=new d.Group(0,!1),e._tempChildren=e.children,e}function _(){var t=a.call(this)||this;return t.isStage=!0,t._tempGroups=[],t._activeLayers=[],t._activeParentStage=null,t}d.LayerTextureCache=f,c=PIXI.Container,l(y,c),y.prototype.beginWork=function(t){for(var e=this._activeChildren,r=(this._activeStageParent=t,this.group.foundLayer(t,this),this.group._activeChildren),n=e.length=0;n<r.length;n++)r[n]._activeParentLayer=this,e.push(r[n]);r.length=0},y.prototype.endWork=function(){for(var t=this.children,e=this._activeChildren,r=this._sortedChildren,n=0;n<e.length;n++)this.emit("display",e[n]);if(r.length=0,this.insertChildrenBeforeActive)for(n=0;n<t.length;n++)r.push(t[n]);for(n=0;n<e.length;n++)r.push(e[n]);if(!this.insertChildrenBeforeActive&&this.insertChildrenAfterActive)for(n=0;n<t.length;n++)r.push(t[n]);this.group.enableSort&&this.doSort()},Object.defineProperty(y.prototype,"useRenderTexture",{get:function(){return this.group.useRenderTexture},set:function(t){this.group.useRenderTexture=t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"useDoubleBuffer",{get:function(){return this.group.useDoubleBuffer},set:function(t){this.group.useDoubleBuffer=t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"clearColor",{get:function(){return this.group.clearColor},set:function(t){this.group.clearColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"sortPriority",{get:function(){return this.group.sortPriority},set:function(t){this.group.sortPriority=t},enumerable:!0,configurable:!0}),y.prototype.getRenderTexture=function(){return this.textureCache||(this.textureCache=new f(this)),this.textureCache.getRenderTexture()},y.prototype.updateDisplayLayers=function(){},y.prototype.doSort=function(){this.group.doSort(this,this._sortedChildren)},y.prototype._preRender=function(t){return!(this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||(this.children!==this._sortedChildren&&this._tempChildren!=this.children&&(this._tempChildren=this.children),this._boundsID++,this.children=this._sortedChildren,this._tempLayerParent=t._activeLayer,t._activeLayer=this,0)):(this.displayOrder=0,1)))},y.prototype._postRender=function(t){this.children=this._tempChildren,t._activeLayer=this._tempLayerParent,this._tempLayerParent=null},y.prototype.renderWebGL=function(t){this._preRender(t)&&(this.group.useRenderTexture&&(this.textureCache||(this.textureCache=new f(this)),this.textureCache.pushTexture(t)),this.containerRenderWebGL(t),this._postRender(t),this.group.useRenderTexture)&&this.textureCache.popTexture(t)},y.prototype.renderCanvas=function(t){this._preRender(t)&&(this.containerRenderCanvas(t),this._postRender(t))},y.prototype.destroy=function(t){this.textureCache&&(this.textureCache.destroy(),this.textureCache=null),c.prototype.destroy.call(this,t)},d.Layer=y,s=s||{},Object.assign(PIXI.WebGLRenderer.prototype,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:PIXI.WebGLRenderer.prototype.render,render:function(t,e,r,n,i){e||(this._lastDisplayOrder=0),this._activeLayer=null,t.isStage&&t.updateStage(),this._oldRender(t,e,r,n,i)}}),Object.assign(PIXI.CanvasRenderer.prototype,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:PIXI.CanvasRenderer.prototype.render,render:function(t,e,r,n,i){e||(this._lastDisplayOrder=0),this._activeLayer=null,t.isStage&&t.updateStage(),this._oldRender(t,e,r,n,i)}}),o=s=s||{},a=o.Layer,l(_,a),_.prototype.clear=function(){this._activeLayers.length=0,this._tempGroups.length=0},_.prototype.destroy=function(t){this.clear(),a.prototype.destroy.call(this,t)},_.prototype._addRecursive=function(t){if(t.visible)if(t.isLayer&&(this._activeLayers.push(e=t),e.beginWork(this)),t!=this&&t.isStage)t.updateAsChildStage(this);else{var e=t.parentGroup,r=(null!=e&&e.addDisplayObject(this,t),t.parentLayer);if(null!=r&&(e=r.group).addDisplayObject(this,t),t.updateOrder=++_._updateOrderCounter,!(t.alpha<=0||!t.renderable||!t.layerableChildren||e&&e.sortPriority)){var n=t.children;if(n&&n.length)for(var i=0;i<n.length;i++)this._addRecursive(n[i])}}},_.prototype._addRecursiveChildren=function(t){if(!(t.alpha<=0)&&t.renderable&&t.layerableChildren){var e=t.children;if(e&&e.length)for(var r=0;r<e.length;r++)this._addRecursive(e[r])}},_.prototype._updateStageInner=function(){this.clear(),this._addRecursive(this);for(var t=this._activeLayers,e=0;e<t.length;e++)if((i=t[e]).group.sortPriority){i.endWork();for(var r=i._sortedChildren,n=0;n<r.length;n++)this._addRecursiveChildren(r[n])}for(var i,e=0;e<t.length;e++)(i=t[e]).group.sortPriority||i.endWork()},_.prototype.updateAsChildStage=function(t){this._activeParentStage=t,_._updateOrderCounter=0,this._updateStageInner()},_.prototype.updateStage=function(){this._activeParentStage=null,o.Group._layerUpdateId++,this._updateStageInner()},_._updateOrderCounter=0,o.Stage=_,u=s=s||{},PIXI.display=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(r(18)),n=o(r(20)),b=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(21));function o(t){return t&&t.__esModule?t:{default:t}}(0,n.default)(a,[{key:"initMapData",value:function(t,_){var v=this,g=t.uWidth,m=t.uHeight;t.uData.forEach(function(t,e){for(var r=t.sprite,n=t.position,i=t.width,o=t.height,a=t.zIndex,s=void 0===a?0:a,a=t.repeatx,u=void 0===a?1:a,a=t.repeaty,l=void 0===a?1:a,h=t.event.prize,c=_[r].texture,d=0;d<u;d++)for(var f=0;f<l;f++){var p,y=new b.Sprite.from(c);y.x=(n.x+i+d)*g,y.y=(n.y+o+f)*m,y.anchor.set(1,1),y.parentGroup=v.manager.getGroup(s),h&&h.prizeId&&((p=new b.Sprite.from(_[h.prizeId].texture)).x=(n.x+i+d)*g,p.y=(n.y+o+f)*m,p.anchor.set(1,1),p.blendMode=b.BLEND_MODES.OVERLAY,p.parentGroup=v.manager.getGroup(s),v.map.addChild(p)),v.map.addChild(y)}})}}]);r=a;function a(t,e,r,n){(0,i.default)(this,a),this.stage=t,this.manager=n,this.map=new b.Container,this.initMapData(e,r),this.stage.addChild(this.map)}e.default=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(r(148)),s=l(r(18)),n=l(r(20)),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(21)),o=l(r(149)),a=l(r(150)),r=l(r(77));function l(t){return t&&t.__esModule?t:{default:t}}(0,n.default)(h,[{key:"initAction",value:function(t,e,r,n){r=new u.extras.AnimatedSprite(r);r.anchor.set(1),r.animationSpeed=.1,r.name=n,r.visible=!1,r.x=t,r.y=e,r.anchor.set(1),this.role.addChild(r)}},{key:"move",value:function(){for(var r=this,t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];this.running||(this.running=!0,this.tweens=n.map(function(t,e){return r.moveTo(n[e-1]||r.location,t)}),this.tween=this.tweens.shift(),this.tween.start())}},{key:"moveTo",value:function(t,e){var r=this,n={};return(0,i.default)(n,t),new o.default.Tween(n).to(e,400).onUpdate(function(){r.onUpdate(n)}).onComplete(function(){r.onComplete()})}},{key:"position",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this.location={x:t,y:e},this.role.x=t,this.role.y=e}},{key:"onUpdate",value:function(t){this.setDirection(t),this.position(t.x,t.y)}},{key:"onComplete",value:function(){var t=this.tweens.shift();t?t.start():(this.turn("front"),this.running=!1,this.emit("stop"))}},{key:"setDirection",value:function(t){var e=this.location,r=e.x,e=e.y,n=t.x,t=t.y;n<r?"left"!==this.action&&this.turn("left"):r<n?"right"!==this.action&&this.turn("right"):e<t?"front"!==this.action&&this.turn("front"):t<e&&"back"!==this.action&&this.turn("back")}},{key:"turn",value:function(t){var e=this.role.getChildByName(this.action),r=this.role.getChildByName(t);e.visible=!1,e.stop(),r.visible=!0,r.gotoAndPlay(0),this.action=t}},{key:"sync",value:function(){(0,a.default)(function t(){o.default.update(),(0,a.default)(t)})}}]);n=h;function h(t,e,r,n,i){(0,s.default)(this,h),this.stage=r,this.running=!1,this.location={x:0,y:0},this.action="front",this.role=new u.Container,this.role.x=-100,this.role.y=-100,this.role.parentGroup=i.getGroup(2),this.stage.addChild(this.role);var o,a=n.role.spritesheet.animations;for(o in a)this.initAction(t,e,a[o],o);this.turn("front"),this.sync()}e.default=n,(0,r.default)(n.prototype)},function(t,e,r){r(313),t.exports=r(8).Object.assign},function(t,e,r){var n=r(9);n(n.S+n.F,"Object",{assign:r(314)})},function(t,e,r){"use strict";var d=r(12),f=r(83),p=r(315),y=r(316),_=r(54),v=r(50),i=Object.assign;t.exports=!i||r(24)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=i({},t)[r]||Object.keys(i({},e)).join("")!=n})?function(t,e){for(var r=_(t),n=arguments.length,i=1,o=p.f,a=y.f;i<n;)for(var s,u=v(arguments[i++]),l=o?f(u).concat(o(u)):f(u),h=l.length,c=0;c<h;)s=l[c++],d&&!a.call(u,s)||(r[s]=u[s]);return r}:i},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(s,t,e){!function(a){!function(){var t,e,r,n,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?s.exports=function(){return performance.now()}:null!=a&&a.hrtime?(s.exports=function(){return(t()-i)/1e6},e=a.hrtime,n=(t=function(){var t=e();return 1e9*t[0]+t[1]})(),o=1e9*a.uptime(),i=n-o):r=Date.now?(s.exports=function(){return Date.now()-r},Date.now()):(s.exports=function(){return(new Date).getTime()-r},(new Date).getTime())}.call(this)}.call(t,e(40))},function(t,e,r){"use strict";var a=r(151),o=r(319),s=r(323),u=r(331),l=r(332);(t.exports=function(t,e){var r,n,i,o;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],a(t)?(r=l.call(t,"c"),n=l.call(t,"e"),i=l.call(t,"w")):n=!(r=i=!0),t={value:e,configurable:r,enumerable:n,writable:i},o?s(u(o),t):t}).gs=function(t,e,r){var n,i;return"string"!=typeof t?(i=r,r=e,e=t,t=null):i=arguments[3],a(e)?o(e)?a(r)?o(r)||(i=r,r=void 0):r=void 0:(i=e,e=r=void 0):e=void 0,t=a(t)?(n=l.call(t,"c"),l.call(t,"e")):!(n=!0),e={get:e,set:r,configurable:n,enumerable:t},i?s(u(i),e):e}},function(t,e,r){"use strict";var n=r(320),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;t.exports=function(t){return!!n(t)&&!i.test(o.call(t))}},function(t,e,r){"use strict";var n=r(321);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!n(t)}},function(t,e,r){"use strict";var n=r(322);t.exports=function(t){if(!n(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch(t){return!1}}},function(t,e,r){"use strict";var n=r(151),i={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!n(t)&&hasOwnProperty.call(i,typeof t)}},function(t,e,r){"use strict";t.exports=r(324)()?Object.assign:r(325)},function(t,e,r){"use strict";t.exports=function(){var t=Object.assign;return"function"==typeof t&&(t(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,r){"use strict";var a=r(326),s=r(330),u=Math.max;t.exports=function(e,r){var n,t,i,o=u(arguments.length,2);for(e=Object(s(e)),i=function(t){try{e[t]=r[t]}catch(t){n=n||t}},t=1;t<o;++t)a(r=arguments[t]).forEach(i);if(void 0!==n)throw n;return e}},function(t,e,r){"use strict";t.exports=r(327)()?Object.keys:r(328)},function(t,e,r){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,r){"use strict";var n=r(78),i=Object.keys;t.exports=function(t){return i(n(t)?Object(t):t)}},function(t,e,r){"use strict";t.exports=function(){}},function(t,e,r){"use strict";var n=r(78);t.exports=function(t){if(n(t))return t;throw new TypeError("Cannot use null or undefined")}},function(t,e,r){"use strict";var o=r(78),n=Array.prototype.forEach,a=Object.create;t.exports=function(t){var i=a(null);return n.call(arguments,function(t){if(o(t)){var e,r=Object(t),n=i;for(e in r)n[e]=r[e]}}),i}},function(t,e,r){"use strict";t.exports=r(333)()?String.prototype.contains:r(334)},function(t,e,r){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(t,e,r){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return-1<n.call(this,t,arguments[1])}},function(t,e,r){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(18)),n=i(r(20)),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(21));i(r(149)),i(r(150)),i(r(77));function i(t){return t&&t.__esModule?t:{default:t}}(0,n.default)(s,[{key:"initAction",value:function(t,e){t=new a.extras.AnimatedSprite(t);t.anchor.set(1),t.animationSpeed=.1,t.name=e,t.x=350,t.y=350,t.anchor.set(1),this.container.addChild(t),this[e]=t}},{key:"go",value:function(){this.saizi.visible=!1,this.saizi_move.visible=!0,this.saizi_move.gotoAndPlay(0)}},{key:"to",value:function(t){this.saizi.visible=!0,this.saizi_move.visible=!1,this.saizi_move.stop(0),this.saizi.gotoAndStop(t-1)}}]);r=s;function s(t,e,r){(0,o.default)(this,s),this.stage=t,this.running=!1,this.container=new a.Container,this.container.parentGroup=r.getGroup(3),this.stage.addChild(this.container);var n,i=e.dice.spritesheet.animations;for(n in i)this.initAction(i[n],n);this.to(1)}e.default=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(r(18)),n=i(r(20)),l=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}}(r(21)),r=i(r(77));function i(t){return t&&t.__esModule?t:{default:t}}(0,n.default)(h,[{key:"bind",value:function(){var r=this;this.loader.onProgress.add(function(t,e){r.initAudio(e),r.emit("progress",t,e)}),this.loader.onError.add(function(){}),this.loader.onLoad.add(function(){}),this.loader.onComplete.add(function(t,e){r.emit("complete",t,e)})}},{key:"initAudio",value:function(t){}}]);n=h;function h(t){(0,u.default)(this,h);var e,r,n,i=new l.loaders.Loader,t=t.assets,o=t.images,a=t.audio,s=t.json;for(e in this.loader=i,o)/\.(jpg|png|jpeg|gif)/.test(o[e])&&i.add(e,o[e]);for(r in a)/\.(mp3|ogg)$/.test(a[r].src)&&i.add(r,a[r].src);for(n in s)/\.json$/.test(s[n])&&i.add(n,s[n]);return this.bind(),this.loader.load(),i}e.default=n,(0,r.default)(n.prototype)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(r(18)),n=a(r(20)),o=(function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}}(r(21)),r(339));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){(0,i.default)(this,s);var r,n=t.assets.audio;for(r in n)this[r]=new o.Howl({src:e[r].url,loop:n[r].loop,audoplay:n[r].autoplay});this.play("bgm")}(0,n.default)(s,[{key:"play",value:function(t){this[t].play()}},{key:"stop",value:function(t){this[t].pause()}}]),e.default=s},function(i,d,t){!function(r){var n;!function(){"use strict";function t(){this.init()}function e(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")}t.prototype={init:function(){var t=this||g;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||g;if(t=parseFloat(t),e.ctx||c(),void 0!==t&&0<=t&&t<=1){if(e._volume=t,!e._muted){e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,g.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),i=0;i<n.length;i++){var o=e._howls[r]._soundById(n[i]);o&&o._node&&(o._node.volume=o._volume*t)}}return e}return e._volume},mute:function(t){var e=this||g;e.ctx||c(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,g.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),i=0;i<n.length;i++){var o=e._howls[r]._soundById(n[i]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},stop:function(){for(var t=this||g,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||g,e=t._howls.length-1;0<=e;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||g)._codecs[t.replace(/^x-/,"")]},_setup:function(){var e=this||g;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var t,e,r,n,i=this||g,o=null;try{o="undefined"!=typeof Audio?new Audio:null}catch(t){return i}return o&&"function"==typeof o.canPlayType&&(t=o.canPlayType("audio/mpeg;").replace(/^no$/,""),e=(e=(r=i._navigator?i._navigator.userAgent:"").match(/OPR\/([0-6].)/g))&&parseInt(e[0].split("/")[1],10)<33,n=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),r=r.match(/Version\/(.*?) /),n=n&&r&&parseInt(r[1],10)<15,i._codecs={mp3:!(e||!t&&!o.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!t,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(n||!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(n||!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")}),i},_unlockAudio:function(){var s,u=this||g;if(!u._audioUnlocked&&u.ctx)return u._audioUnlocked=!1,u.autoUnlock=!1,u._mobileUnloaded||44100===u.ctx.sampleRate||(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050),s=function(t){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var e=new Audio;e._unlocked=!0,u._releaseHtml5Audio(e)}catch(t){u.noAudio=!0;break}for(var r=0;r<u._howls.length;r++)if(!u._howls[r]._webAudio)for(var n=u._howls[r]._getSoundIds(),i=0;i<n.length;i++){var o=u._howls[r]._soundById(n[i]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}u._autoResume();var a=u.ctx.createBufferSource();a.buffer=u._scratchBuffer,a.connect(u.ctx.destination),void 0===a.start?a.noteOn(0):a.start(0),"function"==typeof u.ctx.resume&&u.ctx.resume(),a.onended=function(){a.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0),document.removeEventListener("keydown",s,!0);for(var t=0;t<u._howls.length;t++)u._howls[t]._emit("unlock")}},document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),document.addEventListener("keydown",s,!0),u},_obtainHtml5Audio:function(){var t=this||g;return t._html5AudioPool.length?t._html5AudioPool.pop():((t=(new Audio).play())&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio)},_releaseHtml5Audio:function(t){var e=this||g;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&g.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){var t;e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())},e.ctx.suspend().then(t,t))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&g.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var g=new t,o=(e.prototype={init:function(t){var e=this;return g.ctx||c(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=g.usingWebAudio&&!e._html5,void 0!==g.ctx&&g.ctx&&g.autoUnlock&&g._unlockAudio(),g._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(g.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var r,n,i=0;i<t._src.length;i++){if(t._format&&t._format[i])r=t._format[i];else{if("string"!=typeof(n=t._src[i])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=(r=(r=/^data:audio\/([^;,]+);/i.exec(n))||/\.([^.]+)$/.exec(n.split("?",1)[0]))&&r[1].toLowerCase()}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&g.codecs(r)){e=t._src[i];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&s(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,r){var n=this,t=null;if("number"==typeof e)t=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,t=n._sounds[o]._id);1===i?e=null:t=null}}var a,s=t?n._soundById(t):n._inactiveSound();if(!s)return null;if(t&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state)return s._sprite=e,s._ended=!1,a=s._id,n._queue.push({event:"play",action:function(){n.play(a)}}),a;if(t&&!s._paused)return r||n._loadQueue("play"),s._id;n._webAudio&&g._autoResume();var u,l,h,c,d=Math.max(0,0<s._seek?s._seek:n._sprite[e][0]/1e3),f=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),p=1e3*f/Math.abs(s._rate),y=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3,v=(s._sprite=e,s._ended=!1,function(){s._paused=!1,s._seek=d,s._start=y,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])});if(!(_<=d))return u=s._node,n._webAudio?(h=function(){n._playLock=!1,v(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;u.gain.setValueAtTime(t,g.ctx.currentTime),s._playStart=g.ctx.currentTime,void 0===u.bufferSource.start?s._loop?u.bufferSource.noteGrainOn(0,d,86400):u.bufferSource.noteGrainOn(0,d,f):s._loop?u.bufferSource.start(0,d,86400):u.bufferSource.start(0,d,f),p!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),p)),r||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)},"running"===g.state&&"interrupted"!==g.ctx.state?h():(n._playLock=!0,n.once("resume",h),n._clearTimer(s._id))):(l=function(){u.currentTime=d,u.muted=s._muted||n._muted||g._muted||u.muted,u.volume=s._volume*g.volume(),u.playbackRate=s._rate;try{var t=u.play();t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)?(n._playLock=!0,v(),t.then(function(){n._playLock=!1,u._unlocked=!0,r?n._loadQueue():n._emit("play",s._id)}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):r||(n._playLock=!1,v(),n._emit("play",s._id)),u.playbackRate=s._rate,u.paused?n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."):"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),p):(n._endTimers[s._id]=function(){n._ended(s),u.removeEventListener("ended",n._endTimers[s._id],!1)},u.addEventListener("ended",n._endTimers[s._id],!1))}catch(t){n._emit("playerror",s._id,t)}},"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===u.src&&(u.src=n._src,u.load()),h=window&&window.ejecta||!u.readyState&&g._navigator.isCocoonJS,3<=u.readyState||h?l():(n._playLock=!0,n._state="loading",c=function(){n._state="loaded",l(),u.removeEventListener(g._canPlayEvent,c,!1)},u.addEventListener(g._canPlayEvent,c,!1),n._clearTimer(s._id))),s._id;n._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)e._queue.push({event:"pause",action:function(){e.pause(t)}});else for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var i=e._soundById(r[n]);if(i&&!i._paused&&(i._seek=e.seek(r[n]),i._rateSeek=0,i._paused=!0,e._stopFade(r[n]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)r._queue.push({event:"stop",action:function(){r.stop(t)}});else for(var n=r._getSoundIds(t),i=0;i<n.length;i++){r._clearTimer(n[i]);var o=r._soundById(n[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(n[i]),o._node&&(r._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)r._queue.push({event:"mute",action:function(){r.mute(t,e)}});else{if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var n=r._getSoundIds(e),i=0;i<n.length;i++){var o=r._soundById(n[i]);o&&(o._muted=t,o._interval&&r._stopFade(o._id),r._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,g.ctx.currentTime):o._node&&(o._node.muted=!!g._muted||t),r._emit("mute",o._id))}}return r},volume:function(){var t,e,r=this,n=arguments;if(0===n.length)return r._volume;if(1===n.length||2===n.length&&void 0===n[1]?0<=r._getSoundIds().indexOf(n[0])?i=parseInt(n[0],10):t=parseFloat(n[0]):2<=n.length&&(t=parseFloat(n[0]),i=parseInt(n[1],10)),!(void 0!==t&&0<=t&&t<=1))return(e=i?r._soundById(i):r._sounds[0])?e._volume:0;if("loaded"!==r._state||r._playLock)r._queue.push({event:"volume",action:function(){r.volume.apply(r,n)}});else{void 0===i&&(r._volume=t);for(var i=r._getSoundIds(i),o=0;o<i.length;o++)(e=r._soundById(i[o]))&&(e._volume=t,n[2]||r._stopFade(i[o]),r._webAudio&&e._node&&!e._muted?e._node.gain.setValueAtTime(t,g.ctx.currentTime):e._node&&!e._muted&&(e._node.volume=t*g.volume()),r._emit("volume",e._id))}return r},fade:function(t,e,r,n){var i=this;if("loaded"!==i._state||i._playLock)i._queue.push({event:"fade",action:function(){i.fade(t,e,r,n)}});else{t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),r=parseFloat(r),i.volume(t,n);for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var s,u,l=i._soundById(o[a]);l&&(n||i._stopFade(o[a]),i._webAudio&&!l._muted&&(u=(s=g.ctx.currentTime)+r/1e3,l._volume=t,l._node.gain.setValueAtTime(t,s),l._node.gain.linearRampToValueAtTime(e,u)),i._startFadeInterval(l,t,e,r,o[a],void 0===n))}}return i},_startFadeInterval:function(e,r,n,i,t,o){var a=this,s=r,u=n-r,l=Math.abs(u/.01),l=Math.max(4,0<l?i/l:i),h=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var t=(Date.now()-h)/i;h=Date.now(),s+=u*t,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<r&&s<=n||r<n&&n<=s)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},l)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(g.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,r,n=this,i=arguments;if(0===i.length)return n._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(r=n._soundById(parseInt(i[0],10)))&&r._loop;n._loop=t=i[0]}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var o=n._getSoundIds(e),a=0;a<o.length;a++)(r=n._soundById(o[a]))&&(r._loop=t,n._webAudio)&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t)&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,n.playing(o[a]))&&(n.pause(o[a],!0),n.play(o[a],!0));return n},rate:function(){var t,e=this,r=arguments;if(0===r.length?o=e._sounds[0]._id:1===r.length?0<=e._getSoundIds().indexOf(r[0])?o=parseInt(r[0],10):t=parseFloat(r[0]):2===r.length&&(t=parseFloat(r[0]),o=parseInt(r[1],10)),"number"!=typeof t)return((i=e._soundById(o))||e)._rate;if("loaded"!==e._state||e._playLock)e._queue.push({event:"rate",action:function(){e.rate.apply(e,r)}});else{void 0===o&&(e._rate=t);for(var n,i,o=e._getSoundIds(o),a=0;a<o.length;a++)(i=e._soundById(o[a]))&&(e.playing(o[a])&&(i._rateSeek=e.seek(o[a]),i._playStart=e._webAudio?g.ctx.currentTime:i._playStart),i._rate=t,e._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,g.ctx.currentTime):i._node&&(i._node.playbackRate=t),n=e.seek(o[a]),n=1e3*((e._sprite[i._sprite][0]+e._sprite[i._sprite][1])/1e3-n)/Math.abs(i._rate),!e._endTimers[o[a]]&&i._paused||(e._clearTimer(o[a]),e._endTimers[o[a]]=setTimeout(e._ended.bind(e,i),n)),e._emit("rate",i._id))}return e},seek:function(){var t,e,r=this,n=arguments;if(0===n.length?r._sounds.length&&(e=r._sounds[0]._id):1===n.length?0<=r._getSoundIds().indexOf(n[0])?e=parseInt(n[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(n[0])):2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10)),void 0===e)return 0;if("number"!=typeof t||"loaded"===r._state&&!r._playLock){var i,o,a,s,u,l=r._soundById(e);if(l){if(!("number"==typeof t&&0<=t))return r._webAudio?(s=r.playing(e)?g.ctx.currentTime-l._playStart:0,u=l._rateSeek?l._rateSeek-l._seek:0,l._seek+(u+s*Math.abs(l._rate))):l._node.currentTime;(i=r.playing(e))&&r.pause(e,!0),l._seek=t,l._ended=!1,r._clearTimer(e),r._webAudio||!l._node||isNaN(l._node.duration)||(l._node.currentTime=t),o=function(){i&&r.play(e,!0),r._emit("seek",e)},i&&!r._webAudio?(a=function(){r._playLock?setTimeout(a,0):o()},setTimeout(a,0)):o()}}else r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}});return r},playing:function(t){if("number"==typeof t)return!!(t=this._soundById(t))&&!t._paused;for(var e=0;e<this._sounds.length;e++)if(!this._sounds[e]._paused)return!0;return!1},duration:function(t){var e=this._duration,t=this._soundById(t);return e=t?this._sprite[t._sprite][1]/1e3:e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(g._canPlayEvent,e[r]._loadFn,!1),e[r]._node.removeEventListener("ended",e[r]._endFn,!1),g._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);for(var n=g._howls.indexOf(t),i=(0<=n&&g._howls.splice(n,1),!0),r=0;r<g._howls.length;r++)if(g._howls[r]._src===t._src||0<=t._src.indexOf(g._howls[r]._src)){i=!1;break}return a&&i&&delete a[t._src],g.noAudio=!1,t._state="unloaded",t._sounds=[],t=null},on:function(t,e,r,n){t=this["_on"+t];return"function"==typeof e&&t.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),this},off:function(t,e,r){var n=this["_on"+t],i=0;if("number"==typeof e&&(r=e,e=null),e||r)for(i=0;i<n.length;i++){var o=r===n[i].id;if(e===n[i].fn&&o||!e&&o){n.splice(i,1);break}}else if(t)this["_on"+t]=[];else for(var a=Object.keys(this),i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[]);return this},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var n=this["_on"+t],i=n.length-1;0<=i;i--)n[i].id&&n[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(this,n[i].fn),0),n[i].once&&this.off(t,n[i].fn,n[i].id));return this._loadQueue(t),this},_loadQueue:function(t){var e;return 0<this._queue.length&&((e=this._queue[0]).event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()),this},_ended:function(t){var e,r=this,n=t._sprite;return!r._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop?setTimeout(r._ended.bind(r,t),100):(n=!(!t._loop&&!r._sprite[n][2]),r._emit("end",t._id),!r._webAudio&&n&&r.stop(t._id,!0).play(t._id),r._webAudio&&n&&(r._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=g.ctx.currentTime,e=1e3*(t._stop-t._start)/Math.abs(t._rate),r._endTimers[t._id]=setTimeout(r._ended.bind(r,t),e)),r._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,r._clearTimer(t._id),r._cleanBuffer(t._node),g._autoSuspend()),r._webAudio||n||r.stop(t._id,!0)),r},_clearTimer:function(t){var e;return this._endTimers[t]&&("function"!=typeof this._endTimers[t]?clearTimeout(this._endTimers[t]):(e=this._soundById(t))&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1),delete this._endTimers[t]),this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new o(this)},_drain:function(){var t=this,e=t._pool,r=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&r++;for(n=t._sounds.length-1;0<=n;n--){if(r<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),r--)}}},_getSoundIds:function(t){if(void 0!==t)return[t];for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e},_refreshBuffer:function(t){return t._node.bufferSource=g.ctx.createBufferSource(),t._node.bufferSource.buffer=a[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,g.ctx.currentTime),this},_cleanBuffer:function(t){var e=g._navigator&&0<=g._navigator.vendor.indexOf("Apple");if(g._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=g._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(g._navigator&&g._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},function(t){this._parent=t,this.init()}),a=(o.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++g._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,r=g._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===g.ctx.createGain?g.ctx.createGainNode():g.ctx.createGain(),t._node.gain.setValueAtTime(r,g.ctx.currentTime),t._node.paused=!0,t._node.connect(g.masterGain)):g.noAudio||(t._node=g._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(g._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?"auto":e._preload,t._node.volume=r*g.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++g._counter,t},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(g._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this._parent;t._duration===1/0&&(t._duration=Math.ceil(10*this._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}},{}),s=function(e){var t=e._src;if(a[t])e._duration=a[t].duration,h(e);else if(/^data:[^;]+;base64,/.test(t)){for(var r=atob(t.split(",")[1]),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);l(n.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){o.setRequestHeader(t,e._xhr.headers[t])}),o.onload=function(){var t=(o.status+"")[0];"0"!==t&&"2"!==t&&"3"!==t?e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+"."):l(o.response,e)},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},u(o)}},u=function(e){try{e.send()}catch(t){e.onerror()}},l=function(t,e){function r(){e._emit("loaderror",null,"Decoding audio data failed.")}function n(t){t&&0<e._sounds.length?(a[e._src]=t,h(e,t)):r()}"undefined"!=typeof Promise&&1===g.ctx.decodeAudioData.length?g.ctx.decodeAudioData(t).then(n).catch(r):g.ctx.decodeAudioData(t,n,r)},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){if(g.usingWebAudio){try{"undefined"!=typeof AudioContext?g.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?g.ctx=new webkitAudioContext:g.usingWebAudio=!1}catch(t){g.usingWebAudio=!1}g.ctx||(g.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(g._navigator&&g._navigator.platform),e=g._navigator&&g._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=e?parseInt(e[1],10):null;t&&e&&e<9&&(t=/safari/.test(g._navigator&&g._navigator.userAgent.toLowerCase()),g._navigator)&&!t&&(g.usingWebAudio=!1),g.usingWebAudio&&(g.masterGain=void 0===g.ctx.createGain?g.ctx.createGainNode():g.ctx.createGain(),g.masterGain.gain.setValueAtTime(g._muted?0:g._volume,g.ctx.currentTime),g.masterGain.connect(g.ctx.destination)),g._setup()}};void 0!==(n=function(){return{Howler:g,Howl:e}}.apply(d,[]))&&(i.exports=n),d.Howler=g,d.Howl=e,void 0!==r?(r.HowlerGlobal=t,r.Howler=g,r.Howl=e,r.Sound=o):"undefined"!=typeof window&&(window.HowlerGlobal=t,window.Howler=g,window.Howl=e,window.Sound=o)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(this.ctx&&this.ctx.listener)for(var e=this._howls.length-1;0<=e;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,r){var n=this;if(n.ctx&&n.ctx.listener){if(e="number"!=typeof e?n._pos[1]:e,r="number"!=typeof r?n._pos[2]:r,"number"!=typeof t)return n._pos;n._pos=[t,e,r],void 0!==n.ctx.listener.positionX?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2])}return n},HowlerGlobal.prototype.orientation=function(t,e,r,n,i,o){var a=this;if(a.ctx&&a.ctx.listener){var s=a._orientation;if(e="number"!=typeof e?s[1]:e,r="number"!=typeof r?s[2]:r,n="number"!=typeof n?s[3]:n,i="number"!=typeof i?s[4]:i,o="number"!=typeof o?s[5]:o,"number"!=typeof t)return s;a._orientation=[t,e,r,n,i,o],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,r,n,i,o)}return a},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(t,e){var r=this;if(r._webAudio)if("loaded"!==r._state)r._queue.push({event:"stereo",action:function(){r.stereo(t,e)}});else{var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===e){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(e),o=0;o<i.length;o++){var a=r._soundById(i[o]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||l(a,n),"spatial"==n?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",a._id)}}}return r},Howl.prototype.pos=function(t,e,r,n){var i=this;if(i._webAudio)if("loaded"!==i._state)i._queue.push({event:"pos",action:function(){i.pos(t,e,r,n)}});else{if(e="number"!=typeof e?0:e,r="number"!=typeof r?-.5:r,void 0===n){if("number"!=typeof t)return i._pos;i._pos=[t,e,r]}for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var s=i._soundById(o[a]);if(s){if("number"!=typeof t)return s._pos;s._pos=[t,e,r],s._node&&(s._panner&&!s._panner.pan||l(s,"spatial"),void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):s._panner.setPosition(t,e,r)),i._emit("pos",s._id)}}}return i},Howl.prototype.orientation=function(t,e,r,n){var i=this;if(i._webAudio)if("loaded"!==i._state)i._queue.push({event:"orientation",action:function(){i.orientation(t,e,r,n)}});else{if(e="number"!=typeof e?i._orientation[1]:e,r="number"!=typeof r?i._orientation[2]:r,void 0===n){if("number"!=typeof t)return i._orientation;i._orientation=[t,e,r]}for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var s=i._soundById(o[a]);if(s){if("number"!=typeof t)return s._orientation;s._orientation=[t,e,r],s._node&&(s._panner||(s._pos||(s._pos=i._pos||[0,0,-.5]),l(s,"spatial")),void 0!==s._panner.orientationX?(s._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(e,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):s._panner.setOrientation(t,e,r)),i._emit("orientation",s._id)}}}return i},Howl.prototype.pannerAttr=function(){var t,e,r=this,n=arguments;if(r._webAudio){if(0===n.length)return r._pannerAttr;if(1===n.length){if("object"!=typeof n[0])return((a=r._soundById(parseInt(n[0],10)))||r)._pannerAttr;t=n[0],void 0===e&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var i,o,a,s=r._getSoundIds(e),u=0;u<s.length;u++)(a=r._soundById(s[u]))&&(i=a._pannerAttr,i={coneInnerAngle:(void 0!==t.coneInnerAngle?t:i).coneInnerAngle,coneOuterAngle:(void 0!==t.coneOuterAngle?t:i).coneOuterAngle,coneOuterGain:(void 0!==t.coneOuterGain?t:i).coneOuterGain,distanceModel:(void 0!==t.distanceModel?t:i).distanceModel,maxDistance:(void 0!==t.maxDistance?t:i).maxDistance,refDistance:(void 0!==t.refDistance?t:i).refDistance,rolloffFactor:(void 0!==t.rolloffFactor?t:i).rolloffFactor,panningModel:(void 0!==t.panningModel?t:i).panningModel},(o=a._panner)?(o.coneInnerAngle=i.coneInnerAngle,o.coneOuterAngle=i.coneOuterAngle,o.coneOuterGain=i.coneOuterGain,o.distanceModel=i.distanceModel,o.maxDistance=i.maxDistance,o.refDistance=i.refDistance,o.rolloffFactor=i.rolloffFactor,o.panningModel=i.panningModel):(a._pos||(a._pos=r._pos||[0,0,-.5]),l(a,"spatial")))}return r},Sound.prototype.init=(r=Sound.prototype.init,function(){var t=this,e=t._parent;t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,r.call(this),t._stereo?e.stereo(t._stereo):t._pos&&e.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}),Sound.prototype.reset=(n=Sound.prototype.reset,function(){var t=this,e=t._parent;return t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,t._stereo?e.stereo(t._stereo):t._pos?e.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,e._refreshBuffer(t)),n.call(this)});var e,r,n,l=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}.call(d,t(29))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(341),n=(n=n)&&n.__esModule?n:{default:n};r(342),e.default=n.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n<div class="container">\n    <div class="car">Hei Siri</div>\n</div>\n'},function(t,e,r){var n=r(343),i=("string"==typeof n&&(n=[[t.i,n,""]]),{hmr:!0});i.transform=void 0,r(345)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(344)(!1)).push([t.i,".container {\n  width: 750px;\n  background-color: #FFAA00;\n  font-size: 32px;\n}\n",""])},function(t,e){t.exports=function(r){var a=[];return a.toString=function(){return this.map(function(t){var e=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa)return t=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),e=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}),[r].concat(e).concat([t]).join("\n");return[r].join("\n")}(t,r);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},a.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(r[i]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&r[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),a.push(o))}},a}},function(t,e,r){var n,i,o,u={},l=(n=function(){return window&&document&&document.all&&!window.atob},function(){return i=void 0===i?n.apply(this,arguments):i}),a=(o={},function(t){if(void 0===o[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}o[t]=e}return o[t]}),s=null,h=0,c=[],d=r(346);function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=u[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(m(n.parts[o],e))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(m(n.parts[o],e));u[n.id]={id:n.id,refs:1,parts:a}}}}function p(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],o={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(o):r.push(n[a]={id:a,parts:[o]})}return r}function y(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),c.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");n=a(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,n)}}function _(t){null!==t.parentNode&&(t.parentNode.removeChild(t),0<=(t=c.indexOf(t)))&&c.splice(t,1)}function v(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),y(t,e),e}function g(e,r){Object.keys(r).forEach(function(t){e.setAttribute(t,r[t])})}function m(e,t){var r,n,i,o,a;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}return i=t.singleton?(o=h++,r=s=s||v(t),n=T.bind(null,r,o,!1),T.bind(null,r,o,!0)):e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=t,a=document.createElement("link"),o.attrs.type="text/css",o.attrs.rel="stylesheet",g(a,o.attrs),y(o,a),r=a,n=function(t,e,r){var n=r.css,r=r.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(n=d(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");e=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(e),i&&URL.revokeObjectURL(i)}.bind(null,r,t),function(){_(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=function(t,e){var r=e.css,e=e.media;e&&t.setAttribute("media",e);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),function(){_(r)}),n(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||n(e=t):i()}}t.exports=function(t,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=l()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=p(t,a);return f(s,a),function(t){for(var e=[],r=0;r<s.length;r++){var n=s[r];(i=u[n.id]).refs--,e.push(i)}t&&f(p(t,a),a);for(var i,r=0;r<e.length;r++)if(0===(i=e[r]).refs){for(var o=0;o<i.parts.length;o++)i.parts[o]();delete u[i.id]}}};b=[];var b,x=function(t,e){return b[t]=e,b.filter(Boolean).join("\n")};function T(t,e,r,n){var r=r?"":n.css;t.styleSheet?t.styleSheet.cssText=x(e,r):(n=document.createTextNode(r),(r=t.childNodes)[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n))}},function(t,e){t.exports=function(t){var r,n,e="undefined"!=typeof window&&window.location;if(e)return t&&"string"==typeof t?(r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/"),t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){e=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(e)?t:(t=0===e.indexOf("//")?e:0===e.indexOf("/")?r+e:n+e.replace(/^\.\//,""),"url("+JSON.stringify(t)+")")})):t;throw new Error("fixUrls requires window.location")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(148)),i=o(r(43));e.setUpConfig=function(){var r=a.alias+"_CONFIG";return window[r]?new i.default(function(t,e){(0,n.default)(a,window[r]),t(a)}):i.default.reject("缺少必要的 "+r+" <游戏参数>配置")},e.setConfig=function(t,e){a[t]=e},e.getConfig=function(t){return t?a[t]:a};!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}}(r(152));function o(t){return t&&t.__esModule?t:{default:t}}var a={}},function(t,e,r){t.exports={default:r(349),__esModule:!0}},function(t,e,r){var r=r(8),n=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,r=r(43),o=(r=r)&&r.__esModule?r:{default:r};function a(t){var e=(t="string"==typeof t?{url:t}:t).id||t.url,r=n[e];if(r)return console.log("load-js: s hit",e),r;if(!1!==t.allowExternal){var r=function(t){var e=t&&document.getElementById(t);if(e&&"watermark"!==e.loadJS)return console.warn("load-js: duplicate script with id:",t),e}(t.id)||function(t){var e=t&&document.querySelector("script[src='"+t+"']");if(e&&"watermark"!==e.loadJS)return console.warn("load-js: duplicate script with url:",t),e}(t.url);if(r)return r=o.default.resolve(r),e&&(n[e]=r),r}if(t.url||t.text)return r=(t.url?u:s)(i,function(t){var e=document.createElement("script");e.charset=t.charset||"utf-8",e.type=t.type||"text/javascript",e.async=!!t.async,e.id=t.id||t.url,e.loadJS="watermark",t.url&&(e.src=t.url);t.text&&(e.text=t.text);return e}(t)),e&&!1!==t.cache&&(n[e]=r),r;throw new Error("load-js: must provide a url or text to load")}function s(t,e){return t.appendChild(e),o.default.resolve(e)}function u(n,i){return new o.default(function(t,e){var r=!1;i.onload=i.onreadystatechange=function(){r||i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(r=!0,i.onload=i.onreadystatechange=null,t(i))},i.onerror=e,n.appendChild(i)})}e.default=(n={},i=document.getElementsByTagName("head")[0]||document.documentElement,function(t){return t instanceof Array?o.default.all(t.map(a)):a(t)})}],i={},n.m=r,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=153);function n(t){var e;return(i[t]||(e=i[t]={i:t,l:!1,exports:{}},r[t].call(e.exports,e,e.exports,n),e.l=!0,e)).exports}var r,i});
//# sourceMappingURL=index.js.map